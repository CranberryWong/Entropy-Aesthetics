/*! (c) 2014 SANKEI DIGITAL INC.
 *  URL: http://www.sankei-digital.co.jp/
 *  name: 株式会社産経デジタル　共通ライブラリ - 基本
 *  Date: 2017.12.12
 *  version: 1.0.22
 *  note: SKD共通ライブラリ全体でjQuery-1.11+、Modernizr に依存する処理あり
 *  license: 著作権者の許可なく、改変・複製・商用利用・再配布等の行為を禁じる。
 *
*/
window.SKD||(function(t){var e=function(t,e){return(null===e[t]||"object"!=typeof e[t]||"object"==typeof e[t]&&"length"in e[t])&&(e[t]={}),e[t]},n=function(t,i){if("array"===$.type(t))for(var r=0,o=t.length;r<o;++r)e(t[r],i);else"object"===$.type(t)&&$.each(t,function(t,r){var o=e(t,i);n(r,o)})},i=e("SKD",t);n({status:["enabled","device","screenSize","windowSize","direction","scroll"],event:["regResizeEvent","regAppearEvent"],imports:["cookie","regexSelector","json2","regXml2jso","accordion"],shape:["zeroPadding","zeroSuppress","recnstDate","shuffleArray","makeQuery","makeFragment","cutLength","parseUrl","absoluteUrl"],convert:["escHTML","unescHTML","decodeUrl"],manipulate:["getScriptParams","storage","makeRandom","sponsored"],loader:["html","image","controller"],smpApp:["init","refresh","createBox","getBox","showBox","hideBox","getStatus","cacheKey","settingKey"],util:["nameSpace","pageKey","disBrowsNotification"]},i),e("$SKD",t)}(window),SKD.VERSION="1.0.22",function(t){var e;t.enabled=(e={js:function(){$("html").removeClass("no-js")}},void $.each(e,function(t,e){"function"==typeof e&&e()})),t.device=function(){var t=""+navigator.userAgent.toLowerCase(),e=$("html"),n=/[^a-z](?:iPhone|iPod)[^a-z]/i.test(t),i=/[^a-z](?:iPad)[^a-z]/i.test(t),r=/[^a-z]android[^a-z]/i.test(t),o=/[^a-z]Windows Phone OS[^a-z]/i.test(t),a=/[^a-z]Windows Phone [891][0-9.]*/i.test(t),s=/[^a-z]Tizen[^a-z]/i.test(t),l=/[^a-z]Silk[^a-z]/i.test(t),c=/[^a-z] AmazonWebAppPlatform[^a-z]/i.test(t),p=/[^a-z]BlackBerry; U;[^a-z]/i.test(t),u=/[^a-z](?:mobile[^a-z]|mobi\/|mini\/)/i.test(t),h={iPhone:n,iPad:i,Android:r&&u,AndroidTab:r&&!u,WindowsPhoneOld:o,WindowsPhone:a,Tizen:s,Kindle:l||c,BlackBerry:p,Other:!(n||i||r||o||a||s||p),skApp:/[^a-z](sankei_news_ios|sankei_news_android)/i.test(t)},d={iOS:n||i,Android:r,WindowsPhone:o||a,Tizen:s,BlackBerry:p,Mobile:!h.Other,Other:h.Other},f=[],m=function(t,e){e&&f.push(("device-"+t).toLowerCase())};$.each(h,m),$.each(d,m),e.addClass(f.join(" "));var g,y=null;d.Android?y=(g=t.match(/[^a-z]android[^a-z]([0-9.]+)[^0-9.]/i))?g[1]:0:d.iOS?y=(y=(g=t.match(/[^a-z]OS[^a-z]([0-9_]+)[^a-z]/i))?g[1]:0).replace(/_/g,"."):d.WindowsPhone?y=(g=t.match(/[^a-z]Windows Phone(?:\sOS)?[^a-z]([0-9.]+)[^0-9.]/i))?g[1]:0:d.BlackBerry&&(y=(g=t.match(/Version\/([0-9.]+)\s/i))?g[1]:0);var v,S={ie:!!document.documentMode&&(document.documentMode<=7?7:document.documentMode),edge:/[^a-z]Edge/i.test(t),firefox:/[^a-z]Firefox/i.test(t),chrome:(/[^a-z]Chrome/i.test(t)||/[^a-z]CriOS/i.test(t))&&!/[^a-z]Edge/i.test(t),safari:/[^a-z]Safari/i.test(t)&&!/[^a-z]Chrome/i.test(t)&&!/[^a-z]Edge/i.test(t),opera:/[^a-z]Opera/i.test(t),webkit:/[^a-z]AppleWebKit\/\d.+Gecko[^a-z]+Version\/\d/i.test(t)&&!/[^a-z]Edge/i.test(t)},b=null;return S.ie?b=S.ie:S.edge?b=(v=t.match(/[^a-z]Edge\/([0-9.]+)/i))?v[1]:0:S.firefox?b=(v=t.match(/[^a-z]Firefox\/([0-9.]+)[^0-9.]?/i))?v[1]:0:S.chrome?b=(v=t.match(/[^a-z]Chrome\/([0-9.]+)[^0-9.]/i)||t.match(/[^a-z]CriOS\/([0-9.]+)[^0-9.]/i))?v[1]:0:S.opera&&(b=(v=t.match(/[^a-z]Version\/([0-9.]+)/i))?v[1]:0),null==b&&(b=(v=t.match(/[^a-z]Safari\/([0-9.]+)/i))?v[1]:(v=t.match(/[^a-z]AppleWebKit\/([0-9.]+)[^0-9.]/i))?v[1]:0),S.version=b,{os:d,type:h,version:y,browser:S}}(),$SKD.os=SKD.status.device.os,$SKD.type=SKD.status.device.type,$SKD.version=SKD.status.device.version,$SKD.browser=SKD.status.device.browser,t.screenSize=function(){$SKD.screenWidth=0,$SKD.screenHeight=0;var t=function(){$SKD.screenWidth=screen.width,$SKD.screenHeight=screen.height};t(),$(function(){$SKD.resize(t)})}(),t.windowSize=function(){$SKD.windowWidth=0,$SKD.windowHeight=0;var t=function(){$SKD.os.iOS?($SKD.windowWidth=window.innerWidth,$SKD.windowHeight=window.innerHeight):($SKD.windowWidth=document.documentElement.clientWidth||document.body.clientWidth||document.body.scrollWidth,$SKD.windowHeight=document.documentElement.clientHeight||document.body.clientHeight||document.body.scrollHeight)};t(),$(window).on("load",function(){t()}),$(function(){$SKD.resize(t)})}(),t.direction=function(){$SKD.direction="portrait";var t=function(){var t;if($SKD.os.Other)t=$(window).width()>=$(window).height()?"landscape":"portrait";else if(window.orientation)switch(window.orientation){case 0:case 180:t="portrait";break;case 90:case-90:t="landscape"}$SKD.direction=t};$(function(){t(),$SKD.resize(t)})}(),t.scroll=function(t){var e,n,i,r={tick:5,start:0,end:!1,fromBottom:!1,countInterval:3,stopInterval:400,delay:0,moveClass:"moveScroll",stopClass:"stopScroll",onSwitch:null},o=0,a=$("body"),s=function(){var t,e,n,r=$.Deferred(),o=document.documentElement.scrollTop||document.body.scrollTop,s=(t=o,e=i.start,n=i.end,i.fromBottom&&"number"===$.type(n)&&(n=$(document).height()-n),t>=e&&t<=n||t>=e&&!n);return a.removeClass(i.moveClass).addClass(i.stopClass),setTimeout(function(){var t;a.attr("data-scroll-y",(t=o,Math.floor(t/i.tick)*i.tick)),a.attr("data-scroll-threshold",s),r.resolve(s,o)},i.delay),r.promise()};i=t&&"object"===$.type(t)?$.extend({},r,t):$.extend({},r),"number"!==$.type(i.start)&&(i.start=0),("number"===$.type(i.end)&&i.end<i.start||"number"!==$.type(i.end)&&!1!==i.end)&&(i.end=!1),s().then(function(t){e=t});var l=function(){o||a.removeClass(i.stopClass).addClass(i.moveClass),o&&o%i.countInterval!=0||(!1!==n&&clearTimeout(n),n=setTimeout(function(){o=0,s().then(function(t,n){e!==t&&("function"===$.type(i.onSwitch)&&i.onSwitch(t,n),e=t)})},i.stopInterval)),++o};$(window).on("scroll",function(){l()}),$SKD.resize(l)},$SKD.scrollStatus=SKD.status.scroll}(SKD.status),function(t){t.regResizeEvent=function(e,n){if(t.regResizeEvent.queue=[],arguments.length>0){var i=300;if(!e||"function"!==$.type(e))return;if(n&&"number"===$.type(n)&&(i=n),$SKD.os.iOS)$(window).on("orientationchange",function(){e()});else if($SKD.os.Android){var r=s=$(window).height()>$(window).width(),o=0;$(window).on("resize",function(){o++||(s=$(window).height()>$(window).width(),r!==s&&(r=s,e()),o=0)})}else if($SKD.browser.ie&&$SKD.browser.ie<=8){var a=function(){return{w:document.documentElement.clientWidth||document.body.clientWidth||document.body.scrollWidth,h:document.documentElement.clientHeight||document.body.clientHeight||document.body.scrollHeight}},s=(r=a(),{w:0,h:0});o=0;setInterval(function(){o++||(s=a(),r.w===s.w&&r.h===s.h||(r=s,e()),o=0)},100)}else{o=null;$(window).on("resize",function(){clearTimeout(o),o=setTimeout(function(){e()},i)})}arguments.callee.queue.push(e)}else for(var l=0,c=arguments.callee.queue.length;l<c;++l)arguments.callee.queue[l]()},$SKD.resize=SKD.event.regResizeEvent,t.regAppearEvent=function(t,e){var n={type:"fragment",repeat:[null,null],execOver:!1,execOnload:!1,threshold:320,callback:[function(){},function(){}]},i=$(window),r=window.innerHeight?window.innerHeight:i.height(),o=function(t,e){if("fragment"===t){if(e[0]>=0&&e[0]<=r&&e[1]>r||e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=r||e[0]<0&&e[1]>=0&&e[1]<=r)return!0}else if("overall"===t){if(e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=r)return!0}else if("half"===t&&(e[0]>=0&&e[0]<=r&&e[1]>r&&e[2]>=0&&e[2]<=r||e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=r&&e[2]>=0&&e[2]<=r||e[0]<0&&e[1]>=0&&e[1]<=r&&e[2]>=0&&e[2]<=r))return!0;return!1},a=function(t,e){if(e&&"object"===$.type(e)||(e={}),this.options=$.extend({},n,e),this.target=t.jquery?t:$(t),this.target&&!(this.target.length<=0)&&this.options.callback){$.isArray(this.options.callback)||(this.options.callback=[this.options.callback]);for(var i=0;i<this.options.callback.length;++i)if("function"!==$.type(this.options.callback[i]))return;$.isArray(this.options.repeat)||(this.options.repeat=[this.options.repeat]),this.counter=[0,0],this.data={elm:null,height:null,status:null},this.register()}};return a.prototype.register=function(){var t=this;t.data.elm=t.target.get(0),t.data.height=t.target.outerHeight();var e,n,a=t.data.elm.getBoundingClientRect();t.data.status=o(t.options.type,[a.top,a.bottom,(a.top+a.bottom)/2]);var s=function(){r=window.innerHeight?window.innerHeight:i.height(),e=t.data.elm.getBoundingClientRect(),n=o(t.options.type,[e.top,e.bottom,(e.top+e.bottom)/2]),(!t.options.execOver||"fragment"===t.options.type&&e.top>=r-t.options.threshold||"overall"===t.options.type&&e.bottom>=r-t.options.threshold||"half"===t.options.type&&(e.top+e.bottom)/2>=r-t.options.threshold)&&(t.data.status!==n||t.options.execOnload)&&(t.options.execOnload&&(t.options.execOnload=!1),n&&(!t.options.repeat[0]||t.counter[0]<t.options.repeat[0])?(++t.counter[0],t.options.callback[0](n)):!n&&t.options.callback[1]&&(!t.options.repeat[1]||t.counter[1]<t.options.repeat[1])&&(++t.counter[1],t.options.callback[1](n)),t.data.status=n)};i.scroll(function(){s()}),s()},new a(t,e)},$SKD.regAppearEvent=SKD.event.regAppearEvent}(SKD.event),function(spec){var Rb,Fc,Hc,Dc,Ec,hd,id,md;$.ex=$.ex||{},$.ex.api=function(t){var e=(t=$(t))[0];for(var n in e)!function(n){$.isFunction(e[n])&&(t[n]=/^get[^a-z]/.test(n)?function(){return e[n].apply(e,arguments)}:function(){var e=arguments;return t.each(function(i){var r=t[i];r[n].apply(r,e)}),t})}(n);return t},spec.cookie=(
/*!
		 * jQuery Cookie Plugin v1.4.1
		 * https://github.com/carhartl/jquery-cookie
		 *
		 * Copyright 2006, 2014 Klaus Hartl
		 * Released under the MIT license
		 */
Rb=function(t){var e=/\+/g;function n(t){return r.raw?t:encodeURIComponent(t)}function i(n,i){var o=r.raw?n:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(e," ")),r.json?JSON.parse(t):t}catch(t){}}(n);return t.isFunction(i)?i(o):o}var r=t.cookie=function(e,o,a){if(arguments.length>1&&!t.isFunction(o)){if("number"==typeof(a=t.extend({},r.defaults,a)).expires){var s=a.expires,l=a.expires=new Date;l.setTime(+l+864e5*s)}return document.cookie=[n(e),"=",(c=o,n(r.json?JSON.stringify(c):String(c))),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var c,p,u=e?void 0:{},h=document.cookie?document.cookie.split("; "):[],d=0,f=h.length;d<f;d++){var m=h[d].split("="),g=(p=m.shift(),r.raw?p:decodeURIComponent(p)),y=m.join("=");if(e&&e===g){u=i(y,o);break}e||void 0===(y=i(y))||(u[g]=y)}return u};r.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}},void("function"==typeof define&&define.amd?define(["jquery"],Rb):"object"==typeof exports?Rb(require("jquery")):Rb(jQuery))),spec.regexSelector=
/*!
		 * Regex Selector for jQuery
		 * http://james.padolsey.com/javascript/regex-selector-for-jquery/
		 */
void($.expr[":"].regex=function(t,e,n){var i=n[3].split(","),r=/^(data|css):/,o={method:i[0].match(r)?i[0].split(":")[0]:"attr",property:i.shift().replace(r,"")};return new RegExp(i.join("").replace(/^\s+|\s+$/g,""),"ig").test($(t)[o.method](o.property))}),spec.json2=function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}var cx,escapable,gap,indent,meta,rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,r,o,a,s=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;n<o;n+=1)a[n]=str(n,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(r=str(i=rep[n],l))&&a.push(quote(i)+(gap?": ":":")+r);else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l))&&a.push(quote(i)+(gap?": ":":")+r);return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(void 0!==(i=walk(r,n))?r[n]=i:delete r[n]);return reviver.call(t,e,r)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}(),spec.regXml2jso=(Dc=[],Fc=new RegExp("^[\\u0000-\\u0020]+?$"),Hc=function(t,e,n,i){try{"object"==typeof i?i[e]?(void 0===t[e]&&(t[e]=[]),t[e][t[e].length]=n):t[e]=n:1==i?t[e]=n:void 0===t[e]?t[e]=n:"object"==typeof t[e]&&t[e]instanceof Array?t[e][t[e].length]=n:t[e]=[t[e],n]}catch(t){throw new Error("[add node error] "+t.message)}},Ec=function(t,e){var n,i,r={};try{return t?(i=function(t){try{if(void 0===t)return!1;if("boolean"==typeof t)return t;if("string"==typeof t&&(t=[t]),"object"==typeof t&&t.constructor==Dc.constructor){var e=t.length;if(e<=0)return!1;for(var n={},i=0;i<e;++i)n[t[i]]=!0;return n}return!1}catch(t){return!1}}(e),(n=function(t,e){try{var n,i,r,o=t.nodeType;if(8==o)return null;if(4==o||3==o)return Fc.test(t.nodeValue)?null:t.nodeValue;if(r=0,t.attributes&&t.attributes.length&&(r=t.attributes.length),r>0){n={};for(var a=0;a<r;++a){var s;"string"==typeof(i=t.attributes[a].nodeName)&&(i="@"+i,null!=(s=t.attributes[a].nodeValue)&&Hc(n,i,s,e))}}if(r=0,t.childNodes&&t.childNodes.length&&(r=t.childNodes.length),r>0){var l=!0;for(n&&(l=!1),a=0;a<r&&l;++a)4!=(o=t.childNodes[a].nodeType)&&3!=o&&(l=!1);if(l)for(n="",a=0;a<r;++a)Fc.test(t.childNodes[a].nodeValue)||(n+=t.childNodes[a].nodeValue);else for(n||(n={}),a=0;a<r;++a)"string"==typeof(i=t.childNodes[a].nodeName)&&null!=(s=arguments.callee(t.childNodes[a],e))&&Hc(n,i,s,e)}else n||(n="");return n}catch(t){throw new Error("[parseElements error] "+t.message)}}(t.documentElement,i))?(r[t.documentElement.nodeName]=n,r):null):null}catch(t){return null}},void $.extend({xml2jso:Ec})),spec.accordion=(hd="skdAccordion",id={open:"close",close:"open"},md={init:function(t){var e=this,n=$.extend(!0,{},$.fn[hd].defaults,t),i=[];return e.each(function(t){var r=e.eq(t),o=r.data(hd)||new $[hd](r,n);i.push(o),r.data(hd,o),n.btn=$("."+n.button,r),n.boxs=$("."+n.box,r),n.btn.size()<=0||n.boxs.size()<=0||(n.btn.on("click",function(t){var e,i,r,o,a;t.stopPropagation(),t.preventDefault(),o="open",a={yep:null,nope:null},(r=n).btn.hasClass(o)?(a.yep=id[o],a.nope=id[id[o]]):(a.yep=id[id[o]],a.nope=id[o]),r.btn.addClass(a.yep).removeClass(a.nope),e=a,(i=n).boxs.addClass(e.yep).removeClass(e.nope),i[e.yep]&&i[e.yep].apply(i.boxs)}),n.boxs.addClass("active"))}),n&&n.api?$.ex.api(i):e}},$[hd]=function(t,e){this.elm=t,this.opt=e},$.fn[hd]=function(t){return md[t]?md[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error("Method "+t+" does not exist on jQuery[pluginName]"):md.init.apply(this,arguments)},$.extend($[hd].prototype,{state:function(){return this.opt.boxs.hasClass("open")?"open":"close"}}),void($.fn[hd].defaults={api:!0,button:"btn",box:"box",open:null,close:null}))}(SKD.imports),function(t){t.zeroPadding=function(t,e,n){if("array"===$.type(t)){for(var i,r=[],o=t.length,a=0;a<o;++a)i=String(t[a]).length,r[a]=i<e?new Array(e-i+1).join(0)+t[a]:n?String(t[a]):t[a];return r}var s=String(t).length;return s<e?new Array(e-s+1).join(0)+t:n?String(t):t},$SKD.zeroPadding=SKD.shape.zeroPadding,t.zeroSuppress=function(t,e){if("array"===$.type(t)){for(var n=[],i=t.length,r=0;r<i;++r)"number"===$.type(t[r])?n[r]=t[r]:n[r]=e?parseInt(String(t[r]).replace(/^0+([0-9]+)/,"$1"),10):String(t[r]).replace(/^0+([0-9]+)/,"$1");return n}return"number"===$.type(t)?t:e?parseInt(t.replace(/^0+([0-9]+)/,"$1"),10):t.replace(/^0+([0-9]+)/,"$1")},$SKD.zeroSuppress=SKD.shape.zeroSuppress,t.recnstDate=function(t,e){var n={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},i=function(t){var e="--";return t in n&&(e=n[t]),e},r={date:function(t){t=(t=String(t)).replace(/(\+|\-)\d+/,"").replace("GMT","");var e=$.trim(t.substring(t.indexOf(" ")+1,t.length)).split(" ");e[0]=i(e[0]);var n=e[3].split(":");return 1===e[1].length&&(e[1]="0"+e[1]),{yyyy:e[2],mm:e[0],dd:e[1],HH:n[0],MM:n[1],SS:n[2]}},rss:function(t){t=t.replace(/(\+|\-)\d+/,"").replace("GMT","");var e=$.trim(t.substring(t.indexOf(",")+1,t.length)).split(" ");e[1]=i(e[1]);var n=e[3].split(":");return 1===e[0].length&&(e[0]="0"+e[0]),{yyyy:e[2],mm:e[1],dd:e[0],HH:n[0],MM:n[1],SS:n[2]}},social:function(t){t=t.replace(/(\+|\-)\d+/,"Z");var e=$.trim(t.substring(t.indexOf(",")+1,t.indexOf("Z")-1)).split(" ");e[1]=i(e[1]);var n=e[3].split(":");return 1===e[0].length&&(e[0]="0"+e[0]),{yyyy:e[2],mm:e[1],dd:e[0],HH:n[0],MM:n[1],SS:n[2]}},access:function(t){var e=[],n=[];return e[2]=t.slice(0,4),e[1]=t.slice(4,6),e[0]=t.slice(6,8),n[0]=t.slice(8,10),n[1]=t.slice(10,12),n[2]=t.slice(12,14),{yyyy:e[2],mm:e[1],dd:e[0],HH:n[0],MM:n[1],SS:n[2]}}},o=function(t,e){switch(this.date={},e){case"date":this.pattern="date";break;case"rss":this.pattern="rss";break;case"social":this.pattern="social";break;case"access":this.pattern="access";break;default:this.pattern="date"}t&&this.parse(t)};return o.prototype.parse=function(t){"string"!==$.type(t)&&"date"!==$.type(t)||(this.date=r[this.pattern](t))},o.prototype.getYMD=function(t){return t=t||"/",[this.date.yyyy,this.date.mm,this.date.dd].join(t)},o.prototype.getMD=function(t){return t=t||"/",[this.date.mm,this.date.dd].join(t)},o.prototype.getHM=function(t){return t=t||":",[this.date.HH,this.date.MM].join(t)},new o(t,e)},$SKD.recnstDate=SKD.shape.recnstDate,t.shuffleArray=function(t){if(t instanceof Array){for(var e=t.length;e;){var n=Math.floor(Math.random()*e),i=t[--e];t[e]=t[n],t[n]=i}return t}},$SKD.shuffleArray=SKD.shape.shuffleArray,t.makeQuery=function(t){if("object"!==$.type(t))return t;var e=function(t,e,n){"undefined"!==$.type(n)&&t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},n=function(t,n,i){for(var r=0,o=i.length;r<o;++r)e(t,n,i[r])},i=[];for(key in t)"function"!==$.type(t[key])&&("array"===$.type(t[key])?n(i,key,t[key]):e(i,key,t[key]));return i.length>0?"?"+i.join("&").replace(/%20/g,"+"):""},$SKD.makeQuery=SKD.shape.makeQuery,t.makeFragment=function(t){if("object"!==$.type(t))return t;var e=function(t,e,n){"undefined"!==$.type(n)&&t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},n=function(t,n,i){for(var r=0,o=i.length;r<o;++r)e(t,n,i[r])},i=[];for(key in t)"function"!==$.type(t[key])&&("array"===$.type(t[key])?n(i,key,t[key]):e(i,key,t[key]));return i.length>0?"#"+i.join("&").replace(/%20/g,"+"):""},$SKD.makeFragment=SKD.shape.makeFragment,t.cutLength=function(t,e,n){var i,r={mark:"…",forward:!0};if("string"!==$.type(t)||t.length<=0||!isFinite(e))return t;if(e=parseInt(e,10),t.length<=e)return t;var o="";return(i=n&&"object"===$.type(n)?$.extend({},r,n):$.extend({},r)).forward?o=t.slice(0,e):(e*=-1,o=t.slice(e)),i.mark.length>0&&(i.forward?o+=i.mark:o=i.mark+o),o},$SKD.cutLength=SKD.shape.cutLength,t.parseUrl=function(t){for(var e={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser[e.strictMode?"strict":"loose"].exec(t),i={},r=14;r--;)i[e.key[r]]=n[r]||"";if(i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(t,n,r){n&&(i[e.q.name][n]=r)}),i.fileNoExt="",i.extension="",i.file.length){var o=i.file.match(/(.*)(?:\.([^.]+$))/);i.fileNoExt=o[1],i.extension=o[2]}return i},$SKD.parseUrl=SKD.shape.parseUrl,t.absoluteUrl=function(t){var e=document.createElement("span");return e.insertAdjacentHTML("beforeend",'<a href="'+t+'" />'),e.firstChild.href},$SKD.absoluteUrl=SKD.shape.absoluteUrl}(SKD.shape),function(t){t.escHTML=function(t){try{return"string"!==$.type(t)||t.length<=0?null:$("<div />").text(t).html()}catch(t){return null}},$SKD.escHTML=SKD.convert.escHTML,t.unescHTML=function(t){try{return"string"!==$.type(t)||t.length<=0?null:$("<div />").html(t).text()}catch(e){return t}},$SKD.unescHTML=SKD.convert.unescHTML,t.decodeUrl=function(t){return"string"!==$.type(t)||t.length<=0?t:t=decodeURIComponent(t.replace(/\+/g,"%20"))},$SKD.decodeUrl=SKD.convert.decodeUrl}(SKD.convert),function(t){t.getScriptParams=function(t){try{if("string"!==$.type(t)||t.length<=0)return null;var e;if(/^\.[\w|\-|_]/.test(t)||/^#[\w|\-|_]/.test(t))e=$(t).get(0).src;else if(/^http(|s):\/\//.test(t)||/^(\/|\/\/)[\w|\-|_]/.test(t)||/^\.(\/|\.\/)[\w|\-|_]/.test(t)){var n=document.getElementsByTagName("script");/^\.(\/|\.\/)[\w|\-|_]/.test(t)&&(t=t.replace(/^\.+\//,"/"));for(var i=new RegExp(t.replace(/\./g,"\\.")+"\\?"),r=0,o=n.length;r<o;++r)if(i.test(n[r].src)){e=n[r].src;break}}return e?$SKD.parseUrl(e).queryKey:null}catch(t){}},$SKD.getScriptParams=SKD.manipulate.getScriptParams,t.storage=function(){try{var t={local:window.localStorage?window.localStorage:null,session:window.sessionStorage?window.sessionStorage:null}}catch(e){t={local:null,session:null}}var e=!(!t.local||!t.session),n=function(t){this.storageType=t};return n.prototype.save=function(n,i,r){if(!e)return!1;!function(e,n,i,r){if(!e||!i||!n)return!1;var o={};o.contents=i;var a=new Date;"number"===$.type(r)?a.setSeconds(a.getSeconds()+r):"string"===$.type(r)&&"persistent"===r&&a.setSeconds(a.getSeconds()+31536e5),o.expire=a.getTime();var s="";try{s=window.JSON.stringify(o),t[n].setItem(e,s)}catch(t){return!1}}(n,this.storageType,i,r)},n.prototype.get=function(n){if(!e)return!1;try{var i=function(e,n){if(!e||!n)return null;var i=t[n].getItem(e);if(!i)return null;try{var r=null;r=window.JSON.parse(i)}catch(i){return t[n].removeItem(e),null}return(new Date).getTime()<parseInt(r.expire,10)?r.contents:(t[n].removeItem(e),null)}(n,this.storageType);return i||!1}catch(t){return!1}},n.prototype.del=function(e){t[this.storageType].removeItem(e)},n}(),$SKD.localStorage=new SKD.manipulate.storage("local"),$SKD.sessionStorage=new SKD.manipulate.storage("session"),t.makeRandom=function(t,e){var n={max:null,digit:1,sync:!1},i=function(t,e){if(!("number"!==$.type(t)||t<=0)&&"object"===$.type(e)){var i=$.extend({},n,e);this.max=null!==i.max&&i.max<t?i.max:t,i.sync?(this.sync=!0,this.storeNumbers={}):this.sync=!1,this.numbers=[];var r=[];try{for(var o=1;o<=t;++o)r.push(o);var a=$SKD.zeroPadding(r,i.digit,!0);$SKD.shuffleArray(a);for(o=0;o<this.max;++o)this.numbers.push(a[o])}catch(t){return}}};return i.prototype.puts=function(t){if(this.sync&&this.storeNumbers[t])return this.storeNumbers[t];try{var e=this.numbers.shift();return e?(this.sync&&("string"===$.type(t)||"number"===$.type(t)?this.storeNumbers[t]=e:this.storeNumbers[e]=e),e):"string"===$.type(t)||"number"===$.type(t)?(this.sync&&(this.storeNumbers[t]=t),t):""}catch(t){return""}},new i(t,e||{})},$SKD.makeRandom=SKD.manipulate.makeRandom,t.sponsored=function(t){var e,n=3;return function(t){return t&&"number"===$.type(t)&&(n=t),e||(e=$("body").data("ad-sponsored"),isFinite(e))?(i=e,r=n,e=$SKD.zeroPadding(Number(i),r)):"";var i,r}},$SKD.sponsored=SKD.manipulate.sponsored()}(SKD.manipulate),function(t){var e,n,i;t.html=function(t,e,n){if("string"===$.type(t)&&"string"===$.type(e)){var i=$.extend({},{pos:"",async:!0,callback:null,before:null,success:null,complete:null},n);"#"!==e.substr(0,1)&&(e="#"+e),"function"===$.type(i.before)&&i.before(t,e,i),$.ajax({url:t,dataType:"html",cache:!0,async:!!i.async}).done(function(n,r,o){i.pos?"after"===i.pos?$(e).after(n):"before"===i.pos?$(e).before(n):$(e).html(n):$(e).html(n),"function"===$.type(i.callback)&&i.callback(n,t,e,i),"function"===$.type(i.success)&&i.success(n,t,e,i),"function"===$.type(i.complete)&&i.complete(n,t,e,i)}).fail(function(n,r,o){"function"===$.type(i.complete)&&i.complete(o,t,e,i)})}},$SKD.loaderHTML=SKD.loader.html,t.image=function(t){var e=function(t,e,n){return function(){n.apply(e,[t])}},n=function(t){this.load(this.stock[t].src,this.stock[t].options,t)},i=function(t){this.queue={},this.total=0,this.finish=0,this.success=0,this.timeout=0,this.error=0,this.stop=!1,this.limit=t&&"number"===$.type(t.limit)?t.limit:0,this.stock=[]};return i.prototype.register=function(t,e){this.stock.push({src:t,options:e})},i.prototype.unregister=function(t,e){this.stock=[]},i.prototype.allLoad=function(){var t=this.stock.length;if(!(t<=0))for(var i=0;i<t;++i)setTimeout(e(i,this,n),300)},i.prototype.load=function(t,e,n){if(!this.stop&&"string"!==!$.type(t)){var i=new Image;if(this.total++,"undefined"===!$.type(this.queue[t]))i.src=t,"null"===$.type(this.queue[t])?("function"===$.type(e.timeout)&&e.timeout(i,e,n),o.finish++,o.timeout++):"boolean"===$.type(this.queue[t])&&(this.queue[t]?("function"===$.type(e.success)&&e.success(i,e,n),o.finish++,o.success++):("function"===$.type(e.error)&&e.error(i,e,n),o.finish++,o.error++)),i=null;else{this.queue[t]=!1;var r,o=this;i.onload=function(){clearTimeout(r),"function"===$.type(e.success)&&e.success(i,e,n),o.finish++,o.success++,o.queue[t]=!0,i=null},i.onerror=function(){clearTimeout(r),"function"===$.type(e.error)&&e.error(i,e,n),o.finish++,o.error++,i=null},i.src=t;var a="number"===$.type(e.time)?e.time:3500;r=setTimeout(function(){"function"===$.type(e.timeout)&&e.timeout(i,e,n),i=null,o.finish++,o.timeout++,o.queue[t]=null,i=null},a)}this.limit>0&&this.total===this.limit&&(this.stop=!0)}},i.prototype.isFinish=function(){var t=!1;return 0===this.total&&0===this.finish&&(t=!0),this.total>0&&this.finish>0&&this.total===this.finish&&(t=!0),t},i.prototype.finishRatio=function(){try{return 100*Math.round(this.finish/this.total)}catch(t){return 0}},i.prototype.successRatio=function(){try{return 100*Math.round(this.success/this.total)}catch(t){return 0}},i.prototype.errorRatio=function(){try{return 100*Math.round(this.error/this.total)}catch(t){return 0}},new i(t)},$SKD.loaderImage=SKD.loader.image,t.controller=(e={},n=function(t,e,n,i){if("string"!==$.type(n)||"disabled"!==n){if("array"===$.type(n))if("all"===e){if($.inArray(t,n)>=0)return}else{var r,o=t.replace(/\./g,"\\.");r="forward"===e?new RegExp("^"+o):new RegExp(o+"$");var a=!1;if($.each(n,function(t,e){if(r.test(e))return a=!0,!1}),a)return}i(t)}},(i=function(t){this.status=!1,this.loaded=!1,this.conf=null,"string"===$.type(t)&&t.length>0&&(this.status=!0,this.conf=t,e[t]&&(this.loaded=!0))}).prototype.isDisabled=function(t,i,r){var o=this;"function"!==$.type(i)||"string"!==$.type(t)||t.length<=0||(this.status?("string"!==$.type(r)&&(r="all"),"all"===r||/^(?:for|back)ward$/.test(r)||(r="all"),this.loaded?n(t,r,e[this.conf],i):$.get(this.conf).done(function(t,n){o.loaded=function(t,n,i){var r=!1;if("success"===n&&$.isXMLDoc(t)&&"jsconf"===t.documentElement.nodeName){var o=$(t).find("jsconf").find("disabled");if(o.length>0){o=o.eq(0);var a="";try{a=o.attr("forced")}catch(t){a=o.get(0).getAttribute("forced")}if("true"===a)e[i]="disabled",r=!0;else{var s=o.find("url");s.length>0&&(e[i]=[],s.each(function(){e[i].push($(this).text())}),r=!0)}}}return r}(t,n,o.conf)}).always(function(){o.loaded?n(t,r,e[o.conf],i):i(t)})):i(t))},function(t){return new i(t)}),$SKD.loaderController=SKD.loader.controller}(SKD.loader),function(t){if(!$SKD.os.Other){var e,n,i,r,o,a,s,l=""+location.host,c=$(window),p=!1,u={},h=0,d=0,f={cover:!0,wrap:!0};function m(){try{var t=+r.height();s=+c.scrollTop(),n.height(t),i.css("top",s),a=t-$SKD.windowHeight}catch(t){}}function g(){try{s=+c.scrollTop(),p?s<=a&&(p=!1):(s>a&&(s=a,p=!0),i.css("top",s))}catch(t){}}var y=function(t){u[t].app.addClass("active"),u[t].cover&&(d<=0&&(m(),n.addClass("active")),d++)};function v(t,e,n){return l+"_"+t+"_"+e+(n?"-"+n:"")}function S(){return $.makeArray(arguments).join(".")}$SKD.appName=t.name={SITE_MENU:"siteMenuApp",STATUS_MSG:"statusMsg",SITE_MSG:"siteMsg",SITE_BAR:"siteBar",SITE_TOOL:"siteTool",SITE_CAMPAIGN:"siteCampaign"},t.init=function(){e=$("body"),r=$(document),n=$("<div />",{id:"contentsOverlay"}),i=$("<div />",{id:"windowContainer"}),o=$("<div />",{class:"boxWrapper"}),$SKD.resize(m,200),c.scroll(g),i.append(o),e.append(n),e.append(i),m()},$SKD.smpAppInit=SKD.smpApp.init,t.refresh=function(){m()},$SKD.smpAppRefresh=SKD.smpApp.refresh,t.createBox=function(t,e,n){var r=$.extend({},f,n);"boolean"!==$.type(r.cover)&&(r.cover=!1),"number"!==$.type(r.ready)&&(r.ready=0);var a=$("<section />",{class:"appBox"});e&&a.attr("id",e),r.wrap?o.append(a):i.append(a);var s="appkey"+h;return"function"===$.type(t)&&t(a,s),u[s]={app:a,cover:r.cover,ready:r.ready,id:e},h++,{app:a,appkey:s}},$SKD.smpAppCreateBox=SKD.smpApp.createBox,t.getBox=function(t){return!(!t||!u[t])&&u[t]},$SKD.smpAppGetBox=SKD.smpApp.getBox,t.showBox=function(t){return!(!t||!u[t])&&(m(),u[t].ready?(u[t].app.addClass("active-ready"),setTimeout(function(){y(t)},u[t].ready)):y(t),!0)},$SKD.smpAppShowBox=SKD.smpApp.showBox,t.hideBox=function(t){return!(!t||!u[t])&&(u[e=t].app.removeClass("active"),u[e].cover&&--d<=0&&n.removeClass("active"),u[t].ready&&setTimeout(function(){u[t].app.removeClass("active-ready")},u[t].ready),!0);var e},$SKD.smpAppHideBox=SKD.smpApp.hideBox,t.getStatus=function(){return{scrollStop:p}},$SKD.smpAppGetStatus=SKD.smpApp.getStatus,t.cacheKey=function(){var t={};t[$SKD.appName.SITE_MENU]=v("c",$SKD.appName.SITE_MENU);var e={get:function(e){return"string"===!$.type(e)?null:t[e]}};return e.identifier=S,e}(),$SKD.cacheKey=SKD.smpApp.cacheKey,t.settingKey=function(){var t={};t[S($SKD.appName.SITE_CAMPAIGN,"setHome")]=v("s",$SKD.appName.SITE_CAMPAIGN,"setHome");var e={get:function(e){return"string"===!$.type(e)?null:t[e]}};return e.identifier=S,e}(),$SKD.settingKey=SKD.smpApp.settingKey}}(SKD.smpApp),function(t){var e,n,i,r,o,a,s;t.nameSpace=function(t){if("object"===$.type(t)){var e,n=function(t,e){return(null===e[t]||"object"!=typeof e[t]||"object"==typeof e[t]&&"length"in e[t])&&(e[t]={}),e[t]},i=function(t,e){if("array"===$.type(t))for(var r=0,o=t.length;r<o;++r)n(t[r],e);else"object"===$.type(t)?$.each(t,function(t,r){var o=n(t,e);i(r,o)}):n(t,e)};try{if(!t.top)return;e=window[t.top]?window[t.top]:n(t.top,window),window["$"+t.top]||n("$"+t.top,window),i(t.sub,e)}catch(t){}}},$SKD.nameSpace=SKD.util.nameSpace,t.pageKey=void((e=$("meta[name='dcterms.type']").attr("content"))?($("html").addClass("skdpk-"+e.toLowerCase()),$SKD.pageKey=e.toLowerCase()):($("html").addClass("skdpk-none"),$SKD.pageKey=null)),t.disBrowsNotification=(n={height:null,width:null,position:"absolute",top:null,left:null,overflow:"hidden",boxShadow:"5px 5px 10px",border:"1px solid #000",zIndex:999999},i=1,r={wrapper:{visibility:"hidden"},overlay:{position:"absolute",top:0,left:0,background:"rgba(0, 0, 0, 0.5)",filter:"progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr=#80000000, EndColorStr=#80000000)",width:"100%",height:"100%",zIndex:999998},message:{},controller:{wrapper:{background:"#FFF",padding:"30px 40px",overflow:"hidden"},after:{float:"left",lineHeight:"2em",width:"100px",border:"1px solid #AAA",background:"#EEE",fontSize:"14px",textAlign:"center",borderRadius:"5px"},close:{float:"right",lineHeight:"2em",width:"100px",border:"1px solid #AAA",background:"#EEE",fontSize:"14px",textAlign:"center",borderRadius:"5px"},anchor:{display:"block",height:"100%",width:"100%",textDecoration:"none",color:"#333"}}},o=$('<div id="ebControl"><div class="after"><a href="#">後で</a></div><div class="close"><a href="#">閉じる</a></div></div>'),a="20px",s="20px",function(t){if(t.browser&&"object"===$.type(t.browser)&&t.path&&"string"===$.type(t.path)&&!$.cookie("disabledBrowserExpiration")){r.message=$.extend({},n,t.style||"");var e=parseInt(t.expires,10)||i;$.each(t.browser,function(n,i){$SKD.browser[n]&&parseInt($SKD.browser.version,10)-parseInt(i,10)<=0&&$.ajax({url:t.path,dataType:"html",cache:!0,async:!1}).done(function(t,n,i){var l=$(t),c={};c.h=document.documentElement.clientHeight||document.body.clientHeight||document.body.scrollHeight,c.w=document.documentElement.clientWidth||document.body.clientWidth||document.body.scrollWidth,$("body");var p=$("<div />").attr("id","ebWrapper"),u=$("<div />").attr("id","ebOverlay"),h=$("<div />").attr("id","ebMessage");if(p.css(r.wrapper),u.css(r.overlay),h.css(r.message),o.css(r.controller.wrapper),$(".after",o).css(r.controller.after),$(".close",o).css(r.controller.close),$("a",o).css(r.controller.anchor),p.append(u).append(h.append(l).append(o)),$("body").prepend(p),null!==r.message.height)"%"===r.message.height.substr(r.message.height.length-1,1)&&(r.message.height=c.h*r.message.height.substr(0,r.message.height.length-1)/100+"px");else{var d=0;$.each(h.children(),function(){d+=$(this).outerHeight()}),r.message.height=d+"px"}if(null!==r.message.width)"%"===r.message.width.substr(r.message.width.length-1,1)&&(r.message.width=c.w*r.message.width.substr(0,r.message.width.length-1)/100+"px");else{var f=0;$.each(h.children(),function(){$(this).outerWidth(!0)>f&&(f=$(this).outerWidth(!0))}),r.message.width=f+"px"}if(null===r.message.top){var m=r.message.height.match(/^[\d]+/)[0];m<c.h?r.message.top=(c.h-m)/2+"px":r.message.top=a}if(null===r.message.left){var g=r.message.width.match(/^[\d]+/)[0];g<c.w?r.message.left=(c.w-g)/2+"px":r.message.left=s}h.css(r.message),p.css("visibility","visible"),$(".after a",o).on("click",function(t){t.preventDefault(),t.stopPropagation(),p.remove(),$.cookie("disabledBrowserExpiration",!0,{expires:e})}),$(".close a",o).on("click",function(t){t.preventDefault(),t.stopPropagation(),p.remove(),$.cookie("disabledBrowserExpiration",!0,{expires:730})})})})}}),$SKD.disBrowsNotification=SKD.util.disBrowsNotification}(SKD.util))
/*! (c) 2014 SANKEI DIGITAL INC.
 *  URL: http://www.sankei-digital.co.jp/
 *  name: 株式会社産経デジタル　共通ライブラリ - ルーティング
 *  Date: 2015.08.04
 *  version: 1.0.5
 *  note: SKD共通ライブラリ全体でjQuery-1.11+、Modernizr に依存する処理あり
 *  license: 著作権者の許可なく、改変・複製・商用利用・再配布等の行為を禁じる。
 *
*/,window.SKD.rt||($SKD.nameSpace({top:"SKD",sub:{rt:{version:"1.0.5",network:["toSmp","rebuildToSmp","toPc","rebuildToPc","extendUrlRules"]}}}),function(t){location.host;var e={rttab:{smp:null,pc:null}},n={exrttab:{smp:!1,pc:!1}},i=function(t,e){var n=afterUrl=t,i="smp"===e?"smp":"pc",r=location.host,o=$SKD.parseUrl(n);if(o.host===r){var a=new RegExp("("+r+"/smp/)");n.match(a)?"pc"===i&&(afterUrl=n.replace(r+"/smp",r)):"smp"===i&&(afterUrl=n.replace(r,r+"/smp"))}else if(n.match(/^\/\//)||n.match(/^(https?|ftp)(:\/\/)/))o.directory.match(/^\/smp\//)?"pc"===i&&(afterUrl=n.replace(/(\/)smp\//,"$1")):"smp"===i&&(afterUrl=n.replace(/(\/\/([^\/]+)?)(\/)?/,"$1/smp/"));else if(n.match(/^\/[\w]/))o.directory.match(/^\/smp\//)?"pc"===i&&(afterUrl=n.replace(/^(\/)smp\//,"$1")):"smp"===i&&(afterUrl=n.replace(/^(\/)/,"$1smp/"));else if(n.match(/^[\w]/)){var s=n.split("/");-1!==s[0].indexOf(".")?"smp"===s[1]?"pc"===i&&(afterUrl=n.replace(/(\/)smp\//,"$1")):"smp"===i&&(s.length>1?afterUrl=n.replace(/(\/)/,"$1smp/"):afterUrl=n.replace(/^([\w])/,"/smp/$1")):"smp"===s[0]?"pc"===i&&(afterUrl=n.replace(/^smp(\/)/,"$1")):"smp"===i&&(afterUrl=n.replace(/^([\w])/,"/smp/$1"))}else n.match(/^\./)&&(n.match(/^\.[\.\/]*smp\//)?"pc"===i&&(afterUrl=n.replace(/smp\//,"")):"smp"===i&&(afterUrl=n.replace(/(\/\w)+?/,"/smp$1")));return{url:afterUrl,end:n!==afterUrl}};t.toSmp=function(e){e&&$("a[data-alter=smp]",e).each(function(e){var n=$(this),i=n.attr("href"),r=t.rebuildToSmp(i,n);r!==i&&n.attr("href",r)})},$SKD.toSmp=SKD.rt.network.toSmp,t.rebuildToSmp=function(t,r){var o=1,a=i(t,"smp");t=a.url;if(!a.end)return t;if(t=t.replace(/(\d)\-n([0-9]+)\.htm(|l)/,function(){return o=arguments[2],arguments[1]+"-s.htm"+arguments[3]}),n.exrttab.smp)for(var s=0;s<e.rttab.smp.length;++s)t=e.rttab.smp[s](t,o,r);return t=t.replace(/(\?|&)view=(?:pc|smp)($|&|#)/i,function(){return arguments[2]?"&"===arguments[2]?arguments[1]:arguments[2]:""})},$SKD.rebuildToSmp=SKD.rt.network.rebuildToSmp,t.toPc=function(e){e&&$("a[data-alter=pc]",e).each(function(e){var n=$(this),i=n.attr("href"),r=t.rebuildToPc(i,n);r!==i&&n.attr("href",r)})},$SKD.toPc=SKD.rt.network.toPc,t.rebuildToPc=function(t,r){var o=i(t,"pc");t=o.url;if(!o.end)return t;if(t=t.replace(/\-s\.htm(|l)/,function(){return"-n1.htm"+arguments[1]}),n.exrttab.pc)for(var a=0;a<e.rttab.pc.length;++a)t=e.rttab.pc[a](t,r);return t=t.replace(/(\?[^?#]*?)?($|#[^?#]*?)/i,function(){return arguments[1]?"?"===arguments[1]?arguments[1]+"view=pc"+arguments[2]:arguments[1]+"&view=pc"+arguments[2]:"?view=pc"+arguments[2]})},$SKD.rebuildToPc=SKD.rt.network.rebuildToPc,t.extendUrlRules=function(t,i){"string"===$.type(t)&&"function"===$.type(i)&&(e.rttab[t]||(e.rttab[t]=[],n.exrttab[t]=!0),e.rttab[t].push(i))},$SKD.extendUrlRules=SKD.rt.network.extendUrlRules}(SKD.rt.network))
/*! (c) 2014 SANKEI DIGITAL INC.
 *  URL: http://www.sankei-digital.co.jp/
 *  name: 株式会社産経デジタル　共通ライブラリ - アプリケーション
 *  Date: 2018.03.12
 *  version: 1.0.8
 *  note: SKD共通ライブラリ全体でjQuery-1.11+、Modernizr に依存する処理あり
 *  license: 著作権者の許可なく、改変・複製・商用利用・再配布等の行為を禁じる。
 *
*/,window.SKD.app||($SKD.nameSpace({top:"SKD",sub:{app:{version:"1.0.8",network:["polling","requestRanking","requestVote"]}}}),function(t){var e,n,i,r,o,a,s,l,c,p,u,h,d;t.polling=(e={monitoringType:"interval",immediately:!0,interval:5e3,repeatCount:null,errorRetry:null,timeoutRetry:null,onBeforeMonitor:null,onAfterMonitor:null,onSuccess:null,onComplete:null,onError:null,onRedirection:null,onTimeout:null,onException:null},n={accepts:null,async:null,cache:null,contents:null,contentType:null,context:null,converters:null,crossDomain:null,data:null,dataFilter:null,dataType:"xml",global:null,headers:null,ifModified:null,isLocal:null,jsonp:null,jsonpCallback:null,mimeType:null,password:null,processData:null,scriptCharset:null,statusCode:null,timeout:null,traditional:null,type:null,url:location.href,username:null,xhr:null,xhrFields:null},i=function(t){var e=null,n=null;try{return null!==t.status&&!1!==t.status?(e=t.status>=200&&t.status<300||1223===t.status?"success":t.status>=300&&t.status<400?"redirection":0===t.status?"ignore":"error",n=t.status):(n=0,e="error"),{statusText:e,code:n}}catch(t){return"exception"}},r=function(t,e,n){var r=this;if(r.running)try{if(!r.requestDone&&4===n.readyState){r.requestDone=!0;var o=i(n);r.reqSets.onSuccess&&"function"===$.type(r.reqSets.onSuccess)&&r.reqSets.onSuccess.call(r,t,r.ajxSets.dataType,o.code),r.reqSets.onComplete&&"function"===$.type(r.reqSets.onComplete)&&r.reqSets.onComplete.call(r,n,o),r.timeoutCount=r.errorCount=0,r.sending=!1}}catch(t){r.reqSets.onException&&"function"===$.type(r.reqSets.onException)&&r.reqSets.onException.call(r,n,"[httpRequest state change event error] "+t.message),r.stop()}},o=function(t,e,n){var r=this;if(r.running)try{if("error"===e&&"number"===$.type(r.reqSets.errorRetry)&&++r.errorCount<r.reqSets.errorRetry||"timeout"===e&&"number"===$.type(r.reqSets.timeoutRetry)&&++r.timeoutCount<r.reqSets.timeoutRetry)return r.sending=!1,r.jqXHR=null,void(r.jqXHR=$.ajax(r.ajxSets));r.requestDone=!0;var o=i(t);"timeout"===e?(r.reqSets.onTimeout&&"function"===$.type(r.reqSets.onTimeout)&&r.reqSets.onTimeout.call(r),r.stop()):"error"===e&&("redirection"===o.statusText?(r.reqSets.onRedirection&&"function"===$.type(r.reqSets.onRedirection)&&r.reqSets.onRedirection.call(r,t,o),r.reqSets.onComplete&&"function"===$.type(r.reqSets.onComplete)&&r.reqSets.onComplete.call(r,t,o),r.timeoutCount=r.errorCount=0,r.sending=!1):"ignore"===o.statusText?r.sending=!1:(r.reqSets.onError&&"function"===$.type(r.reqSets.onError)&&r.reqSets.onError.call(r,t,o),r.reqSets.onComplete&&"function"===$.type(r.reqSets.onComplete)&&r.reqSets.onComplete.call(r,t,o),r.stop()))}catch(e){r.reqSets.onException&&"function"===$.type(r.reqSets.onException)&&r.reqSets.onException.call(r,t,"[httpRequest state change event error] "+e.message),r.stop()}},(a=function(t,i){this.objStatus=!1;try{var r=this;this.reqSets={},this.ajxSets={},$.each(e,function(e,n){t[e]?r.reqSets[e]=t[e]:r.reqSets[e]=n}),i&&$.each(n,function(t,e){i[t]&&(r.ajxSets[t]=i[t])}),r.ajxSets.beforeSend=function(t,e){r.jqXHR=t},this.ajxInitialSets=$.extend({},this.ajxSets)}catch(t){return}this.running=!1,this.monitorTimer=null,this.errorCount=0,this.timeoutCount=0,this.sendCount=0,this.sendTotalCount=0,this.sending=!1,this.requestDone=!1,this.objStatus=!0}).prototype.send=function(t){var e,n=this;if(!n.sending)if(this.requestDone=!1,"interval"===t)try{n.sendCount++,n.sendTotalCount++,n.sending=!0,$.ajax(n.ajxSets).done(function(t,e,i){r.apply(n,[t,e,i])}).fail(function(t,e,i){o.apply(n,[t,e,i])})}catch(t){n.jqXHR.abort(),n.sendCount--,n.sendTotalCount--,n.sending=!1}else if("timeout"===t){var i=$.Deferred();try{n.sendCount++,n.sendTotalCount++,n.sending=!0,$.ajax(n.ajxSets).done(function(t,e,i){var o=$.Deferred();return r.apply(n,[t,e,i]),o.resolve(),o.promise()}).fail(function(t,e,i){var r=$.Deferred();return o.apply(n,[t,e,i]),r.resolve(),r.promise()}).then((e=n.reqSets.interval,function(){var t=$.Deferred();return setTimeout(function(){t.resolve()},e),t.promise()})).then(function(){n.send.apply(n,[n.reqSets.monitoringType])})}catch(t){n.jqXHR.abort(),n.sendCount--,n.sendTotalCount--,n.sending=!1}return i.resolve(),i.promise()}},a.prototype.start=function(){try{var t=this;if(!t.objStatus||t.running)return;t.running=!0,t.errorCount=t.timeoutCount=0,"function"===$.type(t.reqSets.onBeforeMonitor)&&t.reqSets.onBeforeMonitor.apply(t),"interval"===t.reqSets.monitoringType?(t.reqSets.immediately&&t.send.apply(t,[t.reqSets.monitoringType]),t.monitorTimer=setInterval(function(){t.reqSets.repeatCount&&t.sendTotalCount>t.reqSets.repeatCount?t.stop():t.send.apply(t,[t.reqSets.monitoringType])},t.reqSets.interval)):"timeout"===t.reqSets.monitoringType?t.reqSets.immediately?t.send.apply(t,[t.reqSets.monitoringType]):setTimeout(t.send.apply(t,[t.reqSets.monitoringType]),t.reqSets.interval):t.stop()}catch(e){t.stop()}},a.prototype.stop=function(){try{if(!this.objStatus||!this.running)return;clearInterval(this.monitorTimer),self.sendCount=0,this.jqXHR.abort(),this.jqXHR=null,this.sending=!1,"function"===$.type(this.reqSets.onAfterMonitor)&&this.reqSets.onAfterMonitor.apply(this),this.running=!1}catch(t){}},a.prototype.rebuild=function(t){try{if(!this.objStatus||this.running)return;if("object"!==$.type(t))return;t.url&&"string"===$.type(t.url)&&(this.ajxSets.url=t.url),!t.data||"string"!==$.type(t.data)&&"array"!==$.type(t.data)&&"object"!==$.type(t.data)||(this.ajxSets.data=t.data)}catch(t){this.ajxSets.url=this.ajxInitialSets.url,this.ajxInitialSets.data&&(this.ajxSets.data=this.ajxInitialSets.data)}},a.prototype.clean=function(){try{this.running||(function(t){try{t.onreadystatechange=function(){},t=void 0,t=null}catch(t){}}(this.jqXHR),this.status=!1)}catch(t){}},function(t,e){return new a(t,e)}),$SKD.polling=SKD.app.network.polling,t.requestRanking=(s={dataType:"json",converters:{"text json":function(t){var e=$.parseJSON(t),n="{}";try{n={data:e.body.ranking};var i=String(n.data.length).length;$.each(n.data,function(t,e){n.data[t].title=$SKD.escHTML(n.data[t].title),n.data[t].url=$SKD.escHTML(n.data[t].url),n.data[t].title_tag&&(n.data[t].title_tag=$SKD.escHTML(n.data[t].title_tag)),n.data[t].image_path&&(n.data[t].image_path=$SKD.escHTML(n.data[t].image_path)),n.data[t].rank_string=$SKD.zeroPadding(e.rank,i),n.data[t].timestamp&&(n.data[t].timestamp.match(/^\d{12}$/)?n.data[t].timestamp={y:e.timestamp.substring(0,4),m:e.timestamp.substring(4,6),d:e.timestamp.substring(6,8),hh:e.timestamp.substring(8,10),mi:e.timestamp.substring(10)}:n.data[t].timestamp.match(/^\d{4}\/\d{2}\/\d{2}\s{1}\d{2}:\d{2}:\d{2}$/)&&(n.data[t].timestamp={y:e.timestamp.substring(0,4),m:e.timestamp.substring(5,7),d:e.timestamp.substring(8,10),hh:e.timestamp.substring(11,13),mi:e.timestamp.substring(14,16)}))})}catch(t){n="{}"}return n}},latestApi:!1},l={article_or_photo:"article",term:"hourly",genre:""},c=10,p=0,u={article:"n",photo:"p",topics:"m",voice:"t"},h={hourly:"h",daily:"d",weekly:"w",monthly:"m"},(d=function(t,e,n,i){i||(i={}),this.options=$.extend({},s,i),n||(n={}),this.settings=$.extend({},l,n);try{this.settings.server=t,this.settings.service=e,this.status=!(!this.settings.server||!this.settings.service)}catch(t){this.status=!1}}).prototype.get=function(t,e){e||(e={});var n=$.extend({},this.options,e);if(!this.status)return null;if(t||(t={}),this.settings.latestApi){var i=[this.settings.service,h[t.term]?h[t.term]:h[this.settings.term]],r={genre:t.genre?t.genre:this.settings.genre,type:u[t.article_or_photo]?u[t.article_or_photo]:u[this.settings.article_or_photo]};(t.count||this.settings.count)&&(r.count=t.count?t.count:this.settings.count?this.settings.count:c);var o=this.settings.server+i.join("/")+"?";$.each(r,function(t,e){""!==e&&(o+=t+"="+e+"&")}),o=o.substr(0,o.length-1),2===this.settings.environment&&(n.headers={},n.headers["x-api-key"]="E4ecfkWoRJ1ZcORJb7Auulq2f5u9Ore9iWP465cf")}else if($SKD.browser.ie&&$SKD.browser.ie<=9){var a=u[t.article_or_photo]?u[t.article_or_photo]:u[this.settings.article_or_photo],s=t.genre?t.genre:this.settings.genre,l=h[t.term]?h[t.term]:h[this.settings.term];o=this.settings.server+a+"/"+s+"_"+l+".json"}else i=[this.settings.service,t.article_or_photo?t.article_or_photo:this.settings.article_or_photo,t.term?t.term:this.settings.term,t.genre?t.genre:this.settings.genre],(t.count||t.offset||this.settings.count||this.settings.offset)&&(i.push(t.count?t.count:this.settings.count?this.settings.count:c),i.push(t.offset?t.offset:this.settings.offset?this.settings.offset:p)),o=this.settings.server+i.join("/");return $.ajax(o,n)},function(t,e,n,i){return new d(t,e,n,i)}),$SKD.requestRanking=SKD.app.network.requestRanking,t.requestVote=function(){if(navigator.cookieEnabled){var e={dataType:"json"},n="",i="",r="",o={api:{term:"24h",count:10,offset:0}},a={counter:function(t){var e=$.parseJSON(t),n="{}";try{!0!==(n={data:e.body}).data.voted&&(n.data.voted=!1),n.data.num<0&&(n.data.num=0)}catch(t){n="{}"}return n},ranking:function(t){var e=$.parseJSON(t),n="{}";try{n={data:e.body.ranking},$.each(n.data,function(t,e){n.data[t].title=$SKD.escHTML(n.data[t].title),n.data[t].url=$SKD.escHTML(n.data[t].url),n.data[t].image_path&&(n.data[t].image_path=$SKD.escHTML(n.data[t].image_path)),n.data[t].rank_string=$SKD.zeroPadding(e.rank,2)})}catch(t){n="{}"}return n}},s=function(t){this.status=!0,t||(t={}),this.options=$.extend({},e,t),this.api={status:!1,control:!1},this.beacon={status:!1,control:!1},this.settings={}};return s.prototype.init=function(t,e,a,s,l){if(t){var c=o[t]?$.extend({},o[t]):{};try{c.server=e||n,c.service=a||i,this[t].status=!(!c.server||!c.service)}catch(e){this[t].status=!1}try{c.cid=s||r,this[t].control=!!c.cid}catch(e){this[t].control=!1}l||(l={}),c=$.extend(c,l),this.settings[t]=c}},s.prototype.uid=function(t){if(!this.api||!this.api.status)return null;var e=this.settings.api.server+this.settings.api.service+"/uuid/";t||(t={});var n=$.extend({},this.options,t);return $.ajax(e,n)},s.prototype.check=function(t,e){if(!this.api||!this.api.status||!this.api.control)return null;t||(t={}),this.settings.api=$.extend(this.settings.api,t);var n=[this.settings.api.service,"count",this.settings.api.cid,this.settings.api.term],i=this.settings.api.server+n.join("/");e||(e={});var r=$.extend({},this.options,e);return r.converters={"text json":a.counter},$.ajax(i,r)},s.prototype.send=function(t,e){if(!this.beacon||!this.beacon.status||!this.beacon.control)return null;t||(t={}),this.settings.beacon=$.extend(this.settings.beacon,t),(new Image).src=this.settings.beacon.server+"votes/v2/img/beacon.jpg?cid="+this.settings.beacon.cid+"&no-cache="+(new Date).getTime()+Math.random()},s.prototype.get=function(t,e){if(!this.api||!this.api.status)return null;t||(t={}),this.settings.api=$.extend(this.settings.api,t);var n=$SKD.parseUrl(location.href).protocol,i=[this.settings.api.service,"https"===n?"rankings":"ranking",this.settings.api.term];(t.count||t.offset||this.settings.api.count||this.settings.api.offset)&&(i.push(t.count?t.count:this.settings.api.count?this.settings.api.count:o.api.count),i.push(t.offset?t.offset:this.settings.api.offset?this.settings.api.offset:o.api.offset));var r=this.settings.api.server+i.join("/");e||(e={});var s=$.extend({},this.options,e);return s.converters={"text json":a.ranking},$.ajax(r,s)},function(t){return new s(t)}}t.requestVote=function(){this.status=!1}}(),$SKD.requestVote=SKD.app.network.requestVote}(SKD.app.network))
/*! (c) 2014 SANKEI DIGITAL INC.
 *  URL: http://www.sankei-digital.co.jp/
 *  name: 株式会社産経デジタル　共通ライブラリ - ユーザーインターフェイス
 *  Date: 2018.07.18
 *  version: 1.0.33
 *  note: SKD共通ライブラリ全体でjQuery-1.11+、Modernizr に依存する処理あり
 *  license: 著作権者の許可なく、改変・複製・商用利用・再配布等の行為を禁じる。
 *
*/,window.SKD.ui||($SKD.nameSpace({top:"SKD",sub:{ui:{version:"1.0.33",status:["position"],convert:["getImagePath"],manipulate:["sharedObject"],view:["hideUrlField","restrictScroll","switchTabs","setSocialButtons","floatBar","toolBar","chartbeatRank","socialCount","accessCount","scrollToPoint","contentsOpener"],util:["monitorJs","activater"]}}}),SKD.ui.status.getPosition=function(t){var e=(t=t.jQuery?t.get(0):t).getBoundingClientRect(),n=document.documentElement,i=document.body;return{doc_top:e.top+(i.scrollTop||n.scrollTop)-n.clientTop||0,doc_right:e.left+(i.scrollLeft||n.scrollLeft)-n.clientLeft+$(t).innerWidth()||0,doc_bottom:e.top+(i.scrollTop||n.scrollTop)-n.clientTop+$(t).innerHeight()||0,doc_left:e.left+(i.scrollLeft||n.scrollLeft)-n.clientLeft||0,view_top:e.top||0,view_right:e.right||0,view_bottom:e.bottom||0,view_left:e.left||0}},$SKD.getPosition=SKD.ui.status.getPosition,SKD.ui.convert.getImagePath=function(t,e){if("string"!==$.type(t)||"string"!==$.type(e))return t;var n="",i=$SKD.parseUrl(t),r=i.directory,o=i.file;return i.path,""!==i.protocol&&(n+=i.protocol+":"),""!==i.host&&(n+="//"+i.host),n+=r.replace(/^(\/smp)?(\/photo)?\/.*?\//,"$2/images/"),n+=o.replace(/(\-)[a-z](\d)*/,"$1"+e+"1").replace(/(.+)(\.[^.]+$)/,"$1.jpg")},$SKD.getImagePath=SKD.ui.convert.getImagePath,function(t){var e;SKD.ui.manipulate.sharedObject=(e={},$SKD.addSharedObject=function(t,n){e[t]=n},$SKD.removeSharedObject=function(t){delete e[t]},void($SKD.callSharedObject=function(t){return e[t]}))}(),function(t){var e,n,i,r,o,a,s,l,c,p=function(t,e){var n=t;try{for(var i,r=n.match(/\{\{\d+\}\}[\s\S]*?\{\{\/\d+\}\}/g),o=[],a=0,s=r.length;a<s;++a)o=[],i=r[a].match(/\{\{(|\/)(\d+)\}\}/g),o.push(i[0].replace(/\{\{(\d+)\}\}/,"$1")),o.push(i[1].replace(/\{\{\/(\d+)\}\}/,"$1")),n=e>=o[0]&&e<=o[1]?(n=n.replace(i[0],"")).replace(i[1],""):n.replace(r[a],"")}catch(e){return t}return n},u=function(t,e,n){var i,r=e;try{$.each(n,function(e,n){t[e]?"string"===$.type(n)?(i=new RegExp("%"+e.toUpperCase(),"g"),r=r.replace(i,n)):"object"===$.type(n)&&$.each(n,function(t,e){i=new RegExp("%"+t.toUpperCase(),"g"),r=r.replace(i,e)}):"string"===$.type(n)?(i=new RegExp("%"+e.toUpperCase(),"g"),r=r.replace(i,"")):"object"===$.type(n)&&$.each(n,function(t,e){i=new RegExp("%"+t.toUpperCase(),"g"),r=r.replace(i,"")})})}catch(t){return e}return r};$SKD.support={};try{if(Modernizr){function h(t){var e=document.createElement("div"),n=null;return $.each(t,function(t,i){if(void 0!==e.style[t])return n=i,!1}),n}$SKD.support.transform3d=Modernizr.csstransforms3d?h({perspective:"transform",WebkitPerspective:"-webkit-transform",MozPerspective:"-moz-transform",OPerspective:"-o-transform",msPerspective:"-ms-transform"}):null,$SKD.support.transform=Modernizr.csstransforms?h({transform:"transform",WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform"}):null,$SKD.support.transition=Modernizr.csstransitions?h({transitionProperty:"transition",WebkitTransitionProperty:"-webkit-transition",MozTransitionProperty:"-moz-transition",OTransitionProperty:"-o-transition",msTransitionProperty:"-ms-transition"}):null,$SKD.support.transitionEvent=null!==$SKD.support.transition?function(){var t="transitionend";if("transition"!==$SKD.support.transition){t={"-webkit-transition":"webkitTransitionEnd","-moz-transition":"mozTransitionend","-o-transition":"oTransitionEnd","-ms-transition":"transitionend"}[$SKD.support.transition]}return t}():null,$SKD.support.animation=Modernizr.cssanimations?h({animation:"animation",WebkitAnimation:"-webkit-animation",MozAnimation:"-moz-animation",OAnimation:"-o-animation"}):null,$SKD.support.animationStartEvent=null!==$SKD.support.animation?function(){var t="animationstart";if("animation"!==$SKD.support.animation){t={"-webkit-animation":"webkitAnimationStart","-moz-animation":"mozAnimationStart","-o-animation":"oAnimationStart"}[$SKD.support.animation]}return t}():null,$SKD.support.animationEndEvent=null!==$SKD.support.animation?function(){var t="animationend";if("animation"!==$SKD.support.animation){t={"-webkit-animation":"webkitAnimationEnd","-moz-animation":"mozAnimationEnd","-o-animation":"oAnimationEnd"}[$SKD.support.animation]}return t}():null,$SKD.support.animationIterationEvent=null!==$SKD.support.animation?function(){var t="animationiteration";if("animation"!==$SKD.support.animation){t={"-webkit-animation":"webkitAnimationIteration","-moz-animation":"mozAnimationIteration","-o-animation":"oAnimationIteration"}[$SKD.support.animation]}return t}():null,$SKD.support.useTransformFunction=null!==$SKD.support.transition&&(null!==$SKD.support.transform3d||null!==$SKD.support.transform)}}catch(t){}t.hideUrlField=function(t){if(document.body.scrollTop||document.documentElement.scrollTop||window.scrollTop)return t&&t.before&&t.before(),void(t&&t.after&&t.after());setTimeout(function(){t||(t={}),t.before&&t.before(),window.scrollTo(0,1),t.after&&t.after()},0)},$SKD.hideUrlField=SKD.ui.view.hideUrlField,t.restrictScroll=(n=$("html"),t.startScroll=t.stopScroll=$.noop,void($SKD.os.Other?(t.stopScroll=function(){try{n.css("overflow","hidden")}catch(t){}},t.startScroll=function(){try{n.css("overflow","")}catch(t){}}):($SKD.os.iOS||$SKD.os.Android)&&(e=!0,n.on("touchmove",function(t){e||(t.preventDefault(),t.stopPropagation())}),n.on("gesturechange",function(t){e||(t.preventDefault(),t.stopPropagation())}),t.stopScroll=function(){e=!1},t.startScroll=function(){e=!0}))),$SKD.startScroll=t.startScroll,$SKD.stopScroll=t.stopScroll,t.switchTabs=function(t,e){var n="skdui-tabkey",i="Tab",r="Body",o={visibility:!1,specific:".skduiTabs",active:"active",deactive:"deactive",direct:!0,tabParentClass:!1,bodyParentSelector:!1,onInit:null,onChange:null},a=function(t,e){this.target=t.jquery?t:$(t),!this.target||this.target.length<=0||(e&&"object"===$.type(e)||(e={}),this.options=$.extend({},o,e),this.options.direct||(this.target=$(this.options.specific,this.target)),!this.target||this.target.length<=0||(this.saved=[],this.init()))};return a.prototype.init=function(){var t=this,e=t.options.tabParentSelector?t.options.tabParentSelector+" ":"",o=t.options.bodyParentSelector?t.options.bodyParentSelector+" ":"";t.target.each(function(a){var s,l=$(this),c=$(e+":regex(class, (?:^|\\s+?)(\\w+?)"+i+"(?:$|\\s+?))",this);if(c.length<=0)return!0;(t.saved[a]={},c.each(function(){var e=this.className.match(new RegExp("(?:^|\\s+?)(\\w+?)"+i+"(?:$|\\s+?)"));if(e.length<=0)return!0;if($(this).data(n)!==e[1])return!0;var s=!1,c=t.options.deactive;$(this).hasClass(t.options.active)?(c=t.options.active,s=!0):$(this).hasClass(t.options.deactive)||$(this).addClass(t.options.deactive);var p=$(o+"."+e[1]+r,l);t.saved[a][e[1]]={$tab:$(this),$box:p,boxHeight:p.outerHeight(!0),state:c,active:s},t.options.visibility?c===t.options.active?(p.parent().eq(0).css("height",t.saved[a][e[1]].boxHeight),p.css({visibility:"visible",height:"100%"})):p.css({visibility:"hidden",height:"0"}):c===t.options.active?p.css({display:"block"}):p.css({display:"none"}),$(this).on("click",function(e){e.stopPropagation(),e.preventDefault(),t.change($(this).data(n),a)})}),"function"===$.type(t.options.onInit))&&($.each(t.saved[a],function(t,e){e.active&&(s=t)}),t.options.onInit(s,t.target[a],t.saved[a]))})},a.prototype.change=function(t,e){var n=this,i=0;e&&"number"===$.type(e)&&(i=e);var r=function(e,r){e.state=r,e.$tab.addClass(r).removeClass(r===n.options.active?n.options.deactive:n.options.active),n.options.visibility?r===n.options.active?(e.$box.parent().eq(0).css("height",n.saved[i][t].boxHeight),e.$box.css({visibility:"visible",height:"100%"})):e.$box.css({visibility:"hidden",height:"0"}):e.$box.css("display",r===n.options.active?"block":"none")};n.saved[i][t].state!==n.options.active&&($.each(n.saved[i],function(e,i){r(i,e===t?n.options.active:n.options.deactive)}),"function"===$.type(n.options.onChange)&&n.options.onChange(t,n.target[i],n.saved[i]))},new a(t,e)},$SKD.switchTabs=SKD.ui.view.switchTabs,t.setSocialButtons=(i={target:".skduiSocialButton",buttonType:"default",template:{},fragment:{fb:{xfbml:"1",version:"v3.0"},tw:{},gp:{},ln:{}},wrapper:"div"},r={default:{fb:'<div class="fb-like" data-href="#URL" data-layout="button_count" data-show-faces="false" data-action="recommend" data-share="false"></div>',tw:'<a href="https://twitter.com/share" class="twitter-share-button" data-url="#URL" data-text="#TEXT" data-lang="ja">ツイート</a>',gp:'<div class="g-plusone" data-href="#URL" data-size="medium"></div>',ln:'<a href="https://line.me/R/msg/text/?#ENC_TEXT%0D%0A#ENC_URL"><img src="https://media.line.me/img/button/ja/82x20.png" width="82" height="20" alt="LINEで送る" /></a>'},custom:{fb:'<a href="https://www.facebook.com/share.php?u=#ENC_URL" data-sns-type="fb" class="bizui-sns bizui-fb" target="_blank"><span>Facebookでシェアする</span></a>',tw:'<a href="https://twitter.com/share?url=#ENC_URL&text=#ENC_TEXT#{VIA}" data-sns-type="tw" class="bizui-sns bizui-tw" target="_blank"><span>ツィートする</span></a>',gp:'<a href="https://plus.google.com/share?url=#ENC_URL" data-sns-type="gp" class="bizui-sns bizui-gp" target="_blank"><span>Google+でシェアする</span></a>',ln:'<a href="https://line.me/R/msg/text/?#ENC_TEXT%0D%0A#ENC_URL" data-sns-type="ln" class="bizui-sns bizui-line" target="_blank"><span>LINEで送る</span></a>'}},o={fb:0,tw:0,gp:0,ln:0},a={fb:function(t){$SKD.analysis.social("facebook","share",t)},tw:function(t){$SKD.analysis.social("twitter","tweet",t)},gp:function(t){$SKD.analysis.social("Google","+1",t)},ln:function(t){$SKD.analysis.social("LINE","share",t)}},s=function(t,e){try{var n,i=t.replace(/\s+/g,"").replace(/(}\,)(\w+)/,"$1 $2").match(/^(?:pack|)\[(.+)\]$/i)[1].split(", "),r={};return $.each(i,function(t,i){n=i.match(/^(\w+):{(.+)}/),r[n[1]]={};var o,a=n[2].split(",");for(t=a.length-1;t>=0;--t)-1===a[t].indexOf(":")?(a[t-1]+=","+a[t],a[t-1]=a[t-1].replace(/'/g,"")):(o=a[t].replace(/'/g,"").split(":"),r[n[1]][(e||"")+o[0]]=o[1])}),r}catch(t){return{}}},l=function(t,e,n,i){return t.replace("#ENC_URL",encodeURIComponent(e).replace(/\+/g,"%20")).replace("#ENC_TEXT",encodeURIComponent(n).replace(/\+/g,"%20")).replace("#URL",e).replace("#TEXT",n).replace("#{COUNT}",i&&i.tw&&i.tw["data-count"]?"&via="+i.tw["data-count"]:"").replace("#{VIA}",i&&i.tw&&i.tw["data-via"]?"&via="+i.tw["data-via"]:"")},(c=function(t){if(this.options=[],t&&"object"===$.type(t))this.options[0]=$.extend(!0,{},i,t);else if(t&&"array"===$.type(t))for(var e=0,n=t.length;e<n;++e)this.options[e]=$.extend(!0,{},i,t[e]);else t||(this.options[0]=i);for(e=0,n=this.options.length;e<n;++e)this.options[e].template=$.extend(!0,{},r[this.options[e].buttonType],this.options[e].template);this.init()}).prototype.init=function(){for(var t={},e=0,n=this.options.length;e<n;++e){var i=this.options[e],r=$(i.target);r.length&&r.each(function(){var e,n,r,c,p=$(this),u=p.attr("data-url")||"",h=p.attr("data-text")||"",d=p.attr("data-social-option"),f=p.attr("data-social-type").replace(/\s+/g,""),m={};d&&(m=s(d,"data-")),$.each(m,function(t,e){$.each(this,function(e,n){m[t][e]=l(n,u,h,m)})}),i.fragment&&(t=$.extend(!0,t,i.fragment)),e=f.match(/^(?:pack|)\[(.+)\]$/i)?RegExp.$1.split(","):new Array(f),n=$("<"+i.wrapper+" />");for(var g=0,y=e.length;g<y;++g)i.template[e[g]]&&(c=l(i.template[e[g]],u,h,m),"ul"===i.wrapper||"ol"===i.wrapper?(r=$("<li />").append($(c).attr(m[e[g]]||{})),n.append(r),g===y-1&&(n=$("<div />").append(n.append(r)))):n.append($(c).attr(m[e[g]]||{})),o[e[g]]++);var v=n.children();p.replaceWith(v),v.filter("a").on("click",function(t){var e=$(t.currentTarget).attr("data-sns-type");a[e]&&a[e](u)})})}var c,p,u,h={fragment:{}};$.each(t,function(t){h.fragment[t]=$SKD.makeFragment(this)}),c=h,p=$("body"),u=$("head"),o.fb&&($("#fb-root",p).length<=0&&p.prepend('<div id="fb-root"></div>'),$("#facebook-jssdk").length<=0&&u.append('<script id="facebook-jssdk" src="//connect.facebook.net/ja_JP/sdk.js'+(c.fragment.fb||"")+'"><\/script>')),o.tw&&$("#twitter-wjs").length<=0&&u.append('<script id="twitter-wjs" src="//platform.twitter.com/widgets.js'+(c.fragment.tw||"")+'"><\/script>'),o.gp&&u.append('<script src="https://apis.google.com/js/plusone.js'+(c.fragment.gp||"")+'"><\/script>'),o.ln&&u.append('<script src="https://d.line-scdn.net/r/web/social-plugin/js/thirdparty/loader.min.js'+(c.fragment.ln||"")+'" async defer><\/script>')},function(t){new c(t)}),$SKD.setSocialButtons=SKD.ui.view.setSocialButtons,t.floatBar=function(t,e){var n={mode:"inside"},i=$(document),r=$(window),o=function(t,e){var i=this;e&&"object"===$.type(e)||(e={}),this.options=$.extend({},n,e),this.target=t.jquery?t:$(t),this.target.addClass("deactive"),$SKD.resize(function(){i.resize.apply(i)},5)};return o.prototype.resize=function(){var t=+this.target.height();this.inside_top=$SKD.windowWidth-t,this.outside_top=$SKD.windowHeight,this.resetFloatPosition()},o.prototype.resetFloatPosition=function(){var t=this.inside_top;"outside"===this.options.mode&&(t=this.outside_top),this.target.css("top",t+"px")},o.prototype.setFloat=function(t){t&&(this.options.mode="inside"===t?"inside":"outside")},o.prototype.getScrollEnd=function(){return+i.height()-$SKD.windowHeight-5<+r.scrollTop()},o.prototype.call=function(){this.target.removeClass("deactive"),this.resize()},new o(t,e)},$SKD.floatBar=SKD.ui.view.floatBar,t.toolBar=function(t,e){var n={commands:"bar-commands"},i=($(document),$(window),function(t,e){var i=this;e&&"object"===$.type(e)||(e={}),this.options=$.extend({},n,e),this.target=t.jquery?t:$(t),this.commands=$("."+this.options.commands,t),this.proc={},this.commands.on("click","[data-action-command]",function(t){t.preventDefault(),t.stopPropagation();var e,n=$(t.target).attr("data-action-command");n&&((e=i.proc[i.range][i.role][n])&&e(i))})});return i.prototype.setMode=function(t,e){this.target.attr("data-action-role",t).attr("data-action-range",e),this.role=t,this.range=e},i.prototype.addProc=function(t,e,n){if(t&&e&&n){var i=this;this.proc[e]||(this.proc[e]={}),this.proc[e][t]={},$.each(n,function(n,r){i.proc[e][t][n]="function"===$.type(r)?r:$.noop})}},i.prototype.call=function(t,e){"string"===$.type(t)&&"string"===$.type(e)&&this.proc[e]&&this.proc[e][t]&&!$.isEmptyObject(this.proc[e][t])&&this.setMode(t,e)},new i(t,e)},$SKD.toolBar=SKD.ui.view.toolBar,t.chartbeatRank=function(){var t={count:10,range:null,template:{pageType:"pc",titleReplace:[],titleLength:30,wrapper:"<ol></ol>",lists:'<li><a href="#"><span class="rank"></span><p class="title"></p><span class="status"></span></a></li>',selector:{lists:"ol",link:"a",rank:".rank",title:".title",title_attr:"",status:".status",convert_image_path:""},imageSize:"s"},url:"",exclusion:[]},e={monitoringType:"interval",interval:7e3,errorRetry:2,timeoutRetry:3,onBeforeMonitor:null,onAfterMonitor:function(){this.clean()},onComplete:null},n={url:null,dataType:"json",type:"GET",timeout:12e4,cache:!1};function i(t){return"rank"+t}function r(t){return t?"rank-"+t:""}function o(t){for(var e,n=this,o=$.Deferred(),a=[],s=[],l=n.options.count,c=0;c<l;++c)a[c]=$.Deferred(),s.push(a[c].promise());var p=function(t){var e;n.entryStore[t].rank&&n.entryStore[t].rank.removeClass(i(n.entryStore[t].currentRank)).addClass(n.entryStore[t].updateRank?i(n.entryStore[t].updateRank):"").text(n.entryStore[t].updateRank||""),n.entryStore[t].status&&n.entryStore[t].status.removeClass(r(n.entryStore[t].currentRankStatus)).addClass(r(n.entryStore[t].updateRankStatus)).text((e=n.entryStore[t].updateRankStatus)?"rank "+e:"")};return"hide"===t?function(t){for(var e=0;e<t;++e)null!==n.entryStore[e].currentRank&&("up"===n.entryStore[e].updateRankStatus||"loss"!==n.entryStore[e].updateRankStatus&&n.entryStore[e].newRankFlag?n.entryStore[e].line.css({top:(n.entryStore[e].currentRank-1)*n.entryHeight-n.entryHeight/2+"px",opacity:0}):"down"!==n.entryStore[e].updateRankStatus&&"loss"!==n.entryStore[e].updateRankStatus||n.entryStore[e].line.css({top:(n.entryStore[e].currentRank-1)*n.entryHeight+n.entryHeight/2+"px",opacity:0})),"loss"===n.entryStore[e].updateRankStatus&&n.entryStore[e].line.css({visibility:"hidden"}),a[e].resolve()}(l):"sets"===t?function(t){for(var i=0;i<t;++i)"loss"!==n.entryStore[i].updateRankStatus&&n.entryStore[i].newRankFlag?(e=n.entryStore[i].updateParts(i),function(t,n){e.then(function(){p(n),a[n].resolve()})}(0,i)):"loss"===n.entryStore[i].updateRankStatus?(n.entryStore[i].resetParts(i),p(i),a[i].resolve()):(p(i),a[i].resolve())}(l):"move"===t?function(t){for(var e=0;e<t;++e)null!==n.entryStore[e].currentRank&&("up"===n.entryStore[e].updateRankStatus||"loss"!==n.entryStore[e].updateRankStatus&&n.entryStore[e].newRankFlag?n.entryStore[e].line.css({top:(n.entryStore[e].updateRank-1)*n.entryHeight+n.entryHeight/2+"px"}):"down"===n.entryStore[e].updateRankStatus?n.entryStore[e].line.css({top:(n.entryStore[e].updateRank-1)*n.entryHeight-n.entryHeight/2+"px"}):"loss"===n.entryStore[e].updateRankStatus&&n.entryStore[e].line.css({top:(n.entryStore[e].updateRank-1)*n.entryHeight+"px"})),a[e].resolve()}(l):"show"===t&&function(t){for(var e=0;e<t;++e)null!==n.entryStore[e].currentRank&&("up"===n.entryStore[e].updateRankStatus||"down"===n.entryStore[e].updateRankStatus||"loss"!==n.entryStore[e].updateRankStatus&&n.entryStore[e].newRankFlag)&&n.entryStore[e].line.css({top:(n.entryStore[e].updateRank-1)*n.entryHeight+"px",opacity:1,visibility:"visible"}),a[e].resolve()}(l),$.when.apply($,s).then(function(){o.resolve()}),o.promise()}var a=function(t,e){this.url="",this.title="",this.title_all="",this.currentRank=null,this.currentRankStatus=null,this.updateRank=null,this.updateRankStatus=null,this.newRankFlag=!1,this.line=$(t.lists).css("opacity",0),this.link=this.line.find(t.selector.link||""),this.rank=this.line.find(t.selector.rank||""),this.linkTitle=this.line.find(t.selector.title||""),this.linkTitleAttr=this.line.find(t.selector.title_attr||""),this.status=this.line.find(t.selector.status||""),this.convert_image_path=this.line.find(t.selector.convert_image_path||""),this.count=e,this.pageType=t.pageType,this.titleReplace=t.titleReplace,this.titleLength=t.titleLength,this.imageSize=t.imageSize};a.prototype.updateInfo=function(t,e,n){this.url=e.path;var i=e.title.replace(/ - (SANSPO.COM（サンスポ）|SankeiBiz（サンケイビズ）|ZAKZAK|MSN産経ニュース|産経ニュース|産経west|産経WEST|産経フォト)/,"");this.titleReplace.length>=2&&(i=i.replace(this.titleReplace[0],this.titleReplace[1])),this.title=$SKD.cutLength(i,this.titleLength),this.title_all=i,this.newRankFlag=!!n,this.updateRank=t+1,null===this.currentRank?this.updateRankStatus=null:this.newRankFlag?this.updateRankStatus="up":this.currentRank>this.updateRank?this.updateRankStatus="up":this.currentRank<this.updateRank?this.updateRankStatus="down":this.updateRankStatus="flat"},a.prototype.deficit=function(t){this.url="",this.title="",this.title_all="",this.newRankFlag=!1,this.updateRank=t,this.updateRankStatus="loss"},a.prototype.updateParts=function(t){var e=this,n="smp"===e.pageType?$SKD.rebuildToSmp(e.url):$SKD.rebuildToPc(e.url);e.link.attr("href",n),""!==e.title?e.linkTitle.text(e.title):e.linkTitle.text("（"+$SKD.cutLength(location.host+n,e.titleLength)+"）"),e.linkTitleAttr&&e.linkTitleAttr.attr("title",e.title_all.replace(/"/g,"&quot;"));var i=$.Deferred();if(e.convert_image_path.length){var r=function(t,n,r){e.convert_image_path.remove(),i.resolve()},o={success:function(t,n,r){e.convert_image_path.attr("src",s).attr("alt",""),i.resolve()},error:r,timeout:r,time:25e3},a=$SKD.loaderImage(),s=$SKD.getImagePath(e.url,e.imageSize);a.register(s,o),a.allLoad()}else i.resolve();return i.promise()},a.prototype.resetParts=function(t){var e=this;e.link.attr("href","#"),e.linkTitle.text(""),e.linkTitleAttr.removeAttr("title"),e.status.removeClass(""),e.convert_image_path.attr("src","").attr("alt","")},a.prototype.changeAfter=function(){this.currentRank=this.updateRank,this.updateRank=null,this.currentRankStatus=this.updateRankStatus,this.updateRankStatus=null,this.line.css("z-index",this.currentRank||0)};var s=function(t){this.running=!1,this.queue=[],this.callback=t.callback?t.callback:$.noop};s.prototype.set=function(t){this.queue.push(t),!1===this.running&&this.exec()},s.prototype.exec=function(){if(this.queue.length>0){var t;if(this.running=!0,!(t=this.queue.shift()))return void(this.running=!1);this.callback(t),this.running=!1,this.exec()}};var l=function(i,r){r&&"object"===$.type(r)||(r={}),this.options=$.extend(!0,{},t,r),this.target=i.jquery?i:$(i),this.dispCount=0,this.entryStore=[],this.entryStoreIndex={};var o=$("<div />").addClass("cb-rank-viewport");this.container=$("<div />").addClass("cb-rank-wrapper");var a=$('<div class="cb-rank-cover" />');this.target.append(o.append(this.container).append(a)),this.lists=$(this.options.template.wrapper).addClass("cb-active"),this.newRecord=[];var s=this;this.reqSet={},$.each(e,function(t,e){s.options[t]?s.reqSet[t]=s.options[t]:s.reqSet[t]=e}),this.ajxSet={},$.each(n,function(t,e){s.options[t]?s.ajxSet[t]=s.options[t]:s.ajxSet[t]=e}),this.myDomain=$SKD.chartbeat.setDomain()};return l.prototype.init=function(){for(var t,e=this,n=0;n<e.options.count;++n)e.entryStore.push(new a(e.options.template,e.dispCount)),$(e.lists).append(e.entryStore[n].line);e.lists.addClass("now-loading"),e.container.append(e.lists);var i=$.extend(e.reqSet,{onSuccess:function(n){1===this.sendTotalCount?e.dataController.apply(e,[n.pages]).then(function(){e.entryHeight=0;for(var n=0,i=e.entryStore.length;n<i;++n)e.entryStore[n].line.outerHeight(!0)>e.entryHeight&&(e.entryHeight=e.entryStore[n].line.outerHeight(!0));e.listHeight=e.entryHeight*e.entryStore.length,e.lists.height(e.listHeight);for(n=0;n<e.options.count;++n)e.entryStore[n].line.css("top",n*e.entryHeight+"px").addClass("cb-rank-entry");e.lists.removeClass("now-loading");for(n=0;n<e.dispCount;++n)e.entryStore[n].line.css("opacity",1);t=new s({callback:function(t){e.dataController(t)}})},function(){e.lists.removeClass("now-loading")}):t.set(n.pages)}});$SKD.polling(i,e.ajxSet).start()},l.prototype.dataController=function(t){for(var e=this,n=$.Deferred(),i=0;i<e.options.exclusion.length;++i)for(var r=0;r<t.length;++r)-1===t[r].path.indexOf(e.options.exclusion[i])&&-1===t[r].title.indexOf(e.options.exclusion[i])||t.splice(r--,1);if(e.options.range&&e.options.range>0){var a=new Date;a.setDate(a.getDate()-(e.options.range+1));for(i=0;i<t.length;++i)new Date(t[i].timestamp.y+"/"+t[i].timestamp.m+"/"+t[i].timestamp.d)-a<0&&t.splice(i--,1)}if(t.length>=e.options.count?e.dispCount=e.options.count:e.dispCount=t.length,this.lossCount=e.options.count-e.dispCount,e.myDomain)for(i=0;i<e.dispCount;++i)t[i].path=t[i].path.replace(e.myDomain,"");try{var s,l,c=[],p=[];for(i=0;i<e.options.count;++i)c.push(i);for(i=0;i<e.options.count;++i)(s=t[i])&&(void 0!==(l=e.entryStoreIndex[s.path])?(e.entryStore[l].updateInfo(i,s),c.splice(c.indexOf(l),1)):p.push({rank:i,data:s}));for(i=0;i<p.length;++i)e.entryStore[c.shift()].updateInfo(p[i].rank,p[i].data,!0);if(c.length>0)for(i=0;i<c.length;++i)e.entryStore[c[i]].deficit(e.options.count-c.length+i+1);var u=0;for(i=0;i<e.options.count;++i)("loss"!==this.entryStore[i].currentRankStatus&&"loss"!==this.entryStore[i].updateRankStatus&&this.entryStore[i].currentRank!==this.entryStore[i].updateRank||"loss"===this.entryStore[i].currentRankStatus&&"loss"!==this.entryStore[i].updateRankStatus||"loss"!==this.entryStore[i].currentRankStatus&&"loss"===this.entryStore[i].updateRankStatus)&&++u;if(0===u)n.resolve();else{var h=$.Deferred(),d=$.Deferred(),f=$.Deferred(),m=$.Deferred(),g=$.Deferred();h.then(function(){returnDfd_update=o.apply(e,["hide"]),returnDfd_update.then(function(){setTimeout(function(){d.resolve()},400)})}),d.then(function(){returnDfd_update=o.apply(e,["sets"]),returnDfd_update.then(function(){setTimeout(function(){f.resolve()},300)})}),f.then(function(){returnDfd_update=o.apply(e,["move"]),returnDfd_update.then(function(){setTimeout(function(){m.resolve()},400)})}),m.then(function(){returnDfd_update=o.apply(e,["show"]),returnDfd_update.then(function(){setTimeout(function(){g.resolve()},400)})}),g.then(function(){e.funcAfter(),n.resolve()}),h.resolve()}}catch(t){n.reject()}return n.promise()},l.prototype.funcAfter=function(){for(var t=0;t<this.options.count;++t)this.entryStore[t].changeAfter();this.entryStoreIndex={};for(t=0;t<this.dispCount;++t)this.entryStoreIndex[this.entryStore[t].url]=t},function(t,e){return new l(t,e)}}(),$SKD.chartbeatRank=SKD.ui.view.chartbeatRank,t.socialCount=function(){var t={count:10,disp:null,range:null,template:{pageType:"pc",titleLength:30,wrapper:"<ol>%LISTS</ol>",lists:'<li><a href="${url}"><span class="rank-image rank${rank_string}">${rank}</span><p class="title">${title}</p></a></li>',include:null,imageSize:"s"},url:"",exclusion:[]};function e(t,e,n,i){var r=t.find(">title").text();r=(r=r.replace(/ - (SANSPO.COM（サンスポ）|SankeiBiz（サンケイビズ）|ZAKZAK|MSN産経ニュース|産経ニュース|産経west|産経WEST|産経フォト)/,"")).replace(/(\:イザ！| - イザ！)/,"");var o,a,s,l=$SKD.recnstDate(t.find("pubDate").text(),"social"),c=t.find("image");return c&&(o=c.find("url").text().replace(/^.*:(\/\/)/,"$1"),a=c.find("link").text(),s=c.find("title").text()),{rank:t.find("rank").text(),rank_string:$SKD.zeroPadding(t.find("rank").text(),String(e).length),title:r,url:t.children("link").eq(0).text(),imageUrl:o,imageLink:a,imageTitle:s,timestamp:l.getYMD(".")+" "+l.getHM(),fbCount:t.find("fb").text(),twCount:t.find("tw").text()}}var n=function(t){this.pageType=t.pageType,this.titleLength=t.titleLength,this.noImageUrl=t.noImageUrl,this.wrapper=t.wrapper,this.lists=t.lists,this.include=t.include,this.imageSize=t.imageSize};n.prototype.updateParts=function(t,e){var n=this,i=n.lists,r=$.Deferred();return function(){var e=$.Deferred();if(t.imageUrl&&""!==t.imageUrl){var i=function(i,r,o){n.noImageUrl?t.imageUrl=n.noImageUrl:t.imageUrl="",e.resolve()},r={success:function(t,n,i){e.resolve()},error:i,timeout:i,time:25e3},o=$SKD.loaderImage();o.register(t.imageUrl,r),o.allLoad()}else e.resolve();return e.promise()}().then(function(){n.include&&(i=u(t,i,n.include)),i=p(i,e),i=t.rank?i.replace(/\$\{rank\}/g,t.rank):i.replace(/\$\{rank\}/g,""),i=t.rank_string?i.replace(/\$\{rank_string\}/g,t.rank_string):i.replace(/\$\{rank_string\}/g,""),i=t.title?i.replace(/\$\{title\}/g,$SKD.cutLength(t.title,n.titleLength)):i.replace(/\$\{title\}/g,""),i=t.title?i.replace(/\$\{title_all\}/g,t.title.replace(/"/g,"&quot;")):i.replace(/\$\{title_all\}/g,""),i=t.url?i.replace(/\$\{url\}/g,"smp"===n.pageType?$SKD.rebuildToSmp(t.url):$SKD.rebuildToPc(t.url)):i.replace(/\$\{url\}/g,""),i=t.imageUrl&&""!==t.imageUrl?i.replace(/\$\{imageUrl\}/g,t.imageUrl):i.replace(/<img.*?src=\"\$\{imageUrl\}\".*?>/g,""),i=t.imageLink?i.replace(/\$\{imageLink\}/g,t.imageLink):i.replace(/\$\{imageLink\}/g,""),i=t.ImageTitle?i.replace(/\$\{ImageTitle\}/g,t.ImageTitle):i.replace(/\$\{ImageTitle\}/g,""),i=t.timestamp?i.replace(/\$\{timestamp\}/g,t.timestamp):i.replace(/\$\{timestamp\}/g,""),i=t.fbCount?i.replace(/\$\{fbCount\}/g,t.fbCount):i.replace(/\$\{fbCount\}/g,""),i=t.twCount?i.replace(/\$\{twCount\}/g,t.twCount):i.replace(/\$\{twCount\}/g,""),r.resolve([i,e])}),r.promise()};var i=function(e,i){i&&"object"===$.type(i)||(i={}),this.options=$.extend(!0,{},t,i),this.target=e.jquery?e:$(e),this.container=$("<div />"),this.target.append(this.container),this.entry=new n(this.options.template)};return i.prototype.init=function(t){this.update(t)},i.prototype.update=function(t){var n=this;t.url&&t.count&&$.ajax(t.url,{dataType:"xml"}).done(function(i){for(var r=$(i).find("item"),o=r.length,a=0;a<n.options.exclusion.length;++a)r=r.filter(function(){return-1===$(this).children("link").eq(0).text().indexOf(n.options.exclusion[a])&&-1===$(this).children("title").eq(0).text().indexOf(n.options.exclusion[a])});if(n.options.range&&n.options.range>0){var s=new Date;s.setDate(s.getDate()-(n.options.range+1));for(a=0;a<r.length;++a)new Date(r[a].timestamp.y+"/"+r[a].timestamp.m+"/"+r[a].timestamp.d)-s<0&&r.splice(a--,1)}if("number"===$.type(t.count)&&r.length>t.count)for(a=t.count;a<r.length;++a)r.splice(a--,1);if(r.length!==o&&$(r).each(function(t){$(this).children("rank").eq(0).text(t+1)}),!r||r.length<=0)n.container.html("");else{var l=r.length;n.options.disp&&l>n.options.disp&&(l=n.options.disp);var c=[];for(a=0;a<l;++a)c.push(n.entry.updateParts(e(r.eq(a),l,n.entry.pageType,n.entry.imageSize),a));$.when.apply($,c).then(function(){var t="",e=[];$(arguments).each(function(){e[this[1]]=this[0]});for(var i=0,r=e.length;i<r;++i)t+=e[i];var o=$(n.entry.wrapper.replace("%LISTS",t));n.container.html(o)})}})},function(t,e){return new i(t,e)}}(),$SKD.socialCount=SKD.ui.view.socialCount,t.accessCount=function(){var t="https://3jwog04c71.execute-api.ap-northeast-1.amazonaws.com/ranking/",e="https://3jwog04c71.execute-api.ap-northeast-1.amazonaws.com/rankings/",n={latestApi:!1,environment:0,count:10,disp:null,range:null,cache:!1,template:{pageType:"pc",titleLength:30,wrapper:"<ol>%LISTS</ol>",lists:'<li><a href="${url}"><span class="rank-image rank${rank_string}">${rank}</span><p class="title">${title}</p></a></li>',include:null},exclusion:[]};var i=function(t){this.pageType=t.pageType,this.titleLength=t.titleLength,this.noImagePath=t.noImagePath,this.wrapper=t.wrapper,this.lists=t.lists,this.include=t.include};i.prototype.updateParts=function(t,e){var n=this,i=n.lists,r=$.Deferred();return function(){var e=$.Deferred();if(!t.image_path&&n.noImagePath&&(t.image_path=n.noImagePath),t.image_path&&""!==t.image_path){var i=function(i,r,o){n.noImagePath?t.image_path=n.noImagePath:t.image_path="",e.resolve()},r={success:function(t,n,i){e.resolve()},error:i,timeout:i,time:25e3},o=$SKD.loaderImage();o.register(t.image_path,r),o.allLoad()}else e.resolve();return e.promise()}().then(function(){n.include&&(i=u(t,i,n.include)),i=p(i,e),i=t.rank?i.replace(/\$\{rank\}/g,t.rank):i.replace(/\$\{rank\}/g,""),i=t.rank_string?i.replace(/\$\{rank_string\}/g,t.rank_string):i.replace(/\$\{rank_string\}/g,""),i=t.title?i.replace(/\$\{title\}/g,$SKD.cutLength(t.title,n.titleLength)):i.replace(/\$\{title\}/g,""),i=t.title?i.replace(/\$\{title_all\}/g,t.title.replace(/"/g,"&quot;")):i.replace(/\$\{title_all\}/g,""),i=t.title_tag?i.replace(/\$\{title_tag\}/g,t.title_tag):i.replace(/\$\{title_tag\}/g,""),i=t.url?i.replace(/\$\{url\}/g,"smp"===n.pageType?$SKD.rebuildToSmp(t.url):$SKD.rebuildToPc(t.url)):i.replace(/\$\{url\}/g,""),i=t.image_path&&""!==t.image_path?i.replace(/\$\{image_path\}/g,t.image_path):i.replace(/<img.*?src=\"\$\{image_path\}\".*?>/g,""),i=t.timestamp?i.replace(/\$\{timestamp\}/g,function(t){try{return t.y+"."+t.m+"."+t.d+" "+t.hh+":"+t.mi}catch(e){return t}}(t.timestamp)):i.replace(/\$\{timestamp\}/g,""),r.resolve([i,e])}),r.promise()};var r=function(r,o){if(o&&"object"===$.type(o)||(o={}),this.options=$.extend(!0,{},n,o),this.scheme=$SKD.parseUrl(location.href).protocol,this.target=r.jquery?r:$(r),$SKD.browser.ie&&$SKD.browser.ie<=9)this.xhr=$SKD.requestRanking("/_r/",this.options.service);else if(this.options.latestApi){if(!this.options.environment){var a=$SKD.parseUrl(location.href);a.host.match(/\.ieknas\.com$/)?this.options.environment=2:a.host.match(/\.[a-z]+$$/)?this.options.environment=1:this.options.environment=3}switch(this.options.environment){case 1:var s="https"===this.scheme?e:t;this.xhr=$SKD.requestRanking(s,this.options.service,{count:this.options.count,latestApi:!0,environment:this.options.environment});break;case 2:s="https"===this.scheme?"https://v345aj82d2.execute-api.ap-northeast-1.amazonaws.com/rankings/":"https://v345aj82d2.execute-api.ap-northeast-1.amazonaws.com/ranking/";this.xhr=$SKD.requestRanking(s,this.options.service,{count:this.options.count,latestApi:!0,environment:this.options.environment});break;case 3:this.xhr=$SKD.requestRanking("/ranking/",this.options.service,{count:this.options.count,latestApi:!0,environment:this.options.environment});break;default:s="https"===this.scheme?e:t;this.xhr=$SKD.requestRanking(s,this.options.service,{count:this.options.count,latestApi:!0,environment:this.options.environment})}}else this.xhr=$SKD.requestRanking("/ranking/api/v1/",this.options.service,{count:this.options.count});this.container=$("<div />"),this.target.append(this.container),this.entry=new i(this.options.template),this.cacheData={}};return r.prototype.init=function(t){this.update(t)},r.prototype.update=function(t){var e=this;e.options.cache&&e.cacheData[t.term]?e.container.html(e.cacheData[t.term]):e.xhr.get(t).done(function(n){for(var i=n.data,r=i.length,o=0;o<e.options.exclusion.length;++o)for(var a=0;a<i.length;++a)-1===i[a].url.indexOf(e.options.exclusion[o])&&-1===i[a].title.indexOf(e.options.exclusion[o])||i.splice(a--,1);if(e.options.range&&e.options.range>0){var s=new Date;s.setDate(s.getDate()-(e.options.range+1));for(o=0;o<i.length;++o)new Date(i[o].timestamp.y+"/"+i[o].timestamp.m+"/"+i[o].timestamp.d)-s<0&&i.splice(o--,1)}if(i.length!==r)for(o=0;o<i.length;++o)i[o].rank=o+1,i[o].rank_string=$SKD.zeroPadding(o+1,2);if(!i||i.length<=0)e.container.html("");else{var l=i.length;$SKD.browser.ie&&$SKD.browser.ie<=9&&(l=e.options.count),e.options.disp&&l>e.options.disp&&(l=e.options.disp);var c=[];for(o=0;o<l;++o)c.push(e.entry.updateParts(i[o],o));$.when.apply($,c).then(function(){var n="",i=[];$(arguments).each(function(){i[this[1]]=this[0]});for(var r=0,o=i.length;r<o;++r)n+=i[r];var a=$(e.entry.wrapper.replace("%LISTS",n));e.container.html(a),e.options.cache&&(e.cacheData[t.term]=$.extend({},a))})}}).fail(function(){console.log(arguments)})},function(t,e){return new r(t,e)}}(),$SKD.accessCount=SKD.ui.view.accessCount,t.scrollToPoint=function(){try{if($SKD.type.WindowsPhone)return}catch(t){}if(arguments.length){var t;t="array"===$.type(arguments[0])?arguments[0]:[arguments[0]];var e=0;arguments[1]&&"number"===$.type(arguments[1])&&(e=arguments[1]),$.each(t,function(t,n){if(null!==n){var i="a[href='"+n+"']";$(document).on("click",i,(r=n,o=e,function(t){var e;t.stopPropagation();try{e=$(r).offset().top}catch(t){e=null}null!==e&&(t.preventDefault(),$("body, html").animate({scrollTop:e+o},500))}))}var r,o})}},$SKD.scrollToPoint=SKD.ui.view.scrollToPoint,t.contentsOpener=function(t,e){var n="ready",i={more:".more-part",button:'<div class="readNext"><a href="#">続きを読む</a></div>',loading:!1,openedClass:"opened",fadeClass:"fade",onTap:null,onBeforeOpen:null,onAfterOpen:null},r=function(t,e){this.target=t.jquery?t:$(t),!this.target||this.target.length<=0||(e&&"object"===$.type(e)||(e={}),this.options=$.extend({},i,e),this.init())};return r.prototype.init=function(){var t=this;t.target.each(function(e){var i=$SKD.monitorJs(t.target[e],{tag:"readMore"});if(i.init(),!i.status)return!0;if($SKD.ie&&$SKD.ie<=8)return $(t.options.more,i.container).addClass("fallback"),!0;var r=$(t.options.more,i.container);if(r.length<=0)return i.holder.remove(),!0;if(t.options.loading){var o=$("<div />").addClass("now-loading "+n);i.holder.append(o)}var a=$(t.options.button);i.holder.append(a);var s=0,l=!1,c=null,p=i.container.attr("data-phased-opening"),u=p&&"true"===p?function(){var e=r.filter(":not(."+t.options.openedClass+")"),a=e.length,l=e.eq(0);"function"===$.type(t.options.onBeforeOpen)&&t.options.onBeforeOpen(l),l.addClass(t.options.openedClass),setTimeout(function(){l.addClass(t.options.fadeClass)},150),a<=1?i.holder.remove():(s=0,i.container.removeClass("active"),o&&o.addClass(n)),"function"===$.type(t.options.onAfterOpen)&&t.options.onAfterOpen(l)}:function(){"function"===$.type(t.options.onBeforeOpen)&&t.options.onBeforeOpen(r),r.addClass(t.options.openedClass),setTimeout(function(){r.addClass(t.options.fadeClass)},150),i.holder.remove(),"function"===$.type(t.options.onAfterOpen)&&t.options.onAfterOpen(r)};a.on("click",function(e){e.preventDefault(),l||(l=!0,"function"===$.type(t.options.onTap)&&t.options.onTap(),s=0,c=null,i.container.addClass("active"),o?(o.removeClass(n),$SKD.support.transition?(o.on($SKD.support.transitionEvent,function(t){o.hasClass(n)||("opacity"===t.originalEvent.propertyName&&s++,"height"===t.originalEvent.propertyName&&s++,2===s&&setTimeout(function(){clearTimeout(c),o.off($SKD.support.transitionEvent),u(),l=!1},550))}),c=setTimeout(function(){s<2&&(clearTimeout(c),o&&o.off($SKD.support.transitionEvent),u(),l=!1)},2e3)):setTimeout(function(){u(),l=!1},550)):u())}),i.complete(),i.close()})},new r(t,e)},$SKD.contentsOpener=SKD.ui.view.contentsOpener}(SKD.ui.view),function(t){var e,n,i,r,o,a;t.monitorJs=(e="data-js-complete",n="data-js-tag",i={tag:null},(r=function(t,e){e&&"object"===$.type(e)||(e={}),this.options=$.extend({},i,e),this.container=t.jquery?t:$(t),this.allHolder,this.compHolder,this.holder,this.status=!1}).prototype.init=function(){var t=this;t.allHolder=$(".js-holder",t.container),t.compHolder=t.allHolder.filter("["+e+"]"),t.holder=t.allHolder.not("["+e+"]"),t.options.tag&&"string"===$.type(t.options.tag)?(t.allHolder=t.allHolder.filter("["+n+"='"+t.options.tag+"']"),t.compHolder=t.compHolder.filter("["+n+"='"+t.options.tag+"']"),t.holder=t.holder.filter("["+n+"='"+t.options.tag+"']").addClass("js-holder-ready")):t.holder=t.holder.addClass("js-holder-ready"),t.holder.length<=0||(t.status=!0)},r.prototype.cancel=function(t){$(t||".not-fallback",this.holder).removeClass("not-fallback")},r.prototype.complete=function(){this.holder.attr(e,"true")},r.prototype.close=function(){this.holder.removeClass("js-holder-ready")},function(t,e){return new r(t,e)}),$SKD.monitorJs=SKD.ui.util.monitorJs,t.activater=(o={interval:3e3},(a=function(t,e){var n=this;e&&"object"===$.type(e)||(e={}),this.options=$.extend({},o,e),this.target=t.jquery?t:$(t),this.activate=!1,this.state="",this.auto_off=function(){n.off.apply(n)}}).prototype.status=function(){return this.activate},a.prototype.on=function(t){var e=this;this.activate||(this.activate=!0,this.state&&(this.target.removeClass(this.state),this.state=""),"string"===$.type(t)&&t.length>0&&this.target.addClass(this.state=t),this.options.on&&"function"===$.type(this.options.on)?this.options.on():this.options.ready?(this.target.addClass("active-ready"),setTimeout(function(){e.target.addClass("active")},this.options.ready)):this.target.addClass("active"))},a.prototype.off=function(){var t=this;this.activate&&(this.activate=!1,this.options.off&&"function"===$.type(this.options.off)?this.options.off():(this.target.removeClass("active"),this.options.ready&&setTimeout(function(){t.target.removeClass("active-ready")},this.options.ready)))},a.prototype.auto=function(t){this.activate&&this.off(),this.on(t),setTimeout(this.auto_off,this.options.interval)},function(t,e){return new a(t,e)}),$SKD.activater=SKD.ui.util.activater}(SKD.ui.util));