/*! (c) 2014 SANKEI DIGITAL INC.
 *  URL: http://www.sankei-digital.co.jp/
 *  name: 株式会社産経デジタル　産経ニュース[PC] - ランキングウィジェット
 *  Date: 2018.02.14
 *  version: 1.0.11
 *  note: 
 *  license: 著作権者の許可なく、改変・複製・商用利用・再配布等の行為を禁じる。
 *
*/
!function(){var a=$SKD.parseUrl(location.href).path.split("/");if("tokyo2020"===a[1]){var b=$("#modRanking");$(".chartbeatTab",b).removeClass("current").css("display","none"),$(".accesscountTab",b).addClass("current"),$(".socialcountTab",b).css("display","none"),$(".chartbeatBody",b).removeClass("current").css("display","none"),$(".socialcountBody",b).css("display","none"),$(".more",b).css("display","none")}else if("pyeongchang2018"===a[1]){var b=$("#modRanking");$(".socialcountTab",b).css("display","none"),$(".socialcountBody",b).css("display","none")}var c="pc",d=[{latestApi:!0,module:"accessCount",output:".accessRankingWidget",service:"sankei",template:{pageType:c,titleLength:14,wrapper:'<ol class="clearfix">%LISTS</ol>',lists:'<li class="clearfix"><span class="rank${rank_string}">${rank}</span><a href="${url}" title="${title_all}" target="_top">${title}</a></li>'},limit:10,term:"daily",genre:"all",article_or_photo:"article"},{module:"socialCount",output:".socialRankingWidget",template:{pageType:c,titleLength:14,wrapper:'<ol class="clearfix">%LISTS</ol>',lists:'<li class="clearfix"><span class="rank${rank_string}">${rank}</span><a href="${url}" title="${title_all}" target="_top">${title}</a><dl class="status">\r\n<dt class="speech">twitter経由のカウント</dt>\r\n<dd class="tw">${twCount}</dd>\r\n<dt class="speech">Facebook経由のカウント</dt>\r\n<dd class="fb">${fbCount}</dd>\r\n</dl></li>'},limit:5,url:"/module/design/social/pc_${genre}.xml"},{module:"chartbeatRank",output:".chartbeatRankingWidget",template:{pageType:c,titleLength:14,wrapper:'<ol class="clearfix"></ol>',lists:'<li class="clearfix"><span class="rank"></span><a href="#" target="_top"></a></li>',selector:{lists:"ol",link:"a",rank:".rank",title:"a",title_attr:"a"}},limit:10,url:"/module/design/chartbeat/pc_${genre}.json",interval:1e4}],e={all:["all"],main:["main","affairs","politics","economy","world","column","premium"],sports:["sports"],entertainments:["entertainments"],life:["life"],wired:["wired"],gqjapan:["gqjapan"],west:["west"],rio2016:["rio2016"],tokyo2020:["tokyo2020"],pyeongchang2018:["pyeongchang2018"]},f={all:["all","flash"],main:["main","affairs","politics","economy","world","column","premium"],sports:["sports"],entertainments:["entertainments"],life:["life"],wired:["wired"],gqjapan:["gqjapan"],west:["west"],rio2016:["rio2016"],tokyo2020:["tokyo2020"],pyeongchang2018:["pyeongchang2018"]},g=function(a,b){var c="",d=0;return $.each(b,function(b,e){d||(c=b);for(var f=0,g=e.length;g>f;++f)"string"===$.type(a)?a===e[f]&&(c=b):"array"===$.type(a)&&-1!==$.inArray(e[f],a)&&(c=b);d++}),c},h=function(a,b){var c=g(j,f);c?"all"===c?b.attr("href","/main/ranking/"+c+"-r.html?key="+a):b.attr("href","/"+c+"/ranking/"+c+"-r.html?key="+a):b.attr("href","/main/ranking/all-r.html?key="+a)},i=$("#modRanking"),j=i.data("rank-genre");j||(j=location.pathname.match(/^\/.*?\//)[0].replace(/\//g,""));var k=$("#modRankingSocial");$.each(d,function(a,b){var c=$(b.output,i);c.length||(c=$(b.output,k)),c.length&&c.each(function(){var a=$(this),c=$SKD.monitorJs(a);if(c.init(),!c.status)return!0;var d=a.data("limit")||b.limit||null,f=a.data("rank-disp")||b.disp||null,h=a.data("rank-range")||b.range||null,i=a.data("rank-term")||b.term||null,k=b.interval||null,l=g(a.data("rank-genre")||j||b.genre,e);"accessCount"===b.module&&"all"===l&&(l="flash");var m=b.url||null;m&&(m=m.replace(/\$\{genre\}/g,l).replace(/pc_(?!all)/g,""));var n;n=b.latestApi&&"topics"===l?"topics":b.article_or_photo||null;var o=a.data("rank-title");o&&$.isNumeric(o)&&(b.template.titleLength=o);var p={service:b.service,count:d,disp:f,range:h,interval:k,url:m,template:b.template},q={genre:l,term:i,count:d,url:m,article_or_photo:n};b.latestApi&&(p.latestApi=b.latestApi),b.environment&&(p.environment=b.environment);var r=$SKD[b.module](c.holder,p);r.init(q),c.complete(),c.close()})}),$SKD.switchTabs(".skduiTabs",{visibility:!0,active:"current",deactive:"nocurrent",onInit:function(a,b,c){h(a,$(".more a",$(b)))},onChange:function(a,b,c){h(a,$(".more a",$(b)))}})}();