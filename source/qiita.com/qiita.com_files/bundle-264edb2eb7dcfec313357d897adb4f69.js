var QiitaNext=function(e){"use strict";try{var t=new window.CustomEvent("test");if(t.preventDefault(),!0!==t.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var n=function(e,t){var n,o;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o=n.preventDefault,n.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};n.prototype=window.Event.prototype,window.CustomEvent=n}var o=setTimeout;function i(){}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function a(n,o){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,r._immediateFn(function(){var e=1===n._state?o.onFulfilled:o.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void l(o.promise,e)}s(o.promise,t)}else(1===n._state?s:l)(o.promise,n._value)})):n._deferreds.push(o)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void d((o=n,i=e,function(){o.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){l(t,e)}var o,i}function l(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,l(t,e))})}catch(e){if(n)return;n=!0,l(t,e)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=new this.constructor(i);return a(this,new u(e,t,n)),n},r.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})},r.all=function(t){return new r(function(o,i){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return o([]);var a=r.length;function s(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){s(t,e)},i)}r[t]=e,0==--a&&o(r)}catch(e){i(e)}}for(var e=0;e<r.length;e++)s(e,r[e])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(n){return new r(function(e,t){t(n)})},r.race=function(i){return new r(function(e,t){for(var n=0,o=i.length;n<o;n++)i[n].then(e,t)})},r._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){o(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var f=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==f)return f;throw new Error("unable to locate global object")}();f.Promise||(f.Promise=r);var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};var m=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function g(r,a,s,l){return new(s||(s=Promise))(function(e,t){function n(e){try{i(l.next(e))}catch(e){t(e)}}function o(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,o)}i((l=l.apply(r,a||[])).next())})}function h(n,o){var i,r,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(a=r[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(r,t[1])).done)return a;switch(r=0,a&&(t=[0,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,r=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],r=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function v(e,t){for(var n=[],o=[],i=arguments.length;2<i--;)n.push(arguments[i]);for(;n.length;){var r=n.pop();if(r&&r.pop)for(i=r.length;i--;)n.push(r[i]);else null!=r&&!0!==r&&!1!==r&&o.push(r)}return"function"==typeof e?e(t||{},o):{nodeName:e,attributes:t||{},children:o,key:t&&t.key}}function _(e,t,n,o){var i,r=[].map,a=o&&o.children[0]||null,s=a&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:r.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:t(e)})}}(a),v=[],_=!0,l=y(e),c=function e(o,i,r){for(var t in r)"function"==typeof r[t]?function(e,n){r[e]=function(e){var t=n(e);return"function"==typeof t&&(t=t(p(o,l),r)),t&&t!==(i=p(o,l))&&!t.then&&d(l=f(o,y(i,t),l)),t}}(t,r[t]):e(o.concat(t),i[t]=y(i[t]),r[t]=y(r[t]));return r}([],l,y(t));return d(),c;function w(e){return"function"==typeof e?w(e(l,c)):null!=e?e:""}function u(){i=!i;var e=w(n);for(o&&!i&&(a=function e(t,n,o,i,r){if(i===o);else if(null==o||o.nodeName!==i.nodeName){var a=function e(t,n){var o="string"==typeof t||"number"==typeof t?document.createTextNode(t):(n=n||"svg"===t.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName);var i=t.attributes;if(i){i.oncreate&&v.push(function(){i.oncreate(o)});for(var r=0;r<t.children.length;r++)o.appendChild(e(t.children[r]=w(t.children[r]),n));for(var a in i)k(o,a,i[a],null,n)}return o}(i,r);t.insertBefore(a,n),null!=o&&C(t,n,o),n=a}else if(null==o.nodeName)n.nodeValue=i;else{!function(e,t,n,o){for(var i in y(t,n))n[i]!==("value"===i||"checked"===i?e[i]:t[i])&&k(e,i,n[i],t[i],o);var r=_?n.oncreate:n.onupdate;r&&v.push(function(){r(e,t)})}(n,o.attributes,i.attributes,r=r||"svg"===i.nodeName);for(var s={},l={},c=[],u=o.children,d=i.children,f=0;f<u.length;f++){c[f]=n.childNodes[f];var p=b(u[f]);null!=p&&(s[p]=[c[f],u[f]])}for(var f=0,m=0;m<d.length;){var p=b(u[f]),g=b(d[m]=w(d[m]));if(l[p])f++;else if(null==g||_)null==p&&(e(n,c[f],u[f],d[m],r),m++),f++;else{var h=s[g]||[];p===g?(e(n,h[0],h[1],d[m],r),f++):h[0]?e(n,n.insertBefore(h[0],c[f]),h[1],d[m],r):e(n,c[f],null,d[m],r),l[g]=d[m],m++}}for(;f<u.length;)null==b(u[f])&&C(n,c[f],u[f]),f++;for(var f in s)l[f]||C(n,s[f][0],s[f][1])}return n}(o,a,s,s=e)),_=!1;v.length;)v.pop()()}function d(){i||(i=!0,setTimeout(u))}function y(e,t){var n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n}function f(e,t,n){var o={};return e.length?(o[e[0]]=1<e.length?f(e.slice(1),t,n[e[0]]):t,y(n,o)):t}function p(e,t){for(var n=0;n<e.length;)t=t[e[n++]];return t}function b(e){return e?e.key:null}function m(e){return e.currentTarget.events[e.type](e)}function k(e,t,n,o,i){if("key"===t);else if("style"===t)for(var r in y(o,n)){var a=null==n||null==n[r]?"":n[r];"-"===r[0]?e[t].setProperty(r,a):e[t][r]=a}else"o"===t[0]&&"n"===t[1]?(t=t.slice(2),e.events?o||(o=e.events[t]):e.events={},(e.events[t]=n)?o||e.addEventListener(t,m):e.removeEventListener(t,m)):t in e&&"list"!==t&&!i?e[t]=null==n?"":n:null!=n&&!1!==n&&e.setAttribute(t,n),null!=n&&!1!==n||e.removeAttribute(t)}function C(e,t,n){function o(){e.removeChild(function e(t,n){var o=n.attributes;if(o){for(var i=0;i<n.children.length;i++)e(t.childNodes[i],n.children[i]);o.ondestroy&&o.ondestroy(t)}return t}(t,n))}var i=n.attributes&&n.attributes.onremove;i?i(t,o):o()}}var w=Object.freeze({h:v,app:_}),y={Y:function(e){return e.getFullYear().toString()},m:function(e){return("0"+(e.getMonth()+1)).slice(-2)},d:function(e){return("0"+e.getDate()).slice(-2)},H:function(e){return("0"+e.getHours()).slice(-2)},M:function(e){return("0"+e.getMinutes()).slice(-2)},"%":function(){return"%"}},b=new RegExp("(%["+Object.keys(y).join("")+"])","g");function k(t,e){return e.split(b).map(function(e){return b.test(e)?y[e[1]](t):e}).join("")}var C=60,I=60*C,L=24*I,R=30*L,S=365*L;function T(e){return t=new Date(e),o=Math.floor((Date.now()-t.getTime())/1e3),S<o?1===(n=Math.floor(o/S))?"1 year":n+" years":R<o?1===(n=Math.floor(o/R))?"1 month":12<=n?"1 year":n+" months":L<o?1===(n=Math.floor(o/L))?"1 day":n+" days":I<o?1===(n=Math.floor(o/I))?"1 hour":24<=n?"1 day":n+" hours":C<o?1===(n=Math.floor(o/C))?"1 minute":60<=n?"1 hour":n+" minutes":1===o?"1 second":60<=o?"1 minute":o+" seconds";var t,n,o}var O,M=function(){function e(o,i){void 0===o&&(o="keyval-store"),void 0===i&&(i="keyval"),this.storeName=i,this._dbp=new Promise(function(e,t){var n=indexedDB.open(o,1);n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e(n.result)},n.onupgradeneeded=function(){n.result.createObjectStore(i)}})}return e.prototype._withIDBStore=function(i,r){var a=this;return this._dbp.then(function(o){return new Promise(function(e,t){var n=o.transaction(a.storeName,i);n.oncomplete=function(){return e()},n.onabort=n.onerror=function(){return t(n.error)},r(n.objectStore(a.storeName))})})},e}();function D(){return O||(O=new M),O}var A=function(){function e(e,t){this.store=new M(e,t)}return e.prototype.getValue=function(i){return g(this,void 0,void 0,function(){return h(this,function(e){return[2,(t=i,n=this.store,void 0===n&&(n=D()),n._withIDBStore("readonly",function(e){o=e.get(t)}).then(function(){return o.result}))];var t,n,o})})},e.prototype.setValue=function(i,r){return g(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,(t=i,n=r,o=this.store,void 0===o&&(o=D()),o._withIDBStore("readwrite",function(e){e.put(n,t)}))];case 1:return e.sent(),[2]}var t,n,o})})},e}(),x=void 0,H=new A("visitAnonymousUser",k(new Date,"store-%Y%m")),E=function(n,o){return g(x,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return[4,P(n)];case 1:return t=e.sent(),[4,H.setValue(n,t+o)];case 2:return e.sent(),[2]}})})},P=function(t){return g(x,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,H.getValue(t)];case 1:return[2,e.sent()||0]}})})},B={"public/home#index":2,"public/users#show":2,"public/tags#show":3},N=function(e,t){return void 0===t&&(t=0),0<=e?N(e-1,t+10*(e+1)):t},j=function(e){return Promise.all([E("visitCount",1),E("score",(t=e,B[t]||1))]).then(function(){return{success:!0}}).catch(function(e){return{errors:e,success:!1}});var t};var F=function(){function e(){this.apps={}}return e.prototype.register=function(e,t){this.apps[e]=t},e.prototype.run=function(t){var n=this;Array.prototype.slice.call(document.querySelectorAll("[data-hyperapp-app]")).forEach(function(e){return n.process(e,t)})},e.prototype.process=function(e,t){if(!e.dataset.hyperappMounted){var n=m({},t,JSON.parse(e.dataset.hyperappProps||"{}")),o=e.dataset.hyperappApp,i=this.apps[o];if(null==i)throw new Error("Unknown App: "+o);var r=_(i.state,i.actions,function(){return i.Component(n)},e);return e.setAttribute("data-hyperapp-mounted","true"),r}},e}(),U={};var z=function(){function e(e,t){this.data=this.parseResponse(e.response),this.status=e.status,this.statusText=e.statusText,this.headers=this.parseHeaders(e.getAllResponseHeaders().split("\n")),this.request=e,this.config=t}return e.prototype.isSuccess=function(){return 200<=this.status&&this.status<300},e.prototype.parseResponse=function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e},e.prototype.parseHeaders=function(e){return e.reduce(function(e,t){var n=t.split(":",2),o=n[0].trim().toLocaleLowerCase(),i=n[1]?n[1].trim():"";return o&&(e[o]=e[o]?e[o]+", "+i:i),e},{})},e}(),q=function(r){function e(e,t,n,o){var i=r.call(this,e)||this;return i.config=t,i.code=n,i.request=o,i}return function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(e,r),e}(Error);function V(e,t){var n=[];for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];Array.isArray(i)?o+="[]":i=[i];for(var r=0,a=i;r<a.length;r++){var s=a[r];null!=s&&(s instanceof Date&&(s=s.toISOString()),n.push(o+"="+encodeURIComponent(s.toString())))}}return n.length?e+(-1===e.indexOf("?")?"?":"&")+n.join("&"):e}function $(a,s,l){return void 0===l&&(l={}),new Promise(function(e,t){var n=new XMLHttpRequest,o=m({},U,l.headers);for(var i in n.open(a,l.params?V(s,l.params):s,!0),n.onload=function(){n&&(e(new z(n,l)),n=null)},n.onerror=function(){n&&(t(new q("Network Error",l,null,n)),n=null)},n.ontimeout=function(){n&&l.timeout&&(t(new q("Timeout of "+l.timeout+" ms exceeded",l,"ECONNABORTED",n)),n=null)},o)o.hasOwnProperty(i)&&n.setRequestHeader(i,o[i]);l.timeout&&(n.timeout=l.timeout);var r=l.data;"object"==typeof r&&"application/json;charset=UTF-8"===o["Content-Type"]&&(r=JSON.stringify(r)),n.send(void 0!==r?r:null)})}function W(e){var t=e.toTry,n=e.max,o=e.delay,i=e.success,r=e.fail,a=t();a?i(a):0<n?setTimeout(function(){return W({toTry:t,max:n-1,delay:2*o,success:i,fail:r})},o):r&&r()}function Q(n,o){var e;return function(){return e||(e=new Promise(function(e,t){Y(n),W({toTry:o,max:15,delay:100,success:e,fail:t})})),e}}var Y=function(e){var t=document.createElement("script");t.src=e,document.head.appendChild(t)};function G(e,t){return window[e]=t}function K(e){return window[e]}function X(n){var o,i=!1;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i||(o=n.apply(void 0,e),i=!0),o}}G("dataLayer",K("dataLayer")||[]);var J=X(function(e){Y("https://www.googletagmanager.com/gtag/js?id="+e),Z("js",new Date)});function Z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];K("dataLayer").push(arguments)}var ee=X(function(){!function(e,r){if(!r.__SV){var a,s,t=window;try{var n,o,i,l=t.location,c=l.hash;n=function(e,t){return(o=e.match(RegExp(t+"=([^&]*)")))?o[1]:null},c&&n(c,"state")&&"mpeditor"===(i=JSON.parse(decodeURIComponent(n(c,"state")))).action&&(t.sessionStorage.setItem("_mpcehash",c),history.replaceState(i.desiredHash||"",e.title,l.pathname+l.search))}catch(e){}(window.mixpanel=r)._i=[],r.init=function(e,t,n){function o(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var i=r;for(void 0!==n?i=r[n]=[]:n="mixpanel",i.people=i.people||[],i.toString=function(e){var t="mixpanel";return"mixpanel"!==n&&(t+="."+n),e||(t+=" (stub)"),t},i.people.toString=function(){return i.toString(1)+".people (stub)"},a="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),s=0;s<a.length;s++)o(i,a[s]);r._i.push([e,t,n])},r.__SV=1.2,(t=e.createElement("script")).type="text/javascript",t.async=!0,t.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(n=e.getElementsByTagName("script")[0]).parentNode.insertBefore(t,n)}}(document,window.mixpanel||[])});function te(){return ee(),mixpanel}var ne="";function oe(e){Z("config",e||ne,{send_page_view:!0})}function ie(e){Z("event","share",{method:e,non_interaction:!1})}function re(e,t){Z("event",e,{event_category:"Prompt Login Modal Actions",event_label:t,value:1,non_interaction:"Open"===e})}function ae(n){return Object.keys(n).reduce(function(e,t){return e[t]=function e(i){return Object.keys(i).reduce(function(t,n){var o=i[n];return"object"==typeof o?Object.keys(e(o)).forEach(function(e){t[n+"."+e]=o[e]}):t[n]=o,t},{})}(n[t]),e},{})}var se,le,ce,ue,de,fe,pe;(le=se||(se={})).Comment="Comment",le.Like="Like",le.Post="Post",(ue=ce||(ce={})).MONTHLY="MONTHLY",ue.WEEKLY="WEEKLY",(fe=de||(de={})).ALL="ALL",fe.MONTHLY="MONTHLY",fe.WEEKLY="WEEKLY";var me,ge={timeline:"Timeline",trend:"Trends",tag_feed:"Tags Feed",milestones:"Milestone"},he=((pe={})[de.ALL]="All",pe[de.MONTHLY]="Monthly",pe[de.WEEKLY]="Weekly",pe),ve={AnonymousHomeMenu:{trend:"Trends"},ArticleHeader:{day:function(e){return"Day "+e.day},edit:"Edit",posted_at:function(e){var t=e.time;return"posted at "+k(new Date(t),"%Y-%m-%d")},updated_at:function(e){var t=e.time;return"updated at "+k(new Date(t),"%Y-%m-%d")},revisions:"Revisions",edit_requests:"Edit Requests",likers:"Show all likers",article_as_markdown:"Show article in Markdown",delete:"Delete",report_article:"Report article"},ArticleFooter:{like:"Like",liked:"Liked",send_edit_request:"Edit request",stock:"Stock"},ArticleLikeMileStones:{readmore:"Read more"},GlobalHeader:{community:"Community",communityDropdown:{users:"List of all users",organizations:"List of all organizatioins",adventcalendar:"Advent Calendar",qiitadon:"Qiitadon (β)",communityguideline:"Community Guideline",howtowrite:"How to write good articles"},home:"Home",homeDropdown:ge,login:"Login",logout:"Logout",notificationDropdown:{title:"Notifications",settings:"Settings",more:"See all"},post:"Post",profileDropdown:{mypage:"Profile",drafts:"Drafts",editRequests:"Edit Requests",settings:"Settings",help:"Help",logout:"Logout"},searchPlaceholder:"Search",signup:"Signup",stock:"Stocked Items"},HomeMenu:ge,OrganizationMemberFollowButton:{fail_to_submit:"Fail to submit. Please try again later"},OrganizationDetailSort:{created:"Newest",likes:"Most liked"},OrganizationIndexSort:{activity_for_31_days:"Activity for 31 days",weeks_activity:"Activity for a week"},OrganizationIssueReport:{report_organization:"Report organization"},IssueReportModal:{help_us_understand_problem:function(e){return"Help us understand the problem. What is going on with this "+e.targetType.toLowerCase()+"?"},spam:"It's spam",harassment:"It's abusive or harmful",inappropriate_content:"It contains inappropriate content",submit:"Submit",thank_you_for_feedback:"Thank you for your feedback :)",fail_to_submit:"Fail to submit. Please try again later"},LoginModal:{sign_in_to_action:"Sign in to continue the action.",sign_in_with_email:"Sign in with Email",sign_in_with_twitter:"Sign in with Twitter",sign_in_with_github:"Sign in with GitHub",sign_in_with_google:"Sign in with Google",sign_up:"Sign up"},PromptLoginModal:{title:"Why do not you register as a user and use Qiita more conveniently?",prompt_message:"You seem to be reading articles frequently this month. You can use this function by logging in.",prompt_match:"We will deliver articles that match you",prompt_match_description:"By following users and tags, you can catch up information on technical fields that you are interested in as a whole",prompt_stock:"you can read useful information later efficiently",prompt_stock_description:'By "stocking" the articles you like, you can search right away',sign_in:"Login",sign_up:"Sign up"},PersonalPublicArticle:{deprecation_alert_message:function(e){var t=e.years;return"More than "+t+" "+(1<t?"years have":"year has")+" passed since last update."}},RealmSelector:{logInToAnotherTeam:"Log in to another team...",logInToQiitaTeam:"Log in to Qiita:Team...",loggedInTeams:"Logged in teams",youAreNotLoggedInToAnyTeam:"You are not logged in to any team"},RecommendedUsers:{follow:"Follow",title:"Recommended users"},SettingsPassword:{very_weak:"Very weak",weak:"weak",medium:"medium",strong:"strong",very_strong:"very strong"},TagArticleDropdown:{new_articles:"New posts",recently_liked:"Recently liked"},TagFeedItem:{tag_got_a_new_post:"got a new post"},TagFeedPage:{readmore:"Read more",see_new_items:function(e){return"See new "+e.count+" posts"},title:"Tag Feed"},TagFollowButton:{follow:"Follow",following:"Following",unfollow:"Unfollow"},TagsRanking:{title:"Tags ranking",period:he},TimelineItem:{comment:"<span class='tl-ItemHeader_action'>commented</span>",like:"<span class='tl-ItemHeader_action'>liked</span>",post:"<span class='tl-ItemHeader_action'>posted</span>"},TimelinePage:{title:"Timeline",readmore:"Read more",actions:{},blankMessage:{title:"You have no followers yet.",description:"Follow some users who write good articles and comments.<br />They will find more interesting things for you. Let's get started!"}},TrendItemList:{title:"Trends",description:"Trending items the last 5 AM or 5 PM.",blankMessage:{title:"There is no trend.",description:"We are sorry for the inconvenience. Please wait for a while and access again.<br />If it is displayed repeatedly, please contact <a href='https://support.qiita.com/hc/ja/requests/new'>Qiita:Support</a>."}},TrendPeriod:{daily:"Daily",weekly:"Weekly",monthly:"Monthly"},UserInfo:{posts:"Posts",followers:"Followers"},UsersRanking:{title:"Users ranking",period:he},OrganizationsRanking:{title:"Organizations ranking",period:he},ArticleCommentList:{banned:"This comment has been deleted for violation of our Terms of Service.",comment:"Comments",if_you_already_have_account:"If you already have a Qiita account ",login:"Login",sign_up_or_sign_in_to_join:"Sign up for free and join this conversation.",sign_up:"Sign Up"},ArticleReferenceList:{reference_list_title:"Linked from these articles",hide_links:"Hide links except the latest 5 ones",expand_links:function(e){return"Show old "+e.count+" links"}},OptoutAlert:{back_to_old_design:"Back to previous design",feedback:"Feedback",placeholder:"Give feedback to new Qiita",submit:"Submit",successfully_submitted:"Successfully submitted"}},_e={timeline:"タイムライン",trend:"トレンド",tag_feed:"タグフィード",milestones:"マイルストーン"},we=((me={})[de.ALL]="全て",me[de.MONTHLY]="月間",me[de.WEEKLY]="週間",me),ye={AnonymousHomeMenu:{trend:"トレンド"},ArticleHeader:{day:function(e){return e.day+"日目"},edit:"編集する",posted_at:function(e){var t=e.time;return k(new Date(t),"%Y年%m月%d日")+"に投稿"},updated_at:function(e){var t=e.time;return k(new Date(t),"%Y年%m月%d日")+"に更新"},revisions:"編集履歴",edit_requests:"編集リクエスト一覧",likers:"いいねしたユーザ一覧",article_as_markdown:"Markdown で本文を見る",delete:"削除",report_article:"問題がある投稿を報告する"},ArticleFooter:{like:"いいね",liked:"いいね済み",send_edit_request:"編集リクエスト",stock:"ストック"},ArticleLikeMileStones:{readmore:"もっと読む"},GlobalHeader:{community:"コミュニティ",communityDropdown:{users:"ユーザー一覧",organizations:"Organization一覧",adventcalendar:"アドベントカレンダー",qiitadon:"Qiitadon (β)",communityguideline:"コミュニティガイドライン",howtowrite:"良い記事を書くために"},home:"ホーム",homeDropdown:_e,login:"ログイン",logout:"ログアウト",notificationDropdown:{title:"お知らせ",settings:"通知設定",more:"通知一覧を見る"},post:"投稿する",profileDropdown:{mypage:"マイページ",drafts:"下書き一覧",editRequests:"編集リクエスト一覧",settings:"設定",help:"ヘルプ",logout:"ログアウト"},searchPlaceholder:"キーワードを入力",signup:"ユーザ登録",stock:"ストック一覧"},HomeMenu:_e,OrganizationMemberFollowButton:{fail_to_submit:"送信に失敗しました。しばらく待ってから再試行してください。"},OrganizationDetailSort:{created:"投稿順",likes:"いいね順"},OrganizationIndexSort:{activity_for_31_days:"31日間の活動量",weeks_activity:"1週間の活動量"},OrganizationIssueReport:{report_organization:"問題があるOrganizationを通報する"},IssueReportModal:{help_us_understand_problem:function(e){var t=e.targetType;return"この"+("Article"===t?"投稿":"Comment"===t?"コメント":"Organization")+"にどのような問題がありますか？"},spam:"スパムです",harassment:"攻撃的または迷惑な内容を含んでいます",inappropriate_content:"不適切な内容を含んでいます",submit:"送信",thank_you_for_feedback:"ご意見ありがとうございました。",fail_to_submit:"送信に失敗しました。しばらく待ってから再試行してください。"},LoginModal:{sign_in_to_action:"ログインが必要です。",sign_in_with_email:"メールアドレスでログインする",sign_in_with_twitter:"Twitter でログインする",sign_in_with_github:"GitHub でログインする",sign_in_with_google:"Google でログインする",sign_up:"アカウントを登録する"},PromptLoginModal:{title:"ユーザー登録して、Qiitaをもっと便利に使ってみませんか。",prompt_message:"あなたは今月よく記事を読んでいるみたいです。ログインするとこんな機能が使えます。",prompt_match:"あなたにマッチした記事をお届けします",prompt_match_description:"ユーザーやタグをフォローすることで、あなたが興味を持つ技術分野の情報をまとめてキャッチアップできます",prompt_stock:"便利な情報をあとで効率的に読み返せます",prompt_stock_description:"気に入った記事を「ストック」することで、あとからすぐに検索できます",sign_in:"ログインする",sign_up:"登録する"},PersonalPublicArticle:{deprecation_alert_message:function(e){return"この記事は最終更新日から"+e.years+"年以上が経過しています。"}},RealmSelector:{logInToAnotherTeam:"他のチームにログイン...",logInToQiitaTeam:"Qiita:Team にログイン...",loggedInTeams:"ログイン中のチーム",youAreNotLoggedInToAnyTeam:"ログイン中のチームがありません"},RecommendedUsers:{follow:"フォロー",title:"おすすめユーザー"},SettingsPassword:{very_weak:"とても弱い",weak:"弱い",medium:"まずまず",strong:"強い",very_strong:"とても強い"},TagArticleDropdown:{new_articles:"新着順",recently_liked:"最近いいねされた順"},TagFeedItem:{tag_got_a_new_post:"に新しい投稿がありました"},TagFeedPage:{readmore:"もっと読む",see_new_items:function(e){return"新しい投稿 "+e.count+" 件を見る"},title:"タグフィード"},TagFollowButton:{follow:"フォロー",following:"フォロー中",unfollow:"解除"},TagsRanking:{title:"タグ・ランキング",period:we},TimelineItem:{comment:"が <span class='tl-ItemHeader_action'>コメント</span> しました",like:"が <span class='tl-ItemHeader_action'>いいね</span> しました",post:"が <span class='tl-ItemHeader_action'>投稿</span> しました"},TimelinePage:{title:"タイムライン",readmore:"もっと読む",blankMessage:{title:"まだフォローしている人がいません 😳",description:"Qiitaで良い情報を発信している人をみつけたらその人をフォローしてみましょう。<br />フォローした人は、きっとあなたにも関心の高い記事を見つけてきてくれます :)"}},TrendItemList:{title:"トレンド",description:"最近人気の記事を毎日5時/17時に更新",blankMessage:{title:"トレンドがありません 😳",description:"ご迷惑おかけいたします。しばらく時間をおいてから再度アクセスしてください。<br />繰り返し表示される場合は、<a href='https://support.qiita.com/hc/ja/requests/new'>Qiita:Support</a>にご連絡ください。"}},TrendPeriod:{daily:"1日",weekly:"週間",monthly:"月間"},UserInfo:{posts:"投稿",followers:"フォロワー"},UsersRanking:{title:"ユーザーランキング",period:we},OrganizationsRanking:{title:"Organizationランキング",period:we},ArticleCommentList:{banned:"サービス利用規約に基づき、このコメントは削除されました。",comment:"コメント",if_you_already_have_account:"すでにアカウントを持っている方は",sign_up_or_sign_in_to_join:"あなたもコメントしてみませんか :)",sign_up:"ユーザ登録",login:"ログイン"},ArticleReferenceList:{reference_list_title:"この記事は以下の記事からリンクされています",hide_links:"最新の5件以外を隠す",expand_links:function(e){return"過去の"+e.count+"件を表示する"}},OptoutAlert:{back_to_old_design:"元のトップに戻す",feedback:"フィードバックを送信",placeholder:"Qiitaの新トップページについてご意見をお聞かせ下さい。",submit:"送信",successfully_submitted:"送信しました"}},be={en:ae(ve),ja:ae(ye)},ke="ja",Ce=function(e){return i=be,r=ke,o=e,function(e,t){var n=i[r][o][e];switch(typeof n){case"function":return t?n(t):"";case"string":return n;default:return""}};var o,i,r},Ie=function(e){var t=e.count;return v("div",{class:"tl-DummyItemList p-2"},Array.apply(null,Array(t)).map(function(e,t){return v("div",{class:"tl-DummyItemList_content tl-DummyItem",key:t},v("div",{class:"tl-DummyItem_image mr-1"}),v("div",{class:"tl-DummyItem_body"},v("div",{class:"tl-DummyItem_text mb-1"}),v("div",{class:"tl-DummyItem_text mb-1"}),v("div",{class:"tl-DummyItem_text mb-1"})))}))},Le=["query getArticleLikeMilestones($after: String, $first: Int, $excludeMuted: Boolean, $count: Int!) {\n  likeMilestones(after: $after, first: $first, type: Article, count: $count, excludeMuted: $excludeMuted) {\n    ...ArticleLikeMilestones\n  }\n}\n","fragment ArticleLikeMilestones on LikeMilestoneConnection {\n  pageInfo {\n    hasNextPage\n    endCursor\n  }\n  edges {\n    ...ArticleLikeMilestoneEdge\n  }\n}\n\nfragment ArticleLikeMilestoneEdge on LikeMilestoneEdge {\n  node {\n    createdAt\n    likable {\n      ... on Article {\n        ...ArticleOfArticleLikeMilestoneEdge\n      }\n    }\n  }\n}\n\nfragment ArticleOfArticleLikeMilestoneEdge on Article {\n  title\n  uuid\n  tags {\n    name\n    urlName\n  }\n  author {\n    urlName\n    name\n    profileImageUrl\n  }\n}\n"].join("\n"),Re=["query getOrganizationRanking($scope: OrganizationRankingScope!) {\n  organizationRanking(scope: $scope) {\n    ...OrganizationRanking\n  }\n}\n","fragment OrganizationRanking on OrganizationRankingConnection {\n  edges {\n    ...OrganizationRankingEdge\n  }\n}\n\nfragment OrganizationRankingEdge on OrganizationRankingEdge {\n  score\n  node {\n    name\n    logoUrl\n    urlName\n  }\n}\n"].join("\n"),Se=["query getTagFeed($after: String, $first: Int) {\n  tagFeed(after: $after, first: $first) {\n    ...TagFeed\n  }\n}\n","fragment TagFeed on TagFeedConnection {\n  pageInfo {\n    endCursor\n    hasNextPage\n  }\n  edges {\n    ...TagFeedEdge\n  }\n}\n\nfragment TagFeedEdge on TagFeedEdge {\n  createdAt\n  tags {\n    mediumIconUrl\n    name\n    urlName\n  }\n  node {\n    title\n    uuid\n    author {\n      profileImageUrl\n      urlName\n    }\n    tags {\n      name\n      urlName\n    }\n  }\n}\n"].join("\n"),Te=["query getTagRanking($scope: RankingScope!) {\n  tagRanking(scope: $scope) {\n    ...TagRanking\n  }\n}\n","fragment TagRanking on TagRankingConnection {\n  edges {\n    ...TagRankingEdge\n  }\n}\n\nfragment TagRankingEdge on TagRankingEdge {\n  score\n  node {\n    mediumIconUrl\n    name\n    urlName\n  }\n}\n"].join("\n"),Oe=["query getTimeline($after: String, $first: Int) {\n  timeline(after: $after, first: $first) {\n    ...Timeline\n  }\n}\n","fragment Timeline on TimelineConnection {\n  pageInfo {\n    endCursor\n    hasNextPage\n  }\n  edges {\n    ...TimelineEdge\n  }\n}\n\nfragment TimelineEdge on TimelineEdge {\n  actionType\n  actions {\n    type\n    actedAt\n    actor {\n      profileImageUrl\n      urlName\n    }\n  }\n  node {\n    ... on Article {\n      title\n      uuid\n      author {\n        urlName\n        profileImageUrl\n      }\n    }\n    ... on Comment {\n      summary\n      uuid\n      article {\n        title\n        uuid\n        author {\n          urlName\n        }\n      }\n      commenter {\n        profileImageUrl\n        urlName\n      }\n    }\n  }\n}\n"].join("\n"),Me=["query getUserRanking($scope: RankingScope!) {\n  userRanking(scope: $scope) {\n    ...UserRanking\n  }\n}\n","fragment UserRanking on UserRankingConnection {\n  edges {\n    ...UserRankingEdge\n  }\n}\n\nfragment UserRankingEdge on UserRankingEdge {\n  score\n  node {\n    name\n    profileImageUrl\n    urlName\n  }\n}\n"].join("\n");function De(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ae(e,t){return e(t={exports:{}},t.exports),t.exports}var xe=Ae(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,d=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f=(n=0,function(e){return""+e+n++}),p=/\s|\(|{/,o=function(e,t,n){var o,i,r,a,s,l,c,u=(o=e,i=t,r=[],a=[],s={},Object.keys(i).forEach(function(e){var n=i[e],o=n.query;Object.keys(n.decls).sort(function(e,t){return t.length-e.length}).forEach(function(e){var t=f(e);o=o.replace("$"+e,"$"+t),a.push("$"+t+": "+n.decls[e].type),s[t]=n.decls[e].value}),r.push(e+":"+o)}),{query:o+(a.length?"("+a.join(",")+")":"")+"{\n"+r.join("\n")+"\n}",variables:s});n(u.query,u.variables,(c=t,function(e){var o=e.data,t=e.errors,i={},r={};o&&Object.keys(o).forEach(function(e){var t,n=c[e].query.split(p,1)[0];i[e]={data:(t={},t[n]=o[e],t)},r[e]=n}),t&&t.forEach(function(e){if(e.path&&e.path.length){var t=e.path[0];if(!r[t])return;i[t]||(i[t]={errors:[]}),i[t].errors||(i[t].errors=[]),i[t].errors.push(d({},e,{path:[r[t]].concat(e.path.slice(1))}))}}),Object.keys(i).forEach(function(e){c[e]&&c[e].resolve(i[e])}),Object.keys(c).forEach(function(e){c[e].resolve({})})}),(l=t,function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];Object.keys(l).forEach(function(e){var t;(t=l[e]).reject.apply(t,n)})}))},i=function(){function e(e){this.buffers={query:{},mutation:{}},this.timerIds={query:null,mutation:null},this.wait=null==e.wait?50:e.wait,this.handle=e.handle}return e.prototype.query=function(e,t){return void 0===t&&(t={}),this.buffer("query",e.trim(),t)},e.prototype.mutation=function(e,t){return void 0===t&&(t={}),this.buffer("mutation",e.trim(),t)},e.prototype.buffer=function(n,o,i){var r=this;return new Promise(function(e,t){r.buffers[n][f("alias")]={query:o,decls:i,resolve:e,reject:t},r.timerIds[n]||(r.timerIds[n]=setTimeout(function(){r.flush(n)},r.wait))})},e.prototype.flush=function(e){o(e,this.buffers[e],this.handle),this.buffers[e]={},this.timerIds[e]=null},e}();t.GraphQLClient=i});De(xe);new xe.GraphQLClient({handle:function(e,t,n,o){$("POST","/graphql",{data:{query:e,variables:t}}).then(function(e){return n(e.data)}).catch(o)}});var He=function(n,o){return function(e){return new Promise(function(t){return $("POST","/graphql",{data:{query:n,variables:e}}).then(function(e){return t({success:e.data.data&&e.data.data[o]&&!e.data.errors,data:e.data.data[o],errors:e.data.errors})})})}},Ee=He(Le,"likeMilestones"),Pe=function(e){return"/drafts/"+e.uuid},Be=function(e){return"/login?callback_action=login_or_signup&redirect_to="+encodeURIComponent(e.redirectTo)+"&realm=qiita"},Ne=function(e){return $e(e.author)+"/items/"+e.uuid},je=function(e){return Ne(e.article)+"#comment-"+e.uuid},Fe=function(e){return"/auth/"+e.provider+"?callback_action=login_or_signup&redirect_to="+encodeURIComponent(e.redirectTo)+"&realm=qiita"},Ue=function(e){return"/organizations/"+e.urlName},ze=function(e){return Ne(e)+"/likers"},qe=function(e){return"/signup?callback_action=login_or_signup&redirect_to="+encodeURIComponent(e.redirectTo)+"&realm=qiita"},Ve=function(e){return"/tags/"+e.urlName},$e=function(e){return"/"+e.urlName},We={init:function(e){return{pageInfo:e.likeMilestones.pageInfo,edges:e.likeMilestones.edges,isInitialized:!0,count:e.count}},loadNextPage:function(){return function(e,t){if(e.pageInfo&&e.pageInfo.hasNextPage)return Ee({after:e.pageInfo.endCursor,first:20,excludeMuted:!0,count:e.count}).then(function(e){if(!e.success)throw new Error;t.appendPage(e.data)}).catch(function(){t.handleLoadingFailure()}),{isLoading:!0}}},appendPage:function(t){return function(e){return{pageInfo:t.pageInfo,edges:(e.edges||[]).concat(t.edges),isLoading:!1}}},handleLoadingFailure:function(){return{isLoading:!1}}};var Qe=function(e){var t=e.edge;return t.node&&!!t.node.likable.author&&v("div",{class:"alm-Item"},v("a",{class:"alm-Item_userImage",href:$e(t.node.likable.author)},v("img",{src:t.node.likable.author.profileImageUrl,alt:t.node.likable.author.urlName})),v("div",{class:"alm-Item_body"},v("a",{class:"alm-Item_title",href:Ne(t.node.likable)},t.node.likable.title),v("div",{class:"alm-Item_meta"},v("span",null,"by",v("a",{class:"alm-Item_author",href:$e(t.node.likable.author)},t.node.likable.author.urlName)),v("time",null,T(t.node.createdAt)," ago"))))},Ye=Object.freeze({state:{isInitialized:!1,isLoading:!1,count:10},actions:We,Component:function(o){return function(e,t){if(e.isInitialized){var n=Ce("ArticleLikeMileStones");return e.edges&&e.edges.length?v("div",null,e.edges.map(function(e){return e&&v(Qe,{edge:e})}),e.isLoading?v(Ie,{count:5}):e.pageInfo&&e.pageInfo.hasNextPage&&v("button",{class:"alm-ItemList_moreButton",onclick:t.loadNextPage},n("readmore"))):v("div",null,"No like milestones")}t.init(o)}}}),Ge={init:function(e){return e},handleChange:function(r){return function(e,i){return g(void 0,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:return(t=r.target.files[0])?[4,(o=t,new Promise(function(e,t){var n=new FileReader;n.readAsDataURL(o),n.onload=function(){e(n.result)},n.onerror=t}))]:[3,2];case 1:return n=e.sent(),i.update({filename:t.name,preview:n}),[3,3];case 2:i.update({filename:null,preview:null}),e.label=3;case 3:return[2]}var o})})}},update:function(e){return e}},Ke=Object.freeze({state:{filename:null,preview:null},actions:Ge,Component:function(e){var n=e.id,o=e.name,i=e.label,r=e.filename,a=e.preview,s=e.errors,l=e.helpText;return function(e,t){return v("div",{class:"st-Form st-Form-separated",oncreate:function(){return t.init({filename:r,preview:a})}},v("label",{class:"st-Form_file",for:n},i,v("input",{type:"file",name:o,id:n,onchange:t.handleChange}),v("div",{class:"st-Form_filename"},e.filename)),s.map(function(e){return v("div",{class:"st-Form_alertText"},e)}),v("div",{class:"st-Form_help"},l),e.preview&&v("img",{class:"st-Form_preview",src:e.preview}))}}}),Xe={viewBox:"0 0 75 25",path:"M24.6 12.2C24.6 6.2 20 0 12.2 0 6.2 0 0 4.6 0 12.4c0 6 4.6 12.2 12.4 12.2 2.5 0 5-.8 7.1-2.3l3.6 3.6 1.6-1.6-3.4-3.4c2.1-2.3 3.3-5.3 3.3-8.7zm-12.4-10c5.7 0 10.2 4.4 10.2 10.1 0 4.9-3.8 10.1-10.1 10.1s-10.1-5.1-10.1-10c0-6.4 5.1-10.2 10-10.2zM30.5 7.1h2.1v17h-2.1zM31.5 4.8c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zM40 4.8c-1 0-1.8-.8-1.8-1.8S39 1.2 40 1.2s1.8.8 1.8 1.8S41 4.8 40 4.8zM39 7.1h2.1v17H39zM53.7 24.4c-3.9 0-6.2-3-6.2-6v-16h2.1v4.7H57v2.1h-7.4v9.3c0 1.9 1.5 3.9 4.1 3.9.7 0 1.4-.2 2-.6l.2-.1 1 1.8-.2.1c-.9.5-2 .8-3 .8zM67.6 24.5c-5.7 0-9.1-4.5-9.1-8.9 0-5.7 4.5-9.1 8.9-9.1 2.3 0 4.1.8 5.4 2.3V7.1h2.1v17h-2.1v-1.9c-1.2 1.5-3 2.3-5.2 2.3zm-.2-15.9c-3.4 0-6.8 2.6-6.8 7 0 3.4 2.6 6.8 7 6.8 2 0 4-.9 5.3-2.5v-8.8c-1.4-1.6-3.3-2.5-5.5-2.5z",brandColor:"#55c500"},Je={qiitaLogo:Xe};function Ze(e,t){var n,o="",i=typeof e;if(e&&"string"===i||"number"===i)return e;if(t=t||" ",Array.isArray(e)&&e.length)for(var r=0,a=e.length;r<a;r++)(n=Ze(e[r],t))&&(o+=(o&&t)+n);else for(var r in e)e.hasOwnProperty(r)&&(n=e[r])&&(o+=(o&&t)+r+("object"==typeof n?Ze(n,t+r):""));return o}var et=function(e,t){setTimeout(function(){e.contains(document.activeElement)||document.activeElement===document.body||t()},0)},tt=function(e){var t=e.showsLoginState;return v("div",{class:"st-RealmDivider"},v("div",{class:"st-RealmDivider_cell"}),v("div",{class:"st-RealmDivider_cell st-RealmDivider_cell-bordered"}),t&&v("div",{class:"st-RealmDivider_cell st-RealmDivider_cell-bordered"}))},nt=function(e){var t=e.realm,n=e.showsLoginState,o=e.onClick;return v("a",{key:t.teamId,class:"st-Header_dropdownItem st-RealmItem",href:t.url,onblur:function(e){et(e.target.parentNode.parentNode,o)}},v("div",{class:"st-RealmItem_statusIcon"},t.isCurrentRealm&&v("span",{class:"fa fa-fw fa-check"})),v("div",{class:"st-RealmItem_humanName"},t.humanName),n&&v("div",{class:"st-RealmItem_userInfo"},t.loggedInUser&&v("span",null,v("img",{src:t.loggedInUser.profileImageUrl,alt:t.loggedInUser.urlName,class:"st-RealmItem_userImage"}),v("span",{class:"st-RealmItem_username"},t.loggedInUser.urlName))))},ot=function(e){return v("div",{class:"st-RealmSelector_label"},e.text)},it=function(e){var t,n=e.isOpen,o=e.onBlur,i=e.onClickItem,r=e.onClickSelector,a=e.realms,s=e.teamFindUrl,l=Ce("RealmSelector"),c=0<a.filter(function(e){return e.isQiitaTeam}).length,u=a.map(function(e){return e.loggedInUser?e.loggedInUser.urlName:null}).filter(function(e){return e}),d=0<u.length&&!(0!==(t=u).length&&!t.some(function(e){return e!==t[0]})),f=a.filter(function(e){return e.isQiitaTeam}).map(function(e){return v(nt,{realm:e,showsLoginState:d,onClick:i})});0<f.length&&f.push(v(tt,{showsLoginState:d}));var p=function(e,t){for(var n=0,o=a;n<o.length;n++){var i=o[n];if(i.isQiita)return i}throw new Error("qiita realm not found")}();return f.push(v(nt,{realm:p,showsLoginState:d,onClick:i})),v("div",null,v("div",{class:"st-Header_realmSelector",tabindex:"0",onclick:r,onfocus:r,onblur:function(e){et(e.target.parentNode,o)}},v("span",{class:"fa fa-fw fa-caret-down"})),v("div",{class:Ze(["st-Header_dropdown st-RealmSelector",{"is-open":n}])},c&&v(ot,{text:l("loggedInTeams")}),v("div",{class:"st-RealmSelector_realms"},f),v("hr",null),v("div",{class:"st-RealmSelector_supplements"},!c&&v(ot,{text:l("youAreNotLoggedInToAnyTeam")}),v("a",{href:s,class:"st-Header_dropdownItem st-RealmSelectorSupplement",onblur:function(e){et(e.target.parentNode,o)}},v("div",{class:"st-RealmSelectorSupplement_icon"},v("span",{class:"fa fa-fw fa-sign-in"})),v("div",null,0===a.filter(function(e){return e.isQiitaTeam}).length?l("logInToQiitaTeam"):l("logInToAnotherTeam"))))))};function rt(){return location.pathname}var at={init:function(e){return e},openCommunityDropdown:function(){return{isCommunityDropdownOpen:!0}},closeCommunityDropdown:function(){return{isCommunityDropdownOpen:!1}},openHomeDropdown:function(){return{isHomeDropdownOpen:!0}},closeHomeDropdown:function(){return{isHomeDropdownOpen:!1}},openProfileDropdown:function(){return{isProfileDropdownOpen:!0}},closeProfileDropdown:function(){return{isProfileDropdownOpen:!1}},openNotification:function(){return{hasEverNotificationOpened:!0,isNotificationOpen:!0}},closeNotification:function(){return{isNotificationOpen:!1}},setQuery:function(e){return{searchQuery:e}},openSearchForm:function(){return{isSearchFormOpen:!0}},closeSearchForm:function(){return{isSearchFormOpen:!1}},openRealmSelector:function(){return{isRealmSelectorOpen:!0}},closeRealmSelector:function(){return{isRealmSelectorOpen:!1}},logout:function(e){e.preventDefault(),$("POST","/logout").then(function(){location.href="/"})},updateUnreadNotificationsCount:function(e){return{unreadNotificationsCount:e}}},st=Object.freeze({state:{hasEverNotificationOpened:!1,isHomeDropdownOpen:!1,isCommunityDropdownOpen:!1,isNotificationOpen:!1,isProfileDropdownOpen:!1,isSearchFormOpen:!1,isRealmSelectorOpen:!1,searchQuery:"",unreadNotificationsCount:0},actions:at,Component:function(e){var o=e.currentUser,i=e.unreadNotificationsCount,r=e.realms,a=e.teamFindUrl,s=e.isTeamOnlyUser;return function(t,n){var e=Ce("GlobalHeader");return v("div",{class:Ze(["st-Header",{"is-dropdown-open":t.isCommunityDropdownOpen||t.isHomeDropdownOpen||t.isNotificationOpen||t.isNotificationOpen||t.isProfileDropdownOpen||t.isRealmSelectorOpen,"is-searchform-open":t.isSearchFormOpen}]),oncreate:function(){return n.init({unreadNotificationsCount:i})}},v("div",{class:"st-Header_container"},v("div",{class:"st-Header_start"},v("a",{href:"/",class:"st-Header_logo mr-1"},v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:Xe.viewBox},v("title",null,"Qiita"),v("path",{d:Xe.path}))),v(it,{isOpen:t.isRealmSelectorOpen,onBlur:n.closeRealmSelector,onClickItem:n.closeRealmSelector,onClickSelector:n.openRealmSelector,realms:r,teamFindUrl:a}),o&&0!==Object.keys(o).length&&v("div",null,v("div",{class:"st-Header_home",tabindex:"0",onclick:n.openHomeDropdown,onfocus:n.openHomeDropdown,onblur:function(e){et(e.target.parentNode,n.closeHomeDropdown)}},e("home"),v("span",{class:"fa fa-fw fa-caret-down ml-1of2"})),v("div",{class:Ze(["st-Header_dropdown",{"is-open":t.isHomeDropdownOpen}])},v("a",{href:"/",class:"st-Header_dropdownItem",onclick:n.closeHomeDropdown},v("span",{class:"fa fa-fw fa-line-chart mr-1of2"}),e("homeDropdown.trend")),v("a",{href:"/timeline",class:"st-Header_dropdownItem",onclick:n.closeHomeDropdown},v("span",{class:"fa fa-fw fa-list-ul mr-1of2"}),e("homeDropdown.timeline")),v("a",{href:"/tag-feed",class:"st-Header_dropdownItem",onclick:n.closeHomeDropdown,onblur:function(e){et(e.target.parentNode.parentNode,n.closeHomeDropdown)}},v("span",{class:"fa fa-fw fa-tags mr-1of2"}),e("homeDropdown.tag_feed")),o.isStaff&&v("a",{href:"/milestones",class:"st-Header_dropdownItem",onclick:n.closeHomeDropdown,onblur:function(e){et(e.target.parentNode.parentNode,n.closeHomeDropdown)}},v("span",{class:"fa fa-fw fa-flag-checkered mr-1of2"}),e("homeDropdown.milestones")))),v("div",null,v("div",{class:"st-Header_community",tabindex:"0",onclick:n.openCommunityDropdown,onfocus:n.openCommunityDropdown,onblur:function(e){et(e.target.parentNode,n.closeCommunityDropdown)}},e("community"),v("span",{class:"fa fa-fw fa-caret-down ml-1of2"})),v("div",{class:Ze(["st-Header_dropdown",{"is-open":t.isCommunityDropdownOpen}])},v("a",{href:"/users",class:"st-Header_dropdownItem"},v("span",{class:"fa fa-fw fa-users mr-1of2"}),e("communityDropdown.users")),v("a",{href:"/organizations",class:"st-Header_dropdownItem"},v("span",{class:"fa fa-fw fa-building-o mr-1of2"}),e("communityDropdown.organizations")),v("a",{href:"/advent-calendar",class:"st-Header_dropdownItem"},v("span",{class:"fa fa-fw fa-calendar mr-1of2"}),e("communityDropdown.adventcalendar")),v("div",{class:"st-Header_dropdownSeparator"}),v("a",{href:"https://qiitadon.com/",class:"st-Header_dropdownItem",target:"_blank"},v("span",{class:"fa fa-fw fa-comments-o mr-1of2"}),e("communityDropdown.qiitadon")),v("div",{class:"st-Header_dropdownSeparator"}),v("a",{href:"http://help.qiita.com/ja/articles/qiita-community-guideline",class:"st-Header_dropdownItem",target:"_blank"},v("span",{class:"fa fa-fw fa-book mr-1of2"}),e("communityDropdown.communityguideline")),v("a",{href:"http://help.qiita.com/ja/articles/qiita-article-guideline",class:"st-Header_dropdownItem",target:"_blank",onblur:function(e){et(e.target.parentNode.parentNode,n.closeCommunityDropdown)}},v("span",{class:"fa fa-fw fa-book mr-1of2"}),e("communityDropdown.howtowrite")))),v("form",{class:"st-Header_search",action:"/search",method:"get"},v("span",{class:"fa fa-search"}),v("input",{class:"st-Header_searchInput",type:"search",autocomplete:"off",placeholder:e("searchPlaceholder"),value:t.searchQuery,name:"q",required:!0,oninput:function(e){return n.setQuery(e.target.value)}})),v("div",{class:"st-Header_searchButton",onclick:n.openSearchForm},v("span",{class:"fa fa-search"}))),o&&Object.keys(o).length?v("div",{class:"st-Header_end"},v("a",{href:"/stock",class:"st-Header_stock mr-2 py-2"},v("span",{class:"fa fa-fw fa-folder-open mr-1of2"}),v("span",{class:"st-Header_stock-label"},e("stock"))),v("a",{href:"/drafts/new",class:"st-Header_postButton mr-2 px-2"},v("span",{class:"fa fa-fw fa-pencil-square-o mr-1"}),e("post")),v("div",{class:"u-relative"},v("div",{class:Ze(["st-Header_notifications",{"st-Header_notifications-active":0<t.unreadNotificationsCount}]),tabindex:"0",onclick:function(){n.openNotification(),n.updateUnreadNotificationsCount(0)}},99<t.unreadNotificationsCount?"99+":t.unreadNotificationsCount),t.hasEverNotificationOpened&&v("div",{class:Ze(["st-Header_notiIframe",{"is-open":t.isNotificationOpen}])},v("div",{class:"st-Header_notiHeader"},v("div",null,v("span",{class:"fa fa-bell-o mgr-1"}),e("notificationDropdown.title")),v("a",{href:"/settings/notifications"},e("notificationDropdown.settings"))),v("iframe",{src:"/notifications?iframe=1"}),v("div",{class:"st-Header_notiFooter"},v("a",{href:"/notifications"},e("notificationDropdown.more"))))),v("div",{class:"u-relative"},v("div",{class:"st-Header_loginUser",tabindex:"0",onclick:n.openProfileDropdown,onfocus:n.openProfileDropdown,onblur:function(e){et(e.target.parentNode,n.closeProfileDropdown)}},v("img",{src:o.profileImageUrl,alt:o.urlName}),v("span",{class:"fa fa-fw fa-caret-down ml-1"})),v("div",{class:Ze(["st-Header_dropdown",{"is-open right":t.isProfileDropdownOpen}])},v("a",{href:"/"+o.urlName,class:"st-Header_dropdownItem"},e("profileDropdown.mypage")),v("div",{class:"st-Header_dropdownSeparator"}),v("a",{href:"/drafts",class:"st-Header_dropdownItem"},e("profileDropdown.drafts")),v("a",{href:"/patches",class:"st-Header_dropdownItem"},e("profileDropdown.editRequests")),v("div",{class:"st-Header_dropdownSeparator"}),v("a",{href:"/settings",class:"st-Header_dropdownItem"},e("profileDropdown.settings")),v("a",{href:"http://help.qiita.com/ja/categories/qiita/",class:"st-Header_dropdownItem",target:"_blank"},e("profileDropdown.help")),v("div",{class:"st-Header_dropdownSeparator"}),v("div",{class:"st-Header_dropdownItem",tabindex:"0",onclick:n.logout,onblur:function(e){et(e.target.parentNode.parentNode,n.closeProfileDropdown)}},e("profileDropdown.logout"))))):s?v("div",{class:"st-Header_end"},v("div",{class:"st-Header_logoutLink",tabindex:"0",onclick:n.logout},e("logout"))):v("div",{class:"st-Header_end"},v("a",{class:"st-Header_signupButton",href:"/signup?redirect_to="+encodeURIComponent(rt())},e("signup")),v("a",{class:"st-Header_loginLink",href:"/login?redirect_to="+encodeURIComponent(rt())},e("login"))),v("div",{class:"st-Header_overlay",onclick:function(){t.isCommunityDropdownOpen&&n.closeCommunityDropdown(),t.isHomeDropdownOpen&&n.closeHomeDropdown(),t.isNotificationOpen&&n.closeNotification(),t.isProfileDropdownOpen&&n.closeProfileDropdown(),t.isSearchFormOpen&&n.closeSearchForm(),t.isRealmSelectorOpen&&n.closeRealmSelector()}}),v("form",{class:"st-Header_searchModal",action:"/search",method:"get"},v("input",{class:"st-Header_searchModalInput",type:"text",autocomplete:"off",placeholder:e("searchPlaceholder"),value:t.searchQuery,name:"q",required:!0,oninput:function(e){return n.setQuery(e.target.value)},onupdate:function(e){t.isSearchFormOpen&&e.focus()}}))))}}});G("googletag",K("googletag")||{}),googletag.cmd=googletag.cmd||[];var lt=X(function(){return Y("https://www.googletagservices.com/tag/js/gpt.js")});function ct(){return lt(),googletag}var ut={slot:null},dt={set:function(e){return{slot:e}}},ft=function(t){return v("div",{id:t.id,class:Ze([t.class]),key:t.id,"data-test-adunitpath":t.adUnitPath,oncreate:function(){return ct().cmd.push(function(){var e=ct().defineSlot(t.adUnitPath,t.size,t.id).addService(ct().pubads());t.actions.set(e),!1!==t.display&&(ct().enableServices(),ct().display(t.id))})},ondestroy:function(){return ct().cmd.push(function(){ct().destroySlots([t.state.slot])})}})},pt=Object.freeze({Component:function(n){return function(e,t){return v(ft,m({state:e,actions:t,display:!0},n))}},state:ut,actions:dt}),mt=function(t){return function(e){return e.innerHTML=t}},gt={visibility:"hidden",opacity:0,transition:"visibility 0ms 200ms, opacity 200ms linear"},ht=0;function vt(e){return m({},e,{id:"id"+ht++})}var _t={init:function(e){return e},add:function(e){var t=e.message,n=e.append;return function(e){return{messages:n?e.messages.concat([vt(t)]):[vt(t)].concat(e.messages)}}},dismiss:function(e){var t=e.id;return function(e){return{messages:e.messages.map(function(e){return t===e.id?m({},e,{dismissed:!0}):e})}}},dismissLater:function(e){var n=e.id,o=e.wait;return function(e,t){setTimeout(function(){return t.dismiss({id:n})},o)}},remove:function(e){var t=e.id;return function(e){return{messages:e.messages.filter(function(e){return t!==e.id})}}},removeLater:function(e){var n=e.id,o=e.wait;return function(e,t){setTimeout(function(){return t.remove({id:n})},o)}}},wt=Object.freeze({state:{messages:[]},actions:_t,Component:function(e){var t=e.messages;return function(e,o){return v("div",{class:"msg-Container",oncreate:function(){return o.init({messages:t})}},e.messages.map(function(n){return v("div",{key:n.id,class:"msg-Item msg-Item-"+n.type+" msg-Item-dismissible",style:n.dismissed?gt:null,dismissed:n.dismissed,oncreate:function(){"notice"===n.type&&o.dismissLater({id:n.id,wait:5e3})},onupdate:function(e,t){n.dismissed&&!t.dismissed&&o.removeLater({id:n.id,wait:300})}},v("div",{class:"msg-Item_body",oncreate:mt(n.body)}),v("button",{class:"msg-Item_dismiss",onclick:function(){return o.dismiss({id:n.id})}},v("span",{class:"fa fa-close"})))}))}}}),yt=function(e,t){var n=e.align,o=e.isOpen,i=e.onRequestClose;return v("div",{class:Ze(["st-Dropdown",{"is-open":o,right:"right"===n,left:"right"!==n}]),oncreate:function(e){var t,n;e.clickhandler=(t=e,n=i,function(e){e.target instanceof Node&&!t.contains(e.target)&&n()})},onupdate:function(e,t){-1===t.class.indexOf("is-open")&&o?addEventListener("click",e.clickhandler):-1===t.class.indexOf("is-open")||o||removeEventListener("click",e.clickhandler)},ondestroy:function(e){removeEventListener("click",e.clickhandler)}},t)};var bt=function(e){var a=e.render;return function(e,t){var n,o,i,r=(n=a(),o=e,i=t,"function"==typeof n?n(o,i):n);return r.attributes.class=Ze(["st-Dropdown_item",r.attributes.class]),r}},kt=function(){return v("div",{class:"st-Dropdown_separator"})},Ct={dropDown:{isOpen:!1,align:"left",onRequestClose:function(){}}},It={toggleDropdown:function(){return function(e){var t=e.dropDown;return Ct.dropDown.isOpen=!Ct.dropDown.isOpen,{dropDown:t}}}},Lt=Object.freeze({state:Ct,actions:It,Component:function(e){var t=e.type,o=void 0===t?"weeks_activity":t;return function(e,t){var n=Ce("OrganizationIndexSort");return v("div",null,v("div",{class:"of-ItemListHeader_content"},v("button",{class:"ol-SortBar_button",type:"button",onclick:t.toggleDropdown},v("span",{class:"ol-SortBar_buttonIcon fa fa-sort-amount-desc"}),v("span",{class:"ol-SortBar_buttonText"},n(o)),v("span",{class:"ol-SortBar_buttonIcon fa fa-caret-down"}))),v("div",{class:"ol-SortDropdown"},v(yt,m({},e.dropDown),v(bt,{render:function(){return v("a",{href:"?sort=activity_stats_total"},n("activity_for_31_days"))}}),v(kt,null),v(bt,{render:function(){return v("a",{href:"?sort=default"},n("weeks_activity"))}}))))}}}),Rt=function(n,e){return v("div",{class:Ze(["st-Modal",{"is-open":n.isOpen}]),onupdate:function(e,t){-1===t.class.indexOf("is-open")&&n.isOpen&&n.onAfterOpen&&n.onAfterOpen()},key:n.key||"Modal"},v("div",{class:"st-Modal_backdrop",onclick:n.onRequestClose}),v("div",{class:Ze(["st-Modal_body",n.class])},e))},St={isSubmitting:!1,isOpen:!1},Tt={open:function(e){return{targetType:e.targetType,targetId:e.targetId,isOpen:!0}},endSubmission:function(){return{isSubmitting:!1}},handleChange:function(e){return{reason:e.target.value}},handleSubmit:function(e){var s=e.event,l=e.props.app;return function(e,t){s.preventDefault();var n,o,i,r,a=Ce("IssueReportModal");return(n={targetType:e.targetType,targetId:e.targetId,reason:e.reason},o=n.targetType,i=n.targetId,r=n.reason,new Promise(function(t,e){$("POST","/api/internal/issue_reports",{data:{public_issue_report:{target_type:"Article"===o?"PublicDomainArticle":o,target_id:i,reason:r}}}).then(function(e){t({success:e.isSuccess()})}).catch(e)})).then(function(e){e.success?l.showMessage({message:{type:"notice",body:a("thank_you_for_feedback")}}):l.showMessage({message:{type:"alert",body:a("fail_to_submit")}}),t.close(),t.endSubmission()}).catch(function(){l.showMessage({message:{type:"alert",body:a("fail_to_submit")}}),t.close(),t.endSubmission()}),{isSubmitting:!0}}},close:function(){return{isOpen:!1}}},Ot=function(r){return function(e,t){var n=e.issueReportModal,o=t.issueReportModal,i=Ce("IssueReportModal");return v(Rt,{isOpen:n.isOpen,onRequestClose:o.close,key:"IssueReportModal"},v("form",{onsubmit:function(e){return o.handleSubmit({event:e,props:r})}},v("div",{class:"st-Form"},n.targetType&&v("span",{class:"st-Form_label"},i("help_us_understand_problem",{targetType:n.targetType}))),v("div",{class:"st-Form"},v("label",null,v("input",{type:"radio",name:"reason",value:"spam",required:!0,onchange:o.handleChange}),i("spam"))),v("div",{class:"st-Form"},v("label",null,v("input",{type:"radio",name:"reason",value:"harassment",required:!0,onchange:o.handleChange}),i("harassment"))),v("div",{class:"st-Form"},v("label",null,v("input",{type:"radio",name:"reason",value:"inappropriate_content",required:!0,onchange:o.handleChange}),i("inappropriate_content"))),v("div",{class:"st-Form st-Form-right"},v("input",{class:"st-Form_submit",type:"submit",value:i("submit")}))))}},Mt={issueReportModal:St},Dt={issueReportModal:Tt},At=Object.freeze({state:Mt,actions:Dt,Component:function(e){var o=e.app,i=e.targetId;return function(e,t){var n=Ce("OrganizationIssueReport");return v("div",null,v("span",{class:"p-organizations_reportButton",onclick:function(){t.issueReportModal.open({targetType:"Organization",targetId:i})}},v("span",{class:"fa fa-fw fa-flag"})," "+n("report_organization")),v(Ot,{app:o}))}}}),xt=function(e){var t=Ce("LoginModal");return v(Rt,m({},m({},e,{class:Ze(["lm-Dialog",e.class])})),v("div",{class:"lm-Dialog_title"},t("sign_in_to_action")),v("a",{href:Be({redirectTo:e.redirectTo}),class:"lm-Dialog_button lm-Dialog_button-email"},v("span",{class:"fa fa-fw fa-envelope-o"}),t("sign_in_with_email")),v("a",{href:Fe({provider:"twitter",redirectTo:e.redirectTo}),class:"lm-Dialog_button lm-Dialog_button-twitter"},v("span",{class:"fa fa-fw fa-twitter"}),t("sign_in_with_twitter")),v("a",{href:Fe({provider:"github",redirectTo:e.redirectTo}),class:"lm-Dialog_button lm-Dialog_button-github"},v("span",{class:"fa fa-fw fa-github"}),t("sign_in_with_github")),v("a",{href:Fe({provider:"google",redirectTo:e.redirectTo}),class:"lm-Dialog_button lm-Dialog_button-google"},v("span",{class:"fa fa-fw fa-google"}),t("sign_in_with_google")),v("div",{class:"lm-Dialog_separator"},"or"),v("a",{href:qe({redirectTo:e.redirectTo}),class:"lm-Dialog_button lm-Dialog_button-signup"},v("span",{class:"fa fa-fw"}),t("sign_up")))},Ht=function(n){return new Promise(function(e){var t;$("POST",(t=n,$e(t)+"/follow")).then(function(){e({success:!0})},function(){e({success:!1})})})},Et=function(n){return new Promise(function(e){var t;$("POST",(t=n,$e(t)+"/unfollow")).then(function(){e({success:!0})},function(){e({success:!1})})})};function Pt(e){var t=Ce("OrganizationMemberFollowButton");e.app.showMessage({message:{type:"alert",body:t("fail_to_submit")}})}var Bt={init:function(e){return{isFollowedByViewer:e.user.isFollowedByViewer,isInitialized:!0}},update:function(e){return e},handleClickFollowButton:function(n){return function(e,t){return Ht(n.user).then(function(e){e.success?t.update({isProcessing:!1,isFollowedByViewer:!0}):(t.update({isProcessing:!1}),Pt(n))}),{isProcessing:!0}}},handleClickUnfollowButton:function(n){return function(e,t){return Et(n.user).then(function(e){e.success?t.update({isProcessing:!1,isFollowedByViewer:!1}):(t.update({isProcessing:!1}),Pt(n))}),{isProcessing:!0}}},openLoginModal:function(){return{isLoginModalOpen:!0}},closeLoginModal:function(){return{isLoginModalOpen:!1}}},Nt=Object.freeze({state:{isInitialized:!1,isProcessing:!1,isLoginModalOpen:!1},actions:Bt,Component:function(o){return function(e,t){var n;if(!o.app.currentUser||o.user.isFollowableByViewer){if(e.isInitialized)return o.app.currentUser?e.isProcessing?v("div",{class:"od-MemberCardHeader_follow"},v("span",{class:"fa fa-spinner fa-spin"})):e.isFollowedByViewer?v("div",{class:"od-MemberCardHeader_unfollow",onclick:function(){return t.handleClickUnfollowButton(o)}},v("span",{class:"fa fa-check"}),v("span",{class:"fa fa-user-times"})):v("div",{class:"od-MemberCardHeader_follow",onclick:function(){t.handleClickFollowButton(o)}},v("span",{class:"fa fa-user-plus"})):v("div",null,v("div",{class:"od-MemberCardHeader_follow",onclick:t.openLoginModal},v("span",{class:"fa fa-user-plus"})),v(xt,{isOpen:e.isLoginModalOpen,onRequestClose:t.closeLoginModal,redirectTo:(n=o.organization,Ue(n)+"/members")}));t.init(o)}}}}),jt=He(Re,"organizationRanking"),Ft={scope:ce.WEEKLY,isLoading:!1,failed:{}},Ut={init:function(e){var t;return(t={scope:e.scope})[e.scope]=e.organizationRanking,t},changeScope:function(n){return function(e,t){if(!e.isLoading)return e[n]||e.failed[n]?{scope:n}:(jt({scope:n}).then(function(e){if(!e.success)throw new Error;t.setOrganizationRanking({scope:n,organizationRanking:e.data})}).catch(function(){t.failed.set(n)}),{scope:n,isLoading:!0})}},setOrganizationRanking:function(e){var t;return(t={})[e.scope]=e.organizationRanking,t.isLoading=!1,t},failed:{set:function(e){var t;return(t={})[e]=!0,t}}},zt=function(e){var t=e.edge,n=e.rank;return t.node&&v("div",{class:"ra-OrganizationList_content",key:t.node.urlName},v("div",{class:"ra-Organization"},v("div",{class:"ra-Organization_start"},v("div",{class:"ra-Organization_rank px-2 mr-1"},n<=3?v("span",{class:Ze(["fa fa-trophy",{"is-gold":1===n,"is-silver":2===n,"is-bronze":3===n}])}):n),v("a",{class:"ra-Organization_image mr-1",href:Ue(t.node)},v("img",{src:t.node.logoUrl,alt:t.node.urlName})),v("div",null,t.node.name&&v("div",{class:"ra-Organization_name pr-1"},v("a",{href:Ue(t.node)},t.node.name)))),v("div",{class:"ra-Organization_contrib"},v("div",{class:"ra-Organization_contribCount"},t.score),"Posts")))},qt=Object.freeze({state:Ft,actions:Ut,Component:function(e){return function(t,n){var o=Ce("OrganizationsRanking");return v("div",{class:"ra-OrganizationList p-2",key:"organizationRanking",oncreate:function(){return n.init(e)}},v("div",{class:"ra-OrganizationList_header mb-2"},v("div",{class:"ra-OrganizationList_label"},o("title")),v("div",{class:"ra-OrganizationList_tab"},[ce.WEEKLY,ce.MONTHLY].map(function(e){return v("div",{key:e,class:Ze(["ra-OrganizationList_tabItem",{"is-active":e===t.scope}]),onclick:function(){return n.changeScope(e)},tabindex:"0"},o("period."+e))}))),t.isLoading?v(Ie,{count:5}):t.failed[t.scope]?v("div",null,"Failed to load organization ranking"):t[t.scope]&&t[t.scope].edges?t[t.scope].edges.map(function(e,t){return e&&v(zt,{edge:e,rank:t+1})}):null)}}}),Vt=Ae(function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var u=n(w),o=n(Je);function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var d=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;t.Tooltip=function(e){var t=e.state,n=e.length;return t.isVisible&&(0,u.h)("div",{style:{left:t.left+"px"},class:"slideMode-Tooltip"},t.page+"/"+n)}});i(d);d.Tooltip;var f=Object.freeze({getMagnitudeFromRange:function(e,t,n){var o=e.getBoundingClientRect();return Math.ceil((t-o.left)/(o.width/n))}}),p=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.QiitaLogo=void 0;t.QiitaLogo=function(){return(0,u.h)("svg",{class:"slideMode-Dashboard_logo",xmlns:"http://www.w3.org/2000/svg",viewBox:o.qiitaLogo.viewBox},(0,u.h)("title",null,"Qiita"),(0,u.h)("path",{d:o.qiitaLogo.path}))}});i(p);p.QiitaLogo;var a=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SlideViewer=void 0;t.SlideViewer=function(e){var t=e.state,n=e.actions,o=e.pages,i=e.option,r=void 0===i?{}:i,a=r.theme,s=r.contentClass,l=function(){return n.next(o.length)},c=n.prev;return(0,u.h)("div",{class:"slideMode"+(t.isFullScreen?" fullscreen":""),oncreate:function(e){e.customKeyHandler=function(e){37===e.keyCode?c():39===e.keyCode&&l()},addEventListener("keydown",e.customKeyHandler)},ondestroy:function(e){removeEventListener("keydown",e.customKeyHandler)}},(0,u.h)("div",{class:"slideMode-Viewer"},(0,u.h)("div",{class:"slideMode-Viewer_content"+(0===t.page?" slideMode-Viewer_content--firstSlide":"")+(s?" "+s:" markdownContent"),onclick:function(e){if("IMG"!==e.target.tagName&&"A"!==e.target.tagName){var t=e.currentTarget.getBoundingClientRect();e.clientX-t.left>t.width/2?l():c()}},innerHTML:o[t.page]})),(0,u.h)(d.Tooltip,{state:t.tooltip,length:o.length}),(0,u.h)("div",{class:"slideMode-Dashboard"+(a?" slideMode-Dashboard-"+a:"")},(0,u.h)("button",{class:"slideMode-Dashboard_button slideMode-Dashboard_button--prev "+(a?" slideMode-Dashboard_button-"+a:"")+(0!==t.page?" slideMode-Dashboard_button--clickable":""),disabled:0===t.page,onclick:n.prev},(0,u.h)("i",{class:"fa fa-backward"})),(0,u.h)("button",{class:"slideMode-Dashboard_button slideMode-Dashboard_button--next "+(a?" slideMode-Dashboard_button-"+a:"")+(t.page!==o.length-1?" slideMode-Dashboard_button--clickable":""),disabled:t.page===o.length-1,onclick:function(){return n.next(o.length)}},(0,u.h)("i",{class:"fa fa-forward"})),(0,u.h)("span",{class:"slideMode-Dashboard_pageCount"},t.page+1," / ",o.length),(0,u.h)("div",{class:"slideMode-Dashboard_progress"+(a?" slideMode-Dashboard_progress-"+a:""),onmousemove:function(e){n.tooltip.show({page:(0,f.getMagnitudeFromRange)(e.currentTarget,e.clientX,o.length),left:e.clientX-e.currentTarget.getBoundingClientRect().left})},onmouseleave:function(e){n.tooltip.hide()},onclick:function(e){n.goto((0,f.getMagnitudeFromRange)(e.currentTarget,e.clientX,o.length)-1)}},(0,u.h)("div",{class:"slideMode-Dashboard_progressFill"+(a?" slideMode-Dashboard_progressFill-"+a:""),style:{width:(t.page+1)/o.length*100+"%"}})),(0,u.h)("button",{class:"slideMode-Dashboard_button slideMode-Dashboard_button--fullscreen slideMode-Dashboard_button--clickable"+(a?" slideMode-Dashboard_button-"+a:""),onclick:n.toggleFullScreen},(0,u.h)("i",{class:"fa fa-desktop"})),(0,u.h)(p.QiitaLogo,null)))}});i(a);var s=a.SlideViewer;t.slide={state:{tooltip:{page:0,left:0,isVisible:!1},isFullScreen:!1,page:0},actions:{tooltip:{show:function(e){var t=e.page,n=e.left;return function(e){return{page:t,left:n,isVisible:!0}}},hide:function(){return{isVisible:!1}}},toggleFullScreen:function(){return function(e){return{isFullScreen:!e.isFullScreen}}},prev:function(){return function(e){return{page:e.page<=0?0:e.page-1}}},next:function(t){return function(e){return{page:e.page+1>=t?e.page:e.page+1}}},goto:function(e){return{page:e}}}},t.SlideViewer=s});De(Vt);var $t=Vt.slide,Wt=Vt.SlideViewer,Qt="dfp-slot-after-body-for-pc-left",Yt="dfp-slot-after-body-for-mobile",Gt="dfp-slot-after-body-for-pc-right",Kt="dfp-slot-after-body-for-text-ads",Xt=function(e){var t=e.adsType,n=e.state,o=e.actions;return null==t?null:v("div",null,"double-wide"===t?v("div",{class:"it-Ads_afterBodyContainer it-Ads_afterBodyContainer-wide mt-3"},v("div",{class:"it-Ads_afterBodyWrapper mr-1"},v(ft,{adUnitPath:"/383564218/qiita.com_items-show_under-article-left",class:"ad-336x280",size:[336,280],id:Qt,display:!1,state:n.afterBodyLeft,actions:o.afterBodyLeft})),v("div",{class:"it-Ads_afterBodyWrapper"},v(ft,{adUnitPath:"/383564218/qiita.com_items-show_under-article-right",class:"ad-336x280",size:[336,280],id:Gt,display:!1,state:n.afterBodyRight,actions:o.afterBodyRight}))):"double-narrow"===t?v("div",{class:"it-Ads_afterBodyContainer it-Ads_afterBodyContainer-narrow"},v("div",{class:"it-Ads_afterBodyWrapper"},v(ft,{adUnitPath:"/383564218/qiita.com_items-show_under-article-mobile",class:"ad-336x280",size:[336,280],id:Yt,display:!1,state:n.afterBodyMobile,actions:o.afterBodyMobile}))):"single-wide"===t?v("div",{class:"it-Ads_afterBodyContainer it-Ads_afterBodyContainer-wide mt-3"},v("div",{class:"it-Ads_afterBodyWrapper mr-1"},v(ft,{adUnitPath:"/383564218/qiita.com_items-show_sidebar-top",class:"ad-300x250",size:[300,250],id:Qt,display:!1,state:n.afterBodyLeft,actions:o.afterBodyLeft})),v("div",{class:"it-Ads_afterBodyWrapper"},v(ft,{adUnitPath:"/383564218/qiita.com_items-show_sidebar-bottom",class:"ad-300x250",size:[300,250],id:Gt,display:!1,state:n.afterBodyRight,actions:o.afterBodyRight}))):v("div",{class:"it-Ads_afterBodyContainer it-Ads_afterBodyContainer-narrow"},v("div",{class:"it-Ads_afterBodyWrapper"},v(ft,{adUnitPath:"/383564218/qiita.com_items-show_under-article-mobile",class:"ad-300x250",size:[300,250],id:Yt,display:!1,state:n.afterBodyMobile,actions:o.afterBodyMobile}))),v(ft,{adUnitPath:"/383564218/p_qiita_textad",size:[300,30],id:Kt,display:!1,state:n.textAdsAfterBody,actions:o.textAdsAfterBody}))},Jt="dfp-slot-after-reference",Zt=function(e){var t=e.adsType,n=e.state,o=e.actions;return t&&"single"===t.substr(0,6)?v("div",{class:"it-Ads_afterReferenceContainer"},v("div",{class:"it-Ads_afterReferenceWrapper"},v(ft,{adUnitPath:"/383564218/qiita.com_items-show_under-article-mobile",class:"ad-300x250",size:[300,250],id:Jt,display:!1,state:n.afterReference,actions:o.afterReference}))):null},en="dfp-slot-sidebar-bottom",tn="dfp-slot-sidebar-top",nn=function(e){var t=e.adsType,n=e.state,o=e.actions;return t&&"double"===t.substr(0,6)?v("div",null,v("div",{class:"mt-2"},v(ft,{adUnitPath:"/383564218/qiita.com_items-show_sidebar-top",class:"ad-300x250",size:[300,250],id:tn,display:!1,state:n.sidebarTop,actions:o.sidebarTop})),v("div",{class:"mt-2"},v(ft,{adUnitPath:"/383564218/qiita.com_items-show_sidebar-bottom",class:"ad-300x250",size:[300,250],id:en,display:!1,state:n.sidebarBottom,actions:o.sidebarBottom}))):null},on=function(e){var t=e.author;return v("div",{class:"it-AuthorInfo",itemprop:"author",itemscope:!0,itemtype:"http://schema.org/Person"},v("a",{href:$e(t)},v("img",{src:t.profileImageUrl,alt:t.urlName,class:"it-AuthorInfo_image",itemprop:"image"})),v("div",{class:"it-AuthorInfo_body"},v("div",{class:"it-AuthorInfo_header"},t.name&&v("a",{href:$e(t),class:"it-AuthorInfo_name"},t.name),v("a",{href:$e(t),class:"it-AuthorInfo_urlname",itemprop:"name"},t.urlName)),v("div",{class:"it-AuthorInfo_description"},t.description)))},rn=function(e){return Y(e),Promise.resolve({success:!0})},an=function(){return rn("https://platform.twitter.com/widgets.js")},sn=/[&'`"<>]/g,ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},cn=function(e){return ln[e]},un=function(e){return e.replace(sn,cn)};function dn(e){fn(),function(c){return g(this,void 0,void 0,function(){var t,o,i,r,a,s,l;return h(this,function(e){switch(e.label){case 0:return t=c.querySelectorAll('[data-lang="math"]'),(o=t.length)||/\$[^\$\n]*\$/.test(c.textContent)?(i=function(e,t){for(var n=[],o=0;o<t;o++){var i=e[o],r=i.querySelector("pre");if(r){var a=r.textContent,s="<div style='visibility: hidden'>$${"+un(a)+"}$$</div>";i.insertAdjacentHTML("afterend",s),n.push(i.nextSibling)}}return n}(t,o),[4,(n=c,new Promise(function(t){pn().then(function(e){return e.Hub.Queue(function(){e.Hub.config.elements=[n],e.Hub.Typeset(null,function(){t()})})})}))]):[2];case 1:if(e.sent(),!i.length)return[2];for(r=0;r<o;r++)(a=t[r]).parentElement.removeChild(a);for(s=0,l=i;s<l.length;s++)l[s].style.visibility="";return[2]}var n})})}(e).catch(function(e){return window.console.error("Could not apply MathJax",e)})}var fn=X(function(){var e=document.createElement("script");e.type="text/x-mathjax-config",e.text="MathJax.Hub.Config({\n    skipStartupTypeset: true,\n    showProcessingMessages: false,\n    tex2jax: {\n      inlineMath: [['$', '$']],\n      displayMath: [['$$', '$$']],\n      processEscapes: true,\n      processEnvironments: false,\n      processRefs: false,\n      skipTags: ['script','noscript','style','textarea','pre','code','a','h1','h2','h3','h4','h5','h6']\n    }\n   })",document.getElementsByTagName("head")[0].appendChild(e)});var pn=Q("https://cdn.qiita.com/MathJax/2.6.0/MathJax.js?config=TeX-AMS_HTML-full,Safe",function(){var e=K("MathJax");return e&&e.isReady?e:void 0});var mn=function(e){var t=e.comment,n=e.t;return v("section",{key:t.uuid,class:"co-BannedItem"},v("div",{class:"co-BannedItem_text"},n("banned")))},gn=function(e){var t,n,o=e.comment,i=e.index,r=e.onClickLikeButton,a=e.onClickDropdown,s=e.onRequestCloseDropdown,l=e.onRequestOpenIssueReportModal;return v("section",{key:o.uuid,class:"co-Item",id:"comment-"+o.uuid},v("div",{class:"co-Item_header"},v("div",{class:"u-flex-align-center"},v("img",{class:"co-Item_userImage",src:o.commenter.profileImageUrl,alt:o.commenter.urlName}),v("a",{href:$e(o.commenter),class:"co-Item_username"},"@",o.commenter.urlName)),v("div",{class:"u-flex-align-center"},v("a",{href:je(o)},v("time",{class:"co-Item_time"},(t=o.createdAt,n="%Y-%m-%d %H:%M",k(new Date(t),n)))),v("div",{class:"co-Item_dropdown"},v("span",{class:"co-Item_subAction",onclick:function(){return a(i)}},v("span",{class:"fa fa-ellipsis-h"})),v(yt,{isOpen:o.isDropdownOpen,align:"right",onRequestClose:function(){return s(i)}},v(bt,{render:function(){return v("div",{onclick:l},"問題のあるコメントを報告する")}}))))),v("div",{class:"co-Item_text",oncreate:function(e){mt(o.body)(e),dn(e)}}),v("div",{class:"co-Item_footer"},v("div",{class:"co-Item_like"},v("button",{onclick:function(){return r(i)}},v("span",{class:"fa fa-thumbs-o-up"})),v("div",{class:"co-Item_likeLabel"},o.likesCount))))},hn=function(e){var t=e.article,n=e.t;return v("div",{className:"co-AnonymousForm p-3"},v("div",{className:"co-AnonymousForm_title mb-1"},n("sign_up_or_sign_in_to_join")),v("a",{href:qe({redirectTo:Ne(t)}),class:"co-AnonymousForm_signup"},n("sign_up")),v("div",{class:"co-AnonymousForm_sub mt-1"},n("if_you_already_have_account"),v("a",{href:Be({redirectTo:Ne(t)}),class:"co-AnonymousForm_login"},n("login"))))},vn=function(e){var t=e.article,n=e.comments,o=e.loggedIn,i=e.onClickLikeButton,r=e.onClickDropdown,a=e.onRequestCloseDropdown,s=e.onRequestOpenIssueReportModal,l=Ce("ArticleCommentList");return v("div",{id:"comments",class:"co-ItemWrapper",oncreate:function(e){setTimeout(function(){e.getElementsByClassName("twitter-tweet").length&&an()},10)}},v("div",{class:"co-ItemWrapper_title"},v("span",{class:"fa fa-comments mr-1"}),l("comment")),n.map(function(n,e){return n.isBanned?v(mn,{comment:n,t:l}):v(gn,{comment:n,index:e,onClickLikeButton:i,onClickDropdown:r,onRequestCloseDropdown:a,onRequestOpenIssueReportModal:function(){var e,t;s((e=n.id,t=atob(e).split("-"),{type:t[0],id:parseInt(t[1],10)}).id)}})}),!o&&v(hn,{article:t,t:l}))};var _n=function(a,s){return function(e){var t,n,o,i,r;e.preventDefault(),ie(a),t=s,n=a,i=(o={width:550,height:400}).height,r=o.width,open(t,n,["centerscreen=yes","chrome=yes","directories=no","location=no","menubar=no","resizable=no","scrollbars=yes","status=no","toolbar=no","height="+i,"left="+((outerWidth-r)/2+screenX),"top="+((outerHeight-i)/2+screenY),"width="+r].join(","))}},wn=function(e,t){var n=e.class,o=e.link,i=e.service;return v("div",{class:n,onclick:_n(i,o)},t)},yn=function(e){var t=e.class,n=e.url,o=e.text;return v(wn,{class:t,link:V("https://twitter.com/share",{url:"https://qiita.com"+n,hashtags:"Qiita",text:o}),service:"twitter"},v("span",{class:"fa fa-twitter"}))},bn=function(e){var t=e.class,n=e.url;return v(wn,{class:t,link:V("https://www.facebook.com/sharer/sharer.php",{u:"https://qiita.com"+n}),service:"facebook"},v("span",{class:"fa fa-facebook"}))},kn=function(e){var t=e.class,n=e.title,o=e.text,i=e.url;return navigator.share&&v("div",{class:t,onclick:function(){navigator.share({title:n,text:o,url:"https://qiita.com"+i}).then(function(){ie("web-share")})}},v("span",{className:"fa fa-share-alt"}))},Cn=function(e){var t=e.article,n=e.t;return v("div",{class:"it-Footer_editRequest"},v("a",{href:Pe(t),class:"u-link-no-underline"},v("span",{class:"fa fa-fw fa-send"}),v("span",null,n("send_edit_request"))))},In=function(e){var t=e.isStocked,n=e.onClick,o=e.t;return v("div",{class:Ze(["it-Footer_stock",{"is-stocked":t}])},v("button",{onclick:n},t?v("div",{class:"fa-stack"},v("span",{class:"fa fa-folder fa-stack-1x"}),v("span",{class:"fa fa-check fa-stack-1x fa-inverse"})):v("span",{class:"fa fa-folder-open"}),v("span",{class:"it-Footer_stockLabel"},o("stock"))))},Ln=function(e){var t=e.isLiked,n=e.isLikable,o=e.count,i=e.likersUrl,r=e.onClick,a=e.t;return n?v("div",{class:Ze(["it-Footer_like",{"is-liked":t}])},v("button",{onclick:r},v("span",{class:Ze(["fa fa-fw",{"fa-check":t,"fa-thumbs-up":!t}])}),v("span",null,a(t?"liked":"like"))),v("a",{href:i,class:"it-Footer_likeCount"},o)):v("div",{class:"it-Footer_like is-mine"},v("span",{class:"fa fa-fw fa-thumbs-o-up"}),v("span",null,a("like")),v("a",{href:i,class:"it-Footer_likeCount"},o))},Rn=function(e){var t=e.article,n=e.isLiked,o=e.isStocked,i=e.likesCount,r=e.onClickLikeButton,a=e.onClickStockButton,s=Ce("ArticleFooter");return v("div",{class:"it-Footer"},v("div",{class:"it-Footer_actions"},t.isEditRequestSendableByViewer&&v(Cn,{article:t,t:s}),t.isStockableByViewer&&v(In,{isStocked:o,onClick:a,t:s}),t.isPublic&&v(Ln,{isLikable:t.isLikableByViewer,isLiked:n,count:i,likersUrl:ze(t),onClick:r,t:s})),t.isPublic&&v("div",{class:"it-Footer_social"},v(kn,{class:"it-Footer_shareButton it-Footer_shareButton-webshare",title:t.title,url:Ne(t)}),v(yn,{class:"it-Footer_shareButton it-Footer_shareButton-twitter",text:t.title,url:Ne(t)}),v(bn,{class:"it-Footer_shareButton it-Footer_shareButton-facebook",url:Ne(t)})))};function Sn(e){var t=[];if(e&&e.edges)for(var n=0,o=e.edges;n<o.length;n++){var i=o[n];i&&i.node&&t.push(i.node)}return t}var Tn=function(e){var t=e.followingLikers;return 0<t.length&&v("div",{class:"it-Header_like",key:"FollowingLikers"},v("span",{class:"fa fa-thumbs-up mr-1"}),t.map(function(e){return v("a",{href:$e(e),key:e.urlName},v("img",{src:e.profileImageUrl,alt:e.urlName,class:"it-Header_likerImage"}))}))},On=function(e){var t=e.user;return v("div",{class:"it-Header_author",key:"Author"},v("a",{href:$e(t)},v("img",{src:t.profileImageUrl,alt:t.urlName,class:"it-Header_authorImage"})),v("a",{href:$e(t),class:"it-Header_authorName"},"@",t.urlName))},Mn=function(e){var t=e.article,n=e.isDropdownOpen,o=e.onClickDropdown,i=e.onRequestCloseDropdown,r=e.onRequestOpenIssueReportModal,a=e.t;return v("div",{class:"it-Header_meta",key:"Meta"},t.isUpdatableByViewer&&v("div",{class:"it-Header_pv"},t.totalPv,v("span",null,"views")),v("div",{class:"it-Header_manipulate"},t.isUpdatableByViewer&&v("div",{class:"it-Header_edit hide-xs"},v("a",{href:Pe(t)},v("span",{class:"fa fa-fw fa-pencil"}),a("edit"))),v("div",{class:"it-Header_dropdown"},v("span",{class:"it-Header_dropdownToggle",onclick:o,tabindex:"0"},t.isUpdatableByViewer?[v("span",{class:"fa fa-cog fa-lg"}),v("span",{class:"fa fa-caret-down"})]:v("span",{class:"fa fa-ellipsis-h fa-lg"})),v(yt,{isOpen:n,align:"right",onRequestClose:i},v(bt,{render:function(){return v("a",{href:(e=t,Ne(e)+"/revisions")},v("span",{class:"fa fa-fw fa-history pr-1"}),a("revisions"));var e}}),v(bt,{render:function(){return v("a",{href:(e=t,Ne(e)+"/patches")},v("span",{class:"fa fa-fw fa-inbox pr-1"}),a("edit_requests"));var e}}),v(bt,{render:function(){return v("a",{href:ze(t)},v("span",{class:"fa fa-fw fa-thumbs-up pr-1"}),a("likers"))}}),v(bt,{render:function(){return v("a",{href:(e=t,Ne(e)+".md")},v("span",{class:"fa fa-fw fa-file-text-o pr-1"}),a("article_as_markdown"));var e}}),v(kt,null),t.isDestroyableByViewer&&v(bt,{render:function(){return v("div",null,v("span",{class:"fa fa-fw fa-trash-o pr-1"}),a("delete"))}}),!t.isUpdatableByViewer&&v(bt,{render:function(){return v("div",{onclick:r},v("span",{class:"fa fa-fw fa-flag pr-1"}),a("report_article"))}})))))},Dn=function(e){var t,n=e.adventCalendar,o=e.t;return v("div",{class:"it-AdcalRibbon"},n.calendar.organization&&n.calendar.organization.logoUrl&&v("a",{href:Ue(n.calendar.organization)},v("img",{src:n.calendar.organization.logoUrl,class:"it-AdcalRibbon_orgImage"})),v("span",null,v("a",{href:(t=n.calendar,"/advent-calendar/"+t.year+"/"+t.urlName),class:"it-AdcalRibbon_title"},n.calendar.name),o("day",{day:n.day})))},An=function(e){var t=e.article,n=e.isDropdownOpen,o=e.onClickDropdown,i=e.onRequestCloseDropdown,r=e.onRequestOpenIssueReportModal,a=Ce("ArticleHeader");return v("div",{class:"it-Header",key:"ArticleHeader"},v(Tn,{followingLikers:Sn(t.followingLikers)}),v("div",{class:"u-flex-center-between mb-3"},v("div",{class:"it-Header_info"},v(On,{user:t.author}),v("div",{class:"it-Header_time"},t.isUpdated?a("updated_at",{time:t.updatedAt}):a("posted_at",{time:t.createdAt})),v(Mn,{article:t,isDropdownOpen:n,onClickDropdown:o,onRequestCloseDropdown:i,onRequestOpenIssueReportModal:r,t:a}))),t.adventCalendarItem&&v(Dn,{adventCalendar:t.adventCalendarItem,t:a}),v("h1",{class:"it-Header_title",itemprop:"headline"},t.title),v("div",{class:"it-Tags"},t.tags.map(function(e){return v("a",{href:Ve(e),class:"it-Tags_item"},v("span",null,e.name))})))},xn=function(e){var t=e.count,n=e.isLikable,o=e.isLiked,i=e.onClick;return v("div",{class:"it-ActionsMobile_item"},v("div",{class:Ze(["it-ActionsMobile_like",{liked:o,likable:n,notLikable:!n}])},v("button",{onclick:n?i:null},v("span",{class:Ze(["fa fa-fw",{"fa-check":o,"fa-thumbs-up":!o}]),style:{marginRight:4}}),v("span",null,t))))},Hn=function(e){var t=e.isStocked,n=e.onClick;return v("div",{class:"it-ActionsMobile_item"},v("div",{class:Ze(["it-ActionsMobile_stock",{stocked:t}])},v("button",{onclick:n},t?v("div",{class:"fa-stack"},v("span",{class:"fa fa-folder fa-stack-1x"}),v("span",{class:"fa fa-check fa-stack-1x fa-inverse"})):v("span",{class:"fa fa-folder-open"}))))},En=function(e){var t=e.article,n=e.onClickLikeButton,o=e.onClickStockButton;return v("div",{class:"it-ActionsMobile"},t.isPublic&&v(xn,{count:t.likesCount,isLikable:t.isLikableByViewer,isLiked:t.isLikedByViewer,onClick:n}),t.isStockableByViewer&&v(Hn,{isStocked:t.isStockedByViewer,onClick:o}))};var Pn=function(e){var t=e.destinationReference,n=e.isHidden;return t.source.commenter?v("div",{class:Ze(["it-Reference",{"is-hidden":n,"is-shown":!n}])},v("img",{class:"it-Reference_authorImage",src:t.source.article.author.profileImageUrl,alt:t.source.article.author.urlName}),v("a",{href:Ne(t.source.article),class:"it-Reference_articleTitle"},t.source.article.title),"の",v("img",{class:"it-Reference_commenterImage",src:t.source.commenter.profileImageUrl,alt:t.source.commenter.urlName}),v("a",{href:je(t.source),class:"it-Reference_comment"},"コメント"),"からリンク",v("time",{class:"it-Reference_time"},t.createdAt)):v("div",{class:Ze(["it-Reference",{"is-hidden":n,"is-shown":!n}])},v("img",{class:"it-Reference_authorImage",src:t.source.author.profileImageUrl,alt:t.source.author.urlName}),v("a",{href:Ne(t.source),class:"it-Reference_articleTitle"},t.source.title),"からリンク",v("time",{class:"it-Reference_time"},t.createdAt))},Bn=function(e){var t=e.destinationReferences,n=e.isShownAll,o=e.onClickToggleLink;if(t.length){var i=Ce("ArticleReferenceList");return v("div",{class:"it-ReferenceList"},v("div",{class:"it-ReferenceList_title"},v("span",{class:"fa fa-link"}),i("reference_list_title")),t.length<5?t.map(function(e){return v(Pn,{destinationReference:e,isHidden:!1})}):v("div",null,t.map(function(e,t){return v(Pn,{destinationReference:e,isHidden:4<t&&!n})}),v("div",{class:"it-ReferenceList_toggle",onclick:o},v("span",{class:Ze(["fa",{"fa-compress":n,"fa-expand":!n}])}),i(n?"hide_links":"expand_links",{count:t.length-5}))))}},Nn=function(e){var t=e.isLikable,n=e.isLiked,o=e.count,i=e.onClick,r=e.likersUrl;return v("div",{class:Ze(["it-Actions_item it-Actions_item-like",{liked:n,likable:t,notLikable:!t}])},v("a",{href:r,class:"it-Actions_likeCount"},o),v("button",{onclick:i},v("i",{class:Ze(["fa fa-fw",{"fa-check":n,"fa-thumbs-up":!n}])})))},jn=function(e){var t=e.isStocked;return v("div",{class:"it-Actions_item it-Actions_item-stock"},v("button",{onclick:e.onClick},t?v("div",{class:"fa-stack"},v("span",{class:"fa fa-folder fa-stack-1x"}),v("span",{class:"fa fa-check fa-stack-1x fa-inverse"})):v("span",{class:"fa fa-folder-open"})))},Fn=function(e){return v("div",{class:Ze(["it-Actions",e.class])},e.article.isPublic&&v(Nn,{isLikable:e.article.isLikableByViewer,isLiked:e.isLiked,count:e.likesCount,onClick:e.onClickLikeButton,likersUrl:ze(e.article)}),e.article.isStockableByViewer&&v(jn,{isStocked:e.isStocked,onClick:e.onClickStockButton}),v(yn,{class:"it-Actions_shareButton it-Actions_shareButton-twitter",text:e.article.title,url:Ne(e.article)}),v(bn,{class:"it-Actions_shareButton it-Actions_shareButton-facebook",url:Ne(e.article)}))},Un=function(e){var t=e.toc;return t&&v("div",{class:"it-Toc",key:"ArticleToc"},v("div",{class:"it-Toc_nav",oncreate:mt(t)}))},zn=He("query getArticleWithReferencesAndComments($uuid: String!, $last: Int) {\n  article(uuid: $uuid) {\n    ...ArticleWithReferencesAndComments\n  }\n}\n\nfragment ArticleWithReferencesAndComments on Article {\n  id\n  destinationReferences {\n    edges {\n      node {\n        ...ReferenceOfArticleWithReferencesAndComments\n      }\n    }\n  }\n  comments(last: $last) {\n    edges {\n      node {\n        ...CommentOfArticleWithReferencesAndComments\n      }\n    }\n  }\n}\n\nfragment ReferenceOfArticleWithReferencesAndComments on Reference {\n  createdAt\n  sourceType\n  source {\n    ... on Article {\n      uuid\n      title\n      author {\n        urlName\n        profileImageUrl\n      }\n    }\n    ... on Comment {\n      uuid\n      article {\n        title\n        uuid\n        author {\n          urlName\n          profileImageUrl\n        }\n      }\n      commenter {\n        urlName\n        profileImageUrl\n      }\n    }\n  }\n}\n\nfragment CommentOfArticleWithReferencesAndComments on Comment {\n  id\n  uuid\n  body\n  isBanned\n  isLikedByViewer\n  likesCount\n  createdAt\n  article {\n    uuid\n    author {\n      urlName\n    }\n  }\n  commenter {\n    urlName\n    profileImageUrl\n    contribution\n  }\n  destinationReferences {\n    edges {\n      node {\n        ...ReferenceOfArticleWithReferencesAndComments\n      }\n    }\n  }\n}\n","article");var qn={comments:null,destinationReferences:null,isHeaderDropdownOpen:!1,isLiked:!1,isLoglyLoaded:!1,isModalOpen:!1,isReferencesShownAll:!1,isStocked:!1,likesCount:0,loggedIn:!1,scrollHandler:null,uuid:null,slide:$t.state,ads:{afterBodyLeft:ut,afterBodyMobile:ut,afterBodyRight:ut,afterReference:ut,sidebarBottom:ut,sidebarTop:ut,textAdsAfterBody:ut},issueReportModal:St},Vn=function(e){return(o=e,[Kt].concat("double-wide"===o?[Qt,Gt]:"double-narrow"===o?[Yt]:"single-wide"===o?[Qt,Gt]:[Yt])).concat((n=e,n&&"double"===n.substr(0,6)?[tn,en]:[])).concat((t=e)&&"single"===t.substr(0,6)?[Jt]:[]);var t,n,o},$n={init:function(t){return function(e,i){var n;return t.loggedIn||(n=t.article,new Promise(function(e){ct().cmd.push(function(){var t={"c++":"cpp","c#":"csharp"};ct().pubads().setTargeting("article_tags",n.tags.map(function(e){return e.name.toLocaleLowerCase()}).map(function(e){return t[e]||e})),e({success:!0})})})).then(function(e){if(e.success){var t=(void 0===n&&(n=document.querySelector(".p-items_options")),void 0===o&&(o=document.querySelector(".it-MdContent")),n&&o?300<=n.clientWidth?672<=o.clientWidth?"double-wide":"double-narrow":600<=o.clientWidth?"single-wide":"single-narrow":void 0);i.defineAds(t),i.displayAds(t)}var n,o}),document.getElementsByClassName("twitter-tweet").length&&an(),t.analyticsTrackingId&&oe(t.analyticsTrackingId),{isLiked:t.article.isLikedByViewer,isStocked:t.article.isStockedByViewer,likesCount:t.article.likesCount,loggedIn:t.loggedIn,uuid:t.article.uuid}}},closeLoginModal:function(){return{isModalOpen:!1}},defineAds:function(e){return{adsType:e}},displayAds:function(n){n&&ct().cmd.push(function(){var t=ct();t.pubads().enableSingleRequest(),t.enableServices();var e=Vn(n);W({toTry:function(){return document.getElementById(e[0])},max:20,delay:1,success:function(){e.forEach(function(e){return t.display(e)})}})})},endScrollHandling:function(){return function(e){e.scrollHandler&&removeEventListener("scroll",e.scrollHandler)}},handleClickCommentDropdown:function(n){return function(e){return{comments:e.comments.map(function(e,t){return n===t?m({},e,{isDropdownOpen:!e.isDropdownOpen}):e})}}},handleClickCommentLikeButton:function(e){return null},handleClickHeaderDropdown:function(){return function(e){return{isHeaderDropdownOpen:!e.isHeaderDropdownOpen}}},handleClickLikeButton:function(){return null},handleClickReferencesToggleLink:function(){return function(e){return{isReferencesShownAll:!e.isReferencesShownAll}}},handleClickStockButton:function(){return null},handleRequestCloseCommentDropdown:function(n){return function(e){return{comments:e.comments.map(function(e,t){return n===t?m({},e,{isDropdownOpen:!1}):e})}}},handleRequestCloseHeaderDropdown:function(){return{isHeaderDropdownOpen:!1}},handleScroll:function(i){return function(e,t){var n=i.getBoundingClientRect().top,o=document.documentElement.clientHeight;!e.isLoglyLoaded&&n<=o+500&&t.loadLogly(),n<=o+100&&(t.loadReferencesAndComments(),t.endScrollHandling())}},openLoginModal:function(){return{isModalOpen:!0}},startScrollHandling:function(p){return function(e,t){var n,o=(n=location.hash.match(/^#comment-(\w+)$/))?n[1]:null;if(o)return t.loadLogly(),t.loadReferencesAndComments().then(function(){setTimeout(function(){var e=document.getElementById("comment-"+o);e&&e.scrollIntoView()},100)}),void t.endScrollHandling();var i,r,a,s,l,c,u,d,f=(i=function(){t.handleScroll(p)},r=10,u=0,d=function(){u=(new Date).getTime(),c=null,l=i.apply(a,s)},function(){var e=(new Date).getTime();u||(u=e);var t=r-(e-u);return a=this,s=arguments,t<=0?(c&&(clearTimeout(c),c=null),u=e,l=i.apply(a,s)):c||(c=setTimeout(d,t)),l});return addEventListener("scroll",f),f(),{scrollHandler:f}}},loadLogly:function(){return function(e){var t;if(!e.isLoglyLoaded)return t=e.loggedIn,rn("https://l.logly.co.jp/lift_widget.js?adspot_id="+(t?"4279494":"4279493")),{isLoglyLoaded:!0}}},loadReferencesAndComments:function(){return function(e,t){return zn({uuid:e.uuid}).then(function(e){e.success?t.setReferencesAndComments({comments:Sn(e.data.comments).map(function(e){return m({},e,{isEditing:!1,isDropdownOpen:!1})}),destinationReferences:Sn(e.data.destinationReferences)}):window.console.error("failed to load comments: "+e.errors)}).catch(function(e){window.console.error("failed to load comments: "+e)})}},setReferencesAndComments:function(e){return{comments:e.comments,destinationReferences:e.destinationReferences}},slide:$t.actions,ads:{afterBodyLeft:dt,afterBodyMobile:dt,afterBodyRight:dt,afterReference:dt,sidebarBottom:dt,sidebarTop:dt,textAdsAfterBody:dt},issueReportModal:Tt},Wn=function(e){var t=e.article,n=Ce("PersonalPublicArticle"),o=t.elapsedYearsFromUpdatedAt,i=5<=o?["five",5]:3<=o?["three",3]:["one",1],r=i[1];return v("div",{class:"it-DeprecationAlert_"+i[0]+" mb-5 p-2"},v("span",{class:"fa fa-warning mr-1"}),n("deprecation_alert_message",{years:r}))},Qn=Object.freeze({state:qn,actions:$n,Component:function(e){var i=e.article,r=e.app,a=e.analyticsTrackingId;return function(e,t){var n,o=!!r.currentUser;return v("div",{class:Ze(["p-items",{"logged-in":o,"without-toc":null==i.toc}]),itemscope:"itemscope",itemtype:"http://schema.org/Article",oncreate:function(){return t.init({article:i,loggedIn:o,analyticsTrackingId:a})}},v("div",{class:"p-items_wrapper"},v("div",{class:Ze(["p-items_container",{"is-slide":i.isSlide}])},v(Fn,{class:"p-items_stickyMenu",isLiked:e.isLiked,isStocked:e.isStocked,likesCount:e.likesCount,article:i,onClickLikeButton:o?t.handleClickLikeButton:t.openLoginModal,onClickStockButton:o?t.handleClickStockButton:t.openLoginModal}),v("div",{class:"p-items_main"},v("div",{class:"p-items_article"},v(An,{article:i,isDropdownOpen:e.isHeaderDropdownOpen,onClickDropdown:t.handleClickHeaderDropdown,onRequestCloseDropdown:t.handleRequestCloseHeaderDropdown,onRequestOpenIssueReportModal:function(){t.issueReportModal.open({targetType:"Article",targetId:i.originalId})}}),v(En,{article:i,onClickLikeButton:o?t.handleClickLikeButton:t.openLoginModal,onClickStockButton:o?t.handleClickStockButton:t.openLoginModal}),i.isDeprecated&&v(Wn,{article:i}),v("section",{class:"it-MdContent",itemprop:"articleBody"},i.isSlide&&v(Wt,{state:e.slide,actions:t.slide,pages:(n=i,["<h1>"+un(n.title)+'</h1><div class="slideMode-Viewer_content--firstSlideAuthor">by '+n.author.urlName+"</div>"].concat(n.body.split("<hr>")))}),v("div",{id:"item-"+i.uuid,oncreate:function(e){mt(i.body)(e),dn(e)}})),v(Rn,{article:i,isLiked:e.isLiked,isStocked:e.isStocked,likesCount:e.likesCount,onClickLikeButton:o?t.handleClickLikeButton:t.openLoginModal,onClickStockButton:o?t.handleClickStockButton:t.openLoginModal}),v(on,{author:i.author}),v(Xt,{adsType:e.adsType,state:e.ads,actions:t.ads}))),v("div",{class:"p-items_options"},v(nn,{adsType:e.adsType,state:e.ads,actions:t.ads})),v("div",{class:"p-items_toc"},v(Un,{toc:i.toc})))),v("div",{class:"p-items_wrapper p-items_wrapper-white"},v("div",{class:"p-items_container"},v("div",{class:"p-items_leftDummy"}),v("div",{class:"p-items_main",key:"lazy-loading",oncreate:t.startScrollHandling,onremove:t.endScrollHandling},v("div",{class:"p-items_aside px-5 p-2@s"},v("div",{id:"logly-lift-"+(o?"4279494":"4279493")})),v("div",{class:"p-items_aside mt-5 px-5 p-2@s"},e.destinationReferences&&v(Bn,{destinationReferences:e.destinationReferences,isShownAll:e.isReferencesShownAll,onClickToggleLink:t.handleClickReferencesToggleLink}),v(Zt,{adsType:e.adsType,state:e.ads,actions:t.ads})),v("div",{class:"p-items_aside mt-5 px-5 p-2@s"},e.comments&&v(vn,{article:i,comments:e.comments,loggedIn:o,onClickLikeButton:o?t.handleClickCommentLikeButton:t.openLoginModal,onClickDropdown:t.handleClickCommentDropdown,onRequestCloseDropdown:t.handleRequestCloseCommentDropdown,onRequestOpenIssueReportModal:function(e){t.issueReportModal.open({targetType:"Comment",targetId:e})}}))),v("div",{class:"p-items_rightDummy"}))),v(xt,{isOpen:e.isModalOpen,onRequestClose:t.closeLoginModal,redirectTo:Ne(i)}),v(Ot,{app:r}))}}}),Yn={isOpen:!0},Gn={init:function(e){re("Open",e.actionPath)},handleCloseModal:function(n){return function(e,t){E("dismissCount",1).then(function(){return{success:!0}}).catch(function(e){return{errors:e,success:!1}}),re("Dismiss",n.actionPath),t.closeModal()}},closeModal:function(){return{isOpen:!1}},trackClick:function(e){re("Click",e)}},Kn={init:function(e){return{edges:e.recommendedUsers.edges,isInitialized:!0}},follow:function(n){return function(e,t){if(!e.isFollowing)return Ht(e.edges[n].node).then(function(e){e.success&&t.remove(n)}),{isFollowing:!0}}},remove:function(n){return function(e){return{edges:e.edges.filter(function(e,t){return t!==n})}}}},Xn=function(e){var t=e.edge,n=e.onFollow,o=e.t;return t.node&&v("div",{class:"tl-RecommendedUserList_item",key:t.node.urlName},v("div",{class:"tl-RecommendedUser"},v("a",{href:$e(t.node)},v("img",{class:"tl-RecommendedUser_image mr-1",src:t.node.profileImageUrl,alt:t.node.urlName})),v("div",{class:"tl-RecommendedUser_body"},v("div",{class:"tl-RecommendedUser_user mb-1of2"},t.node.name&&v("a",{class:"tl-RecommendedUser_name mr-1",href:$e(t.node)},t.node.name),v("a",{class:"tl-RecommendedUser_screenname",href:$e(t.node)},"@",t.node.urlName)),v("div",{class:"tl-RecommendedUser_description"},t.node.description)),v("div",{class:"tl-RecommendedUser_followButton ml-1"},v("button",{class:"px-1 py-1of2",onclick:n},v("span",null,o("follow"))))))},Jn=Object.freeze({state:{isInitialized:!1,isFollowing:!1},actions:Kn,Component:function(t){return function(e,n){if(e.isInitialized){if(e.edges){var o=Ce("RecommendedUsers");return v("div",{class:"tl-RecommendedUserList p-2"},v("div",{class:"tl-RecommendedUserList_header mb-2"},o("title")),e.edges.map(function(e,t){return e&&v(Xn,{edge:e,onFollow:function(){return n.follow(t)},t:o})}))}}else n.init(t)}}});var Zn=Q("https://cdnjs.cloudflare.com/ajax/libs/zxcvbn/4.4.2/zxcvbn.js",function(){return K("zxcvbn")}),eo=["very_weak","weak","medium","strong","very_strong"],to={handleKeyUp:function(a){return function(e,r){return g(void 0,void 0,void 0,function(){var t,n,o,i;return h(this,function(e){switch(e.label){case 0:return[4,Zn()];case 1:return t=e.sent(),n=a.target.value,o=t(n).score,i=!!(n.length&&o<2),r.update({isWeak:i,value:n,score:n.length?o:null}),[2]}})})}},update:function(e){return e}},no=Object.freeze({state:{isWeak:!1,value:"",score:null},actions:to,Component:function(e){var o=e.name,i=e.label;return function(e,t){var n=Ce("SettingsPassword");return v("div",{class:Ze(["st-Form",{"st-Form-errored":e.isWeak}])},v("label",{class:"st-Form_label"},i),v("input",{class:"st-Form_text",required:"true",maxlength:"32",type:"password",name:o,key:"SettingsPassword",onkeyup:t.handleKeyUp,value:e.value}),null!==e.score&&v("div",{class:Ze(["st-Form_help p-settings_password",{"p-settings_password-weak":e.score<2,"p-settings_password-strong":2<e.score}])},n(eo[e.score])))}}}),oo=Object.freeze({state:{isShown:!0},actions:{dismiss:function(){return{isShown:!1}}},Component:function(n){return function(e,t){return n.app.currentUser&&n.app.currentUser.isStaff&&e.isShown?v("div",{class:Ze(["msg-Item msg-Item-alert msg-Item-dismissible",n.class])},v("div",{class:"msg-Item_body"},"This is staff only view. Use incognito window to show corresponding view for non staff users."),v("button",{class:"msg-Item_dismiss",onclick:t.dismiss},v("span",null,"x"))):null}}}),io=Object.freeze({state:{isDropdownOpen:!1},actions:{handleClick:function(){return function(e){return{isDropdownOpen:!e.isDropdownOpen}}},close:function(){return{isDropdownOpen:!1}}},Component:function(o){return function(e,t){var n=Ce("TagArticleDropdown");return v("div",{class:"tsf-ArticleListHeader"},v("div",{class:"tsf-ArticleListHeader_button",onclick:t.handleClick},v("span",null,"new"===o.sort?n("new_articles"):n("recently_liked")),v("span",{class:"rsf-ArticleListHeader_buttonIcon fa fa-caret-down"})),v("div",{class:"tsf-SortDropdown"},v(yt,{isOpen:e.isDropdownOpen,align:"left",onRequestClose:t.close},v(bt,{render:function(){return v("a",{href:(e=o.tag,Ve(e)+"/items")},n("new_articles"));var e}}),v(bt,{render:function(){return v("a",{href:(e=o.tag,Ve(e)+"/likes")},n("recently_liked"));var e}}))))}}}),ro=He(Se,"tagFeed"),ao={init:function(e){return{pageInfo:e.tagFeed.pageInfo,edges:e.tagFeed.edges,isInitialized:!0}},loadNextPage:function(){return function(e,t){if(e.pageInfo)return ro({after:e.pageInfo.endCursor,first:20}).then(function(e){if(!e.success)throw new Error;t.appendPage(e.data)}).catch(function(){t.handleLoadingFailure()}),{isLoading:!0}}},appendPage:function(t){return function(e){return{pageInfo:t.pageInfo,edges:(e.edges||[]).concat(t.edges),isLoading:!1}}},handleLoadingFailure:function(){return{isLoading:!1}}},so=function(e){var t=e.edge,n=Ce("TagFeedItem");return t.node&&v("article",{class:"tf-Item tf-Item-tagFiltered",key:t.node.uuid},v("div",{class:"tf-Item_content"},v("div",{class:"tf-ItemHeader"},v("div",{class:"tf-ItemHeader_start"},1===t.tags.length?[v("a",{href:Ve(t.tags[0]),class:"tf-ItemHeader_tagImage"},v("img",{src:t.tags[0].mediumIconUrl,alt:""})),v("span",null,v("a",{href:Ve(t.tags[0])},v("span",{class:"tf-ItemHeader_tagName mr-1of2"},t.tags[0].name)),n("tag_got_a_new_post"))]:[t.tags.map(function(e){return v("a",{href:Ve(e),class:"tf-ItemHeader_tagImage"},v("img",{src:e.mediumIconUrl,alt:e.name}))}),v("span",null,n("tag_got_a_new_post"))]),v("div",{class:"tf-ItemHeader_end"},v("time",null,T(t.createdAt)," ago"))),v("div",{class:"tf-ItemContent"},v("a",{href:$e(t.node.author),class:"tf-ItemContent_userImage"},v("img",{src:t.node.author.profileImageUrl,alt:t.node.author.urlName})),v("div",{class:"tf-ItemContent_body"},v("a",{href:Ne(t.node),class:"tf-ItemContent_title"},t.node.title),v("div",{class:"tf-ItemContent_meta"},"by",v("a",{href:$e(t.node.author),class:"tf-ItemContent_author"},t.node.author.urlName),v("div",{class:"tf-ItemContent_tagList"},v("span",{class:"fa fa-tags mr-1of2"}),t.node.tags.map(function(e){return v("a",{href:Ve(e),class:"tf-ItemContent_tag"},e.name)})))))))},lo=Object.freeze({state:{isInitialized:!1,isLoading:!1},actions:ao,Component:function(o){return function(e,t){if(e.isInitialized){var n=Ce("TagFeedPage");return e.edges&&e.edges.length?v("div",{key:"TagFeed"},e.edges.map(function(e){return e&&v(so,{edge:e})}),e.isLoading?v(Ie,{count:5}):e.pageInfo&&e.pageInfo.hasNextPage&&v("button",{class:"tf-ItemList_moreButton",onclick:t.loadNextPage},n("readmore"))):v("div",null,"No tag feed items")}t.init(o)}}}),co=function(n){return new Promise(function(e){var t;$("POST",(t=n,Ve(t)+"/follow")).then(function(){e({success:!0,data:void 0})},function(){e({success:!1})})})},uo=function(n){return new Promise(function(e){var t;$("POST",(t=n,Ve(t)+"/unfollow")).then(function(){e({success:!0,data:void 0})},function(){e({success:!1})})})},fo={init:function(e){return{isInitialized:!0,isFollowedByViewer:e.tag.isFollowedByViewer}},follow:function(t){return function(e,o){co(t).then(function(e){var t,n;o.update({isFollowedByViewer:e.success}),Z("event",t="Follow a Tag",{event_category:"Favorable Actions",event_label:n="TagHeader",value:1,non_interaction:!1}),te().track("Favorable Action",{Description:t,Container:n})})}},unfollow:function(n){return function(e,t){uo(n).then(function(e){return t.update({isFollowedByViewer:!e.success})})}},openLoginModal:function(){return{isModalOpen:!0}},closeLoginModal:function(){return{isModalOpen:!1}},handleMouseOver:function(){return{isMouseOver:!0}},handleMouseOut:function(){return{isMouseOver:!1}},update:function(e){return e}},po=Object.freeze({state:{isInitialized:!1,isLoginModalOpen:!1,isMouseOver:!1},actions:fo,Component:function(o){return function(e,t){if(e.isInitialized){var n=Ce("TagFollowButton");return v("div",null,v("button",{class:Ze(["tsi-Content_followButton",{"tsi-Content_followButton-follow":!e.isFollowedByViewer,"tsi-Content_followButton-followed":e.isFollowedByViewer&&!e.isMouseOver,"tsi-Content_followButton-unfollow":e.isFollowedByViewer&&e.isMouseOver}]),onclick:function(){o.app.currentUser?e.isFollowedByViewer?t.unfollow(o.tag):t.follow(o.tag):t.openLoginModal()},onmouseover:t.handleMouseOver,onmouseout:t.handleMouseOut},e.isFollowedByViewer&&e.isMouseOver?n("unfollow"):e.isFollowedByViewer?n("following"):n("follow")),o.app.currentUser?v(xt,{isOpen:e.isLoginModalOpen,onRequestClose:t.closeLoginModal,redirectTo:Ve(o.tag)}):null)}t.init(o)}}}),mo=He(Te,"tagRanking"),go={scope:de.WEEKLY,isLoading:!1,failed:{}},ho={init:function(e){var t;return(t={scope:e.scope})[e.scope]=e.tagRanking,t},changeScope:function(n){return function(e,t){return e[n]||e.failed[n]?{scope:n}:(mo({scope:n}).then(function(e){if(!e.success)throw new Error;t.setTagRanking({scope:n,tagRanking:e.data})}).catch(function(){t.stopLoading(),t.failed.set(n)}),{scope:n,isLoading:!0})}},setTagRanking:function(e){var t;return(t={})[e.scope]=e.tagRanking,t.isLoading=!1,t},stopLoading:function(){return{isLoading:!1}},failed:{set:function(e){var t;return(t={})[e]=!0,t}}},vo=function(e){var t=e.edge,n=e.rank;return t.node&&v("div",{class:"ra-TagList_content",key:t.node.urlName},v("div",{class:"ra-Tag"},v("div",{class:"ra-Tag_start"},v("div",{class:"ra-Tag_rank px-2 mr-1"},n<=3?v("span",{class:Ze(["fa fa-trophy",{"is-gold":1===n,"is-silver":2===n,"is-bronze":3===n}])}):n),v("a",{class:"ra-Tag_image mr-1",href:Ve(t.node)},v("img",{src:t.node.mediumIconUrl})),v("div",{class:"ra-Tag_name pr-1"},v("a",{href:Ve(t.node)},t.node.name))),v("div",{class:"ra-Tag_post"},v("div",{class:"ra-Tag_postCount"},t.score),"Posts")))},_o=Object.freeze({state:go,actions:ho,Component:function(e){return function(t,n){var o=Ce("TagsRanking");return v("div",{class:"ra-TagList p-2",key:"TagRanking",oncreate:function(){return n.init(e)}},v("div",{class:"ra-TagList_header mb-2"},v("div",{class:"ra-TagList_label"},o("title")),v("div",{class:"ra-TagList_tab"},[de.WEEKLY,de.MONTHLY,de.ALL].map(function(e){return v("div",{key:e,class:Ze(["ra-TagList_tabItem",{"is-active":e===t.scope}]),onclick:function(){return n.changeScope(e)},tabindex:"0"},o("period."+e))}))),t.isLoading?v(Ie,{count:5}):t.failed[t.scope]?v("div",null,"Failed to load Tag ranking"):t[t.scope]&&t[t.scope].edges?t[t.scope].edges.map(function(e,t){return e&&v(vo,{edge:e,rank:t+1})}):null)}}}),wo=He(Oe,"timeline"),yo={init:function(e){return{pageInfo:e.timeline.pageInfo,edges:e.timeline.edges||[],isInitialized:!0}},loadNextPage:function(){return function(e,t){if(e.pageInfo)return wo({after:e.pageInfo.endCursor,first:20}).then(function(e){if(!e.success)throw new Error;t.appendPage(e.data)}).catch(function(){t.handleLoadingFailure()}),{isLoading:!0}}},appendPage:function(t){return function(e){return{pageInfo:t.pageInfo,edges:(e.edges||[]).concat(t.edges),isLoading:!1}}},handleLoadingFailure:function(){return{isLoading:!1}}};function bo(e){return!e.commenter}var ko=function(e){var t=e.edge,n=Ce("TimelineItem");return t.node&&v("article",{class:"tl-Item"},v("div",{class:"tl-Item_content"},v("div",{class:"tl-ItemHeader"},v("div",{class:"tl-ItemHeader_start"},v("span",{class:Ze(["fa fa-fw mr-1",{"fa-thumbs-o-up":"Like"===t.actionType,"fa-file-text-o":"Post"===t.actionType,"fa-comment-o":"Comment"===t.actionType}])}),"Like"===t.actionType?v("div",{class:"tl-ItemContent_likerList"},t.actions.map(function(e){return e&&v("a",{href:$e(e.actor),class:"tl-ItemContent_likerImage"},v("img",{src:e.actor.profileImageUrl,alt:e.actor.urlName}))}),v("span",{oncreate:mt(n("like"))})):v("span",null,v("a",{href:$e(t.actions[0].actor)},v("span",{class:"mr-1of2"},$e(t.actions[0].actor))),v("span",{oncreate:mt(n("Post"===t.actionType?"post":"comment"))}))),v("div",{class:"tl-ItemHeader_end"},v("a",{href:bo(t.node)?Ne(t.node):je(t.node)},v("time",null,T(t.actions[0].actedAt)," ago")))),bo(t.node)?v("div",{class:"tl-ItemContent"},v("a",{class:"tl-ItemContent_userImage",href:$e(t.node.author)},v("img",{src:t.node.author.profileImageUrl,alt:t.node.author.urlName})),v("div",{class:"tl-ItemContent_body"},v("div",{class:"tl-ItemContent_title"},v("a",{href:Ne(t.node)},t.node.title)))):v("div",{class:"tl-ItemContent"},v("a",{href:$e(t.node.commenter),class:"tl-ItemContent_userImage"},v("img",{src:t.node.commenter.profileImageUrl,alt:t.node.commenter.urlName})),v("div",{class:"tl-ItemContent_body"},v("div",{class:"tl-ItemContent_comment"},v("a",{href:je(t.node),oncreate:mt(t.node.summary)})),v("div",{class:"tl-ItemContent_meta"},v("div",{class:"tl-ItemContent_article"},"To:",v("a",{class:"ml-1of4",href:Ne(t.node.article)},v("span",null,t.node.article.title))))))))},Co=Object.freeze({state:{isInitialized:!1,isLoading:!1},actions:yo,Component:function(o){return function(e,t){if(e.isInitialized){var n=Ce("TimelinePage");return e.edges&&e.edges.length?v("div",{key:"Timeline"},e.edges.map(function(e){return e&&v(ko,{edge:e})}),e.isLoading?v(Ie,{count:5}):e.pageInfo&&e.pageInfo.hasNextPage&&v("button",{class:"tl-ItemList_moreButton",onclick:t.loadNextPage},n("readmore"))):v("div",{class:"tl-ItemList_blankMessage"},v("div",{class:"tl-ItemList_blankMessageHeader"},n("blankMessage.title")),v("p",{oncreate:mt(n("blankMessage.description"))}))}t.init(o)}}}),Io=function(e){var t=e.edge;return t.node&&v("div",{class:"tr-Item"},v("a",{class:"tr-Item_userImage",href:$e(t.node.author)},v("img",{src:t.node.author.profileImageUrl,alt:t.node.author.urlName})),v("div",{class:"tr-Item_body"},v("a",{class:"tr-Item_title",href:Ne(t.node)},t.node.title),v("div",{class:"tr-Item_meta"},v("span",null,"by",v("a",{class:"tr-Item_author",href:$e(t.node.author)},t.node.author.urlName)),v("time",null,T(t.node.createdAt)," ago"),v("div",{class:"tr-Item_likeCount"},v("span",{class:"fa fa-thumbs-up mr-1of2"}),t.node.likesCount),t.followingLikers.map(function(e){return v("a",{href:$e(e),class:"tr-Item_followingLikerImage"},v("img",{src:e.profileImageUrl}))}))))},Lo=Object.freeze({state:{},actions:{},Component:function(e){var t=e.trend,n=Ce("TrendItemList");return t.edges&&t.edges.length?v("div",null,t.edges.map(function(e){return e&&v(Io,{edge:e})})):v("div",{class:"tr-ItemList_blankMessage"},v("div",{class:"tr-ItemList_blankMessageHeader"},n("blankMessage.title")),v("p",{oncreate:mt(n("blankMessage.description"))}))}}),Ro=Object.freeze({state:{isLoginModalOpen:!1,scope:null},actions:{openLoginModal:function(e){return{isLoginModalOpen:!0,scope:e}},closeLoginModal:function(){return{isLoginModalOpen:!1,scope:null}}},Component:function(){return function(e,t){var n=Ce("TrendPeriod");return v("div",null,v("span",{class:"tr-ItemList_tabItem is-active"},n("daily")),v("span",{onclick:function(){return t.openLoginModal("weekly")},class:"tr-ItemList_tabItem"},n("weekly")),v("span",{onclick:function(){return t.openLoginModal("monthly")},class:"tr-ItemList_tabItem"},n("monthly")),v(xt,{isOpen:e.isLoginModalOpen,onRequestClose:t.closeLoginModal,redirectTo:"/?scope="+e.scope}))}}}),So=He(Me,"userRanking"),To={scope:de.WEEKLY,isLoading:!1,failed:{}},Oo={init:function(e){var t;return(t={scope:e.scope})[e.scope]=e.userRanking,t},changeScope:function(n){return function(e,t){return e[n]||e.failed[n]?{scope:n}:(So({scope:n}).then(function(e){if(!e.success)throw new Error;t.setUserRanking({scope:n,userRanking:e.data})}).catch(function(){t.failed.set(n)}),{scope:n,isLoading:!0})}},setUserRanking:function(e){var t;return(t={})[e.scope]=e.userRanking,t.isLoading=!1,t},failed:{set:function(e){var t;return(t={})[e]=!0,t}}},Mo=function(e){var t=e.edge,n=e.rank;return t.node&&v("div",{class:"ra-UserList_content",key:t.node.urlName},v("div",{class:"ra-User"},v("div",{class:"ra-User_start"},v("div",{class:"ra-User_rank px-2 mr-1"},n<=3?v("span",{class:Ze(["fa fa-trophy",{"is-gold":1===n,"is-silver":2===n,"is-bronze":3===n}])}):n),v("a",{class:"ra-User_image mr-1",href:$e(t.node)},v("img",{src:t.node.profileImageUrl,alt:t.node.urlName})),v("div",null,t.node.name&&v("div",{class:"ra-User_name pr-1"},v("a",{href:$e(t.node)},t.node.name)),v("div",{class:"ra-User_screenname pr-1"},v("a",{href:$e(t.node)},"@",t.node.urlName)))),v("div",{class:"ra-User_contrib"},v("div",{class:"ra-User_contribCount"},t.score),"Contributions")))},Do=Object.freeze({state:To,actions:Oo,Component:function(e){return function(t,n){var o=Ce("UsersRanking");return v("div",{class:"ra-UserList p-2",key:"userRanking",oncreate:function(){return n.init(e)}},v("div",{class:"ra-UserList_header mb-2"},v("div",{class:"ra-UserList_label"},o("title")),v("div",{class:"ra-UserList_tab"},[de.WEEKLY,de.MONTHLY,de.ALL].map(function(e){return v("div",{key:e,class:Ze(["ra-UserList_tabItem",{"is-active":e===t.scope}]),onclick:function(){return n.changeScope(e)},tabindex:"0"},o("period."+e))}))),t.isLoading?v(Ie,{count:5}):t.failed[t.scope]?v("div",null,"Failed to load user ranking"):t[t.scope]&&t[t.scope].edges?t[t.scope].edges.map(function(e,t){return e&&v(Mo,{edge:e,rank:t+1})}):null)}}}),Ao=function(){var e={};(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(e);var _=e.Rails;return function(){(function(){var o,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,_.matches=function(e,t){return null!=t.exclude?n.call(e,t.selector)&&!n.call(e,t.exclude):n.call(e,t)},o="_ujsData",_.getData=function(e,t){var n;return null!=(n=e[o])?n[t]:void 0},_.setData=function(e,t,n){return null==e[o]&&(e[o]={}),e[o][t]=n},_.$=function(e){return Array.prototype.slice.call(document.querySelectorAll(e))}}).call(this),function(){var n,o,i;n=_.$,i=_.csrfToken=function(){var e;return(e=document.querySelector("meta[name=csrf-token]"))&&e.content},o=_.csrfParam=function(){var e;return(e=document.querySelector("meta[name=csrf-param]"))&&e.content},_.CSRFProtection=function(e){var t;if(null!=(t=i()))return e.setRequestHeader("X-CSRF-Token",t)},_.refreshCSRFTokens=function(){var e,t;if(t=i(),e=o(),null!=t&&null!=e)return n('form input[name="'+e+'"]').forEach(function(e){return e.value=t})}}.call(this),function(){var i,t,r;r=_.matches,"function"!=typeof(i=window.CustomEvent)&&((i=function(e,t){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype),t=_.fire=function(e,t,n){var o;return o=new i(t,{bubbles:!0,cancelable:!0,detail:n}),e.dispatchEvent(o),!o.defaultPrevented},_.stopEverything=function(e){return t(e.target,"ujs:everythingStopped"),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},_.delegate=function(e,n,t,o){return e.addEventListener(t,function(e){var t;for(t=e.target;t instanceof Element&&!r(t,n);)t=t.parentNode;if(t instanceof Element&&!1===o.call(t,e))return e.preventDefault(),e.stopPropagation()})}}.call(this),function(){var t,o,e,i,r,a;o=_.CSRFProtection,i=_.fire,t={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},_.ajax=function(t){var n;return t=r(t),n=e(t,function(){var e;return e=a(n.response,n.getResponseHeader("Content-Type")),2===Math.floor(n.status/100)?"function"==typeof t.success&&t.success(e,n.statusText,n):"function"==typeof t.error&&t.error(e,n.statusText,n),"function"==typeof t.complete?t.complete(n,n.statusText):void 0}),"function"==typeof t.beforeSend&&t.beforeSend(n,t),n.readyState===XMLHttpRequest.OPENED?n.send(t.data):i(document,"ajaxStop")},r=function(e){return e.url=e.url||location.href,e.type=e.type.toUpperCase(),"GET"===e.type&&e.data&&(e.url.indexOf("?")<0?e.url+="?"+e.data:e.url+="&"+e.data),null==t[e.dataType]&&(e.dataType="*"),e.accept=t[e.dataType],"*"!==e.dataType&&(e.accept+=", */*; q=0.01"),e},e=function(e,t){var n;return(n=new XMLHttpRequest).open(e.type,e.url,!0),n.setRequestHeader("Accept",e.accept),"string"==typeof e.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),o(n),n.withCredentials=!!e.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return t(n)},n},a=function(e,t){var n,o;if("string"==typeof e&&"string"==typeof t)if(t.match(/\bjson\b/))try{e=JSON.parse(e)}catch(e){}else if(t.match(/\b(?:java|ecma)script\b/))(o=document.createElement("script")).text=e,document.head.appendChild(o).parentNode.removeChild(o);else if(t.match(/\b(xml|html|svg)\b/)){n=new DOMParser,t=t.replace(/;.+/,"");try{e=n.parseFromString(e,t)}catch(e){}}return e},_.href=function(e){return e.href},_.isCrossDomain=function(e){var t,n;(t=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=e,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(e){return!0}}}.call(this),function(){var i,r;i=_.matches,r=function(e){return Array.prototype.slice.call(e)},_.serializeElement=function(e,t){var n,o;return n=[e],i(e,"form")&&(n=r(e.elements)),o=[],n.forEach(function(t){if(t.name)return i(t,"select")?r(t.options).forEach(function(e){if(e.selected)return o.push({name:t.name,value:e.value})}):t.checked||-1===["radio","checkbox","submit"].indexOf(t.type)?o.push({name:t.name,value:t.value}):void 0}),t&&o.push(t),o.map(function(e){return null!=e.name?encodeURIComponent(e.name)+"="+encodeURIComponent(e.value):e}).join("&")},_.formElements=function(e,t){return i(e,"form")?r(e.elements).filter(function(e){return i(e,t)}):r(e.querySelectorAll(t))}}.call(this),function(){var t,i,n;i=_.fire,n=_.stopEverything,_.handleConfirm=function(e){if(!t(this))return n(e)},t=function(e){var t,n,o;if(!(o=e.getAttribute("data-confirm")))return!0;if(t=!1,i(e,"confirm")){try{t=confirm(o)}catch(e){}n=i(e,"confirm:complete",[t])}return t&&n}}.call(this),function(){var n,o,i,r,a,s,t,l,c,u,d;c=_.matches,l=_.getData,u=_.setData,d=_.stopEverything,t=_.formElements,_.handleDisabledElement=function(e){if(this.disabled)return d(e)},_.enableElement=function(e){var t;return t=e instanceof Event?e.target:e,c(t,_.linkDisableSelector)?s(t):c(t,_.buttonDisableSelector)||c(t,_.formEnableSelector)?r(t):c(t,_.formSubmitSelector)?a(t):void 0},_.disableElement=function(e){var t;return t=e instanceof Event?e.target:e,c(t,_.linkDisableSelector)?i(t):c(t,_.buttonDisableSelector)||c(t,_.formDisableSelector)?n(t):c(t,_.formSubmitSelector)?o(t):void 0},i=function(e){var t;return null!=(t=e.getAttribute("data-disable-with"))&&(u(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t),e.addEventListener("click",d),u(e,"ujs:disabled",!0)},s=function(e){var t;return null!=(t=l(e,"ujs:enable-with"))&&(e.innerHTML=t,u(e,"ujs:enable-with",null)),e.removeEventListener("click",d),u(e,"ujs:disabled",null)},o=function(e){return t(e,_.formDisableSelector).forEach(n)},n=function(e){var t;return null!=(t=e.getAttribute("data-disable-with"))&&(c(e,"button")?(u(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t):(u(e,"ujs:enable-with",e.value),e.value=t)),e.disabled=!0,u(e,"ujs:disabled",!0)},a=function(e){return t(e,_.formEnableSelector).forEach(r)},r=function(e){var t;return null!=(t=l(e,"ujs:enable-with"))&&(c(e,"button")?e.innerHTML=t:e.value=t,u(e,"ujs:enable-with",null)),e.disabled=!1,u(e,"ujs:disabled",null)}}.call(this),function(){var s;s=_.stopEverything,_.handleMethod=function(e){var t,n,o,i,r,a;if(a=this.getAttribute("data-method"))return r=_.href(this),n=_.csrfToken(),t=_.csrfParam(),o=document.createElement("form"),i="<input name='_method' value='"+a+"' type='hidden' />",null==t||null==n||_.isCrossDomain(r)||(i+="<input name='"+t+"' value='"+n+"' type='hidden' />"),i+='<input type="submit" />',o.method="post",o.action=r,o.target=this.target,o.innerHTML=i,o.style.display="none",document.body.appendChild(o),o.querySelector('[type="submit"]').click(),s(e)}}.call(this),function(){var l,c,u,d,f,p,m,g,h,v=[].slice;p=_.matches,u=_.getData,g=_.setData,c=_.fire,h=_.stopEverything,l=_.ajax,d=_.isCrossDomain,m=_.serializeElement,f=function(e){var t;return null!=(t=e.getAttribute("data-remote"))&&"false"!==t},_.handleRemote=function(e){var t,n,o,i,r,a,s;return!f(i=this)||(c(i,"ajax:before")?(s=i.getAttribute("data-with-credentials"),o=i.getAttribute("data-type")||"script",p(i,_.formSubmitSelector)?(t=u(i,"ujs:submit-button"),r=u(i,"ujs:submit-button-formmethod")||i.method,a=u(i,"ujs:submit-button-formaction")||i.getAttribute("action")||location.href,"GET"===r.toUpperCase()&&(a=a.replace(/\?.*$/,"")),"multipart/form-data"===i.enctype?(n=new FormData(i),null!=t&&n.append(t.name,t.value)):n=m(i,t),g(i,"ujs:submit-button",null),g(i,"ujs:submit-button-formmethod",null),g(i,"ujs:submit-button-formaction",null)):p(i,_.buttonClickSelector)||p(i,_.inputChangeSelector)?(r=i.getAttribute("data-method"),a=i.getAttribute("data-url"),n=m(i,i.getAttribute("data-params"))):(r=i.getAttribute("data-method"),a=_.href(i),n=i.getAttribute("data-params")),l({type:r||"GET",url:a,data:n,dataType:o,beforeSend:function(e,t){return c(i,"ajax:beforeSend",[e,t])?c(i,"ajax:send",[e]):(c(i,"ajax:stopped"),e.abort())},success:function(){var e;return e=1<=arguments.length?v.call(arguments,0):[],c(i,"ajax:success",e)},error:function(){var e;return e=1<=arguments.length?v.call(arguments,0):[],c(i,"ajax:error",e)},complete:function(){var e;return e=1<=arguments.length?v.call(arguments,0):[],c(i,"ajax:complete",e)},crossDomain:d(a),withCredentials:null!=s&&"false"!==s}),h(e)):(c(i,"ajax:stopped"),!1))},_.formSubmitButtonClick=function(e){var t,n;if(n=(t=this).form)return t.name&&g(n,"ujs:submit-button",{name:t.name,value:t.value}),g(n,"ujs:formnovalidate-button",t.formNoValidate),g(n,"ujs:submit-button-formaction",t.getAttribute("formaction")),g(n,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},_.handleMetaClick=function(e){var t,n;if(n=(this.getAttribute("data-method")||"GET").toUpperCase(),t=this.getAttribute("data-params"),(e.metaKey||e.ctrlKey)&&"GET"===n&&!t)return e.stopImmediatePropagation()}}.call(this),function(){var e,o,t,n,i,r,a,s,l,c,u,d,f,p;r=_.fire,t=_.delegate,s=_.getData,e=_.$,p=_.refreshCSRFTokens,o=_.CSRFProtection,i=_.enableElement,n=_.disableElement,c=_.handleDisabledElement,l=_.handleConfirm,f=_.handleRemote,a=_.formSubmitButtonClick,u=_.handleMetaClick,d=_.handleMethod,"undefined"==typeof jQuery||null===jQuery||jQuery.rails||(jQuery.rails=_,jQuery.ajaxPrefilter(function(e,t,n){if(!e.crossDomain)return o(n)})),_.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return e(_.formEnableSelector).forEach(function(e){if(s(e,"ujs:disabled"))return i(e)}),e(_.linkDisableSelector).forEach(function(e){if(s(e,"ujs:disabled"))return i(e)})}),t(document,_.linkDisableSelector,"ajax:complete",i),t(document,_.linkDisableSelector,"ajax:stopped",i),t(document,_.buttonDisableSelector,"ajax:complete",i),t(document,_.buttonDisableSelector,"ajax:stopped",i),t(document,_.linkClickSelector,"click",c),t(document,_.linkClickSelector,"click",l),t(document,_.linkClickSelector,"click",u),t(document,_.linkClickSelector,"click",n),t(document,_.linkClickSelector,"click",f),t(document,_.linkClickSelector,"click",d),t(document,_.buttonClickSelector,"click",c),t(document,_.buttonClickSelector,"click",l),t(document,_.buttonClickSelector,"click",n),t(document,_.buttonClickSelector,"click",f),t(document,_.inputChangeSelector,"change",c),t(document,_.inputChangeSelector,"change",l),t(document,_.inputChangeSelector,"change",f),t(document,_.formSubmitSelector,"submit",c),t(document,_.formSubmitSelector,"submit",l),t(document,_.formSubmitSelector,"submit",f),t(document,_.formSubmitSelector,"submit",function(e){return setTimeout(function(){return n(e)},13)}),t(document,_.formSubmitSelector,"ajax:send",n),t(document,_.formSubmitSelector,"ajax:complete",i),t(document,_.formInputClickSelector,"click",c),t(document,_.formInputClickSelector,"click",l),t(document,_.formInputClickSelector,"click",a),document.addEventListener("DOMContentLoaded",p),window._rails_loaded=!0},window.Rails===_&&r(document,"rails:attachBindings")&&_.start()}.call(this)}.call(this),_}.call(void 0),xo=new(function(){function e(e){this.config=e,this.setupTools(),this.currentUser=e.currentUser,this.hyperappRails=new F,this.setupRails()}return e.prototype.run=function(){Ao.start(),this.messageActions=this.hyperappRails.process(document.querySelector('[data-hyperapp-app="Message"]'),{app:this}),this.hyperappRails.run({app:this}),oe(),this.setupPromptLoginModal()},e.prototype.showMessage=function(e){var t=e.message,n=e.append,o=void 0!==n&&n;this.messageActions.add({message:t,append:o})},e.prototype.setupPromptLoginModal=function(){return g(this,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return null!==this.currentUser?[3,3]:[4,j(this.config.actionPath)];case 1:return e.sent(),[4,Promise.all([P("score"),P("dismissCount")]).then(function(e){var t=e[0],n=e[1];return{success:!0,data:t>=N(n)}}).catch(function(e){return{errors:e,success:!1}})];case 2:(t=e.sent()).success&&t.data&&_(Yn,Gn,(o={actionPath:this.config.actionPath,app:this},function(e,t){var n=Ce("PromptLoginModal");return v("div",{oncreate:function(){return t.init(o)}},v(Rt,m({},{isOpen:e.isOpen,onRequestClose:function(){return t.handleCloseModal(o)},class:Ze(["plm-Dialog"])}),v("div",{class:"fa fa-times plm-Dialog_close",onclick:function(){return t.handleCloseModal(o)}}),v("div",{class:"plm-Dialog_title"},n("title")),v("div",{class:"plm-Dialog_message"},n("prompt_message")),v("ol",{class:"plm-Dialog_list"},v("li",null,n("prompt_match"),v("div",{class:"description"},n("prompt_match_description"))),v("li",null,n("prompt_stock"),v("div",{class:"description"},n("prompt_stock_description")))),v("a",{href:qe({redirectTo:rt()}),class:"plm-Dialog_button plm-Dialog_button-signup",onclick:function(){return t.trackClick("sign up")}},n("sign_up")),v("a",{href:Be({redirectTo:rt()}),class:"plm-Dialog_button plm-Dialog_button-signin",onclick:function(){return t.trackClick("sign in")}},n("sign_in"))))}),document.body.appendChild(document.createElement("div"))),e.label=3;case 3:return[2]}var o})})},e.prototype.setupTools=function(){var t,e,n,o,i;this.config.settings.assetsMap,t={"X-CSRF-Token":this.config.settings.csrfToken,Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},Object.keys(t).forEach(function(e){U[e]=t[e]}),e=this.config.currentUser,n=this.config.settings.analyticsTrackingId,o=this.config.settings.mixpanelToken,J(n),Z("config",n,{send_page_view:!1}),Z("set",{user_id:e?e.originalId.toString():void 0,custom_map:{dimension1:"logged_in",dimension4:"layout_version",dimension5:"staff"},logged_in:e?"true":"false",layout_version:2,staff:e?e.isStaff.toString():"false"}),ne=n,te().init(o),e&&(te().identify(e.originalId.toString()),te().register({"Layout Version":2})),i=this.config.settings.locale,ke=i},e.prototype.setupRails=function(){this.hyperappRails.register("ArticleLikeMilestones",Ye),this.hyperappRails.register("FileWithFilenameAndPreviewInput",Ke),this.hyperappRails.register("GlobalHeader",st),this.hyperappRails.register("GPTSlot",pt),this.hyperappRails.register("Message",wt),this.hyperappRails.register("OrganizationIndexSort",Lt),this.hyperappRails.register("OrganizationIssueReport",At),this.hyperappRails.register("OrganizationMemberFollowButton",Nt),this.hyperappRails.register("OrganizationRanking",qt),this.hyperappRails.register("PersonalPublicArticle",Qn),this.hyperappRails.register("RecommendedUsers",Jn),this.hyperappRails.register("SettingsPassword",no),this.hyperappRails.register("StaffOnlyAlert",oo),this.hyperappRails.register("TagArticleDropdown",io),this.hyperappRails.register("TagFeed",lo),this.hyperappRails.register("TagFollowButton",po),this.hyperappRails.register("TagRanking",_o),this.hyperappRails.register("Timeline",Co),this.hyperappRails.register("Trend",Lo),this.hyperappRails.register("TrendShowLoginModal",Ro),this.hyperappRails.register("UserRanking",Do)},e}())(JSON.parse(document.getElementById("dataContainer").dataset.config));return xo.run(),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/public-production-serviceworker.min.js")}),e.qiita=xo,e}({});
