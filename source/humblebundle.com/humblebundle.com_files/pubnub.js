define("pubnub",["jquery","lib/pubnub","lib/lodash"],function(n,e,r){"use strict";function t(n){this._log=[];var e=this;n.forEach(function(n){e[n]=function(){e._log.push([n,Array.prototype.slice.call(arguments)])}}),this._playback=function(n){e._log.forEach(function(e){methodname=e[0],args=e[1],method=n[methodname],method.apply(n,args)})}}function i(n,e){var r=d[n]||[];r.push(e),d[n]=r}function u(n){delete d[n]}function c(n,e,r){var t=!0,i=!1,u=void 0;try{for(var c,a=d[r][Symbol.iterator]();!(t=(c=a.next()).done);t=!0){(0,c.value)(n)}}catch(n){i=!0,u=n}finally{try{!t&&a.return&&a.return()}finally{if(i)throw u}}}function a(r){l||(b=r.preamble,l=e.init(r.credentials)),f||(f={},n.extend(f,l),f.subscribe=function(n){return i(n.channel,n.callback),n.callback=c,l.subscribe(n)},f.unsubscribe=function(n){return u(n.channel),l.unsubscribe(n)},f.ready(),h._playback(f))}function o(n){var e=r.extend({},n,{channel:b+n.channel});return f.subscribe(e)}function s(n){var e=r.extend({},n,{channel:b+n.channel});return f.unsubscribe(e)}var b,l,f,h=new t(["subscribe","unsubscribe","history"]),d={};return{initialize:a,subscribe:o,unsubscribe:s}});
//# sourceMappingURL=pubnub.js.map