define("components",["lodash","utils","core","santaProps","coreUtils","prop-types","santa-components","skins","experiment","zepto","reactDOM","compUtils","imageClientLib","coreUtilsLib","textCommon","containerCommon","backgroundCommon","galleriesCommon","displayer","imageZoom"],function(e,t,i,o,a,n,s,r,p,l,c,d,u,h,m,y,g,f,v,b){return function(e){var t={};function i(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(o,a,function(t){return e[t]}.bind(null,a));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2011)}({0:function(t,i){t.exports=e},1:function(e,i){e.exports=t},11:function(e,t){e.exports=l},12:function(e,t){e.exports=c},131:function(e,t){e.exports=v},15:function(e,t){e.exports=d},169:function(e,t){e.exports=b},1981:function(e,t,i){var o,a;o=[i(2),i(1)],void 0===(a=function(e,t){"use strict";var i={displayName:"BgImageStrip",mixins:[e.compMixins.skinBasedComp],getSkinProperties:function(){return{bg:{style:{},"data-type":t.balataConsts.BG_IMAGE}}}};return e.compRegistrar.register("wysiwyg.viewer.components.BgImageStrip",i),i}.apply(t,o))||(e.exports=a)},1982:function(e,t,i){var o,a;o=[i(0),i(8),i(31)],void 0===(a=function(e,t,i){"use strict";return function(o,a,n,s){if(t.isOpen("sv_nativeComponents",{renderedModel:s})){var r=e.get(s,"clientSpecMap");if(r&&e.isFunction(r.toJS)){var p=i.nativeAppsCompTypeResolver(r.toJS()),l=a(o),c=e.get(l,"dataItem.widgetId"),d=(e.find(p,["widgetId",c])||{}).type;d&&(o.componentType=d)}}return o}}.apply(t,o))||(e.exports=a)},1983:function(e,t,i){var o,a;o=[i(4),i(1982)],void 0===(a=function(e,t){"use strict";e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAWidget",t)}.apply(t,o))||(e.exports=a)},1984:function(e,t,i){var o,a;o=[i(0),i(4)],void 0===(a=function(e,t){"use strict";function i(t){return[t.id].concat(e.flatMap(t.components,i))}return function(o,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clear:e.noop,update:e.noop},s=a(o),r=o.components[0];if(!r||!s.dataItem)return o;if(e.isEmpty(s.dataItem.items))return e.defaults({components:[],layout:e.defaults({height:r.layout.height},o.layout)},o);var p=i(r);e.forEach(p,n.clear);var l=e.reduce(s.dataItem.items,function(e,i){return e.concat(t.displayedOnlyStructureUtil.getUniqueStructure(r,i,n.update))},[]);return e.defaults({components:l},o)}}.apply(t,o))||(e.exports=a)},1985:function(e,t,i){var o,a;o=[i(0),i(4)],void 0===(a=function(e,t){"use strict";var i=t.constants.COMP_LAYOUT_OPTIONS.REPEATER.ALIGNMENTS;function o(e,t,o,a){return e?function(e,t,o,a){switch(e){case i.LEFT:return 0;case i.RIGHT:return t;case i.CENTER:return t/2;case i.JUSTIFY:return t/(a>1?a-1:1)*o}}(e,t,o,a):0}var a={CardsLayoutProperties:function(t,a,n,s,r,p,l){var c=e.assign({},a.get(n[0]),s),d=t.getInnerPointer(r,["layout"]),u=a.get(d),h=u.width,m=p.alignment!==i.JUSTIFY?p.gap.horizontal:0,y=p.gap.vertical;l&&(h=l.width);var g=function(e,t,i){return e<t?1:Math.floor((e-t)/(t+i))+1}(h,c.width,m),f=Math.min(g,n.length),v=h-m*(f-1)-c.width*f;if(e.transform(n,function(t,r,l){var d=l%g;if(l>=g){var u=y+(e.get(s,"height")||a.get(n[l-g]).height);t[d]+=u}var h=o(p.alignment,v,d,f),b=function(e,t,o){return e!==i.JUSTIFY?o*t:0}(p.alignment,d,m),k={y:t[d],x:d*c.width+h+b};a.merge(r,e.defaults(k,s))},e.fill(Array(g),0)),h<c.width){var b=e.defaults({width:Math.max(h,c.width)},u);a.set(d,b)}}};return{setLayout:function(t,i,o,n,s){var r=i.get(t.getInnerPointer(o,["propertyQuery"])),p=i.get(t.data.getPropertyItem(r,t.components.getPageOfComponent(o).id)),l=t.components.getChildren(o);if(!e.isEmpty(l)&&p){var c=e.map(l,function(e){return t.getInnerPointer(e,["layout"])});a[p.type](t,i,c,n,o,p,s)}}}}.apply(t,o))||(e.exports=a)},1986:function(e,t,i){var o,a;o=[i(4),i(1985),i(1984)],void 0===(a=function(e,t,i){"use strict";e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.Repeater",i),e.jsonUpdaterRegistrar.registerLayouterComp("wysiwyg.viewer.components.Repeater",t)}.apply(t,o))||(e.exports=a)},1987:function(e,t,i){var o,a;o=[i(0),i(3),i(5),i(2),i(1),i(6),i(331),i(81)],void 0===(a=function(e,t,i,o,a,n,s,r){"use strict";var p="100%",l="100%",c=0,d="120%",u=0,h=a.mediaConsts,m=s.mediaLogicMixins.fill,y=t.Types;function g(t,i){var o=e.get(t,"scrollType"),a=e.get(t,["mediaRef","type"]);return(!("Image"===a||"WixVideo"===a)||function(e){return e.isMobileView?"viewport"!==e.compData.mediaSizing:!e.fixedSiteBackground}(i)||i.isAndroidOldBrowser)&&(o="scroll"),o}function f(t,i,o){var n=function(t,i){var o="absolute";return"WixVideo"!==e.get(t,["mediaRef","type"])&&"fixed"!==i&&"parallax"!==i||(o="fixed"),o}(i,g(i,t)),s={top:0,height:l,width:p,backgroundColor:a.colorParser.getColor(t.colorsMap,i.color),display:o?"none":"",position:n};return t.isMobileView&&"fixed"===n&&(s.willChange="transform"),s}function v(e,t){var i=t.mediaRef,o=g(t,e),a={position:"absolute",top:function(e){var t=c;return"parallax"===e&&(t=u),t}(o),height:function(e){var t=l;return"parallax"===e&&(t=d),t}(o),width:p,opacity:i&&i.opacity};return e.isMobileView&&"fixed"===o&&(a.willChange="transform"),a}function b(t,i){var o=t.background,a=i.background,n=o.mediaRef||{},s=a.mediaRef||{},r=!o.mediaRef&&!a.mediaRef,p=r||n.type===s.type,l=t.mediaSizing===i.mediaSizing,c=["type","alignType","fittingType","scrollType","colorOverlay","colorOverlayOpacity","color","videoId","uri","opacity"];return"WixVideo"===n.type&&p?c=e.without(c,"color"):r&&(c=["color"]),p&&l&&function t(i,o,a,n){var s=e.every(n,function(e){return(i&&i[e])===(o&&o[e])});s=s&&e.every(a,function(e){return!i||t(i[e],o[e],a,n)});return s}(o,a,["mediaRef","imageOverlay"],c)}function k(e,t){var i=t.colorOverlay?a.colorParser.getColor(e.colorsMap,t.colorOverlay,t.colorOverlayOpacity):null,o=function(e,t){if(!t)return null;return"url("+a.urlUtils.joinURL(e.staticMediaUrl,t.uri)+")"}(e,t.imageOverlay);return{position:"absolute",top:0,width:p,height:l,backgroundImage:o,backgroundColor:i}}var P={displayName:"SiteBackground",mixins:[m,o.compMixins.skinBasedComp,n.mixins.animationsMixin,r.mixins.backgroundDetectionMixin,o.compMixins.createChildComponentMixin],propTypes:e.defaults({id:t.Types.Component.id,compData:t.Types.Media.SiteBackground.data,actionsAspect:t.Types.SiteAspects.actionsAspect.isRequired,currentUrlPageId:t.Types.Component.currentUrlPageId,isMobileView:t.Types.isMobileView.isRequired,isTouchDevice:t.Types.Device.isTouchDevice,isAndroidOldBrowser:t.Types.Browser.isAndroidOldBrowser,colorsMap:t.Types.Theme.colorsMap,staticMediaUrl:t.Types.ServiceTopology.staticMediaUrl,styleId:y.staticValue(i.string,"siteBackground"),skin:y.staticValue(i.string,"wysiwyg.viewer.skins.siteBackgroundSkin"),componentViewMode:t.Types.RenderFlags.componentViewMode.isRequired,hideSiteBackground:t.Types.RenderFlags.hideSiteBackground.isRequired,fixedSiteBackground:t.Types.BrowserFlags.fixedSiteBackground,mediaQuality:t.Types.Media.SiteBackground.mediaQuality,renderParts:t.Types.Media.SiteBackground.renderParts,playbackFormat:t.Types.Media.SiteBackground.playbackFormat,playbackConfig:t.Types.Media.SiteBackground.playbackConfig,playbackUrl:t.Types.Media.SiteBackground.playbackUrl,isExperimentOpen:t.Types.isExperimentOpen},t.santaTypesUtils.getSantaTypesByDefinition(r.components.html5Video)),statics:{behaviors:s.mediaBehaviors.fill},previousScroll:null,getInitialState:function(){return this.size={},{resetAttachment:!1,hidePrevious:!1}},callForBackgroundChange:function(t){var i={onComplete:function(){this.isPageChanged()&&(e.result(this.refs,["previousVideo","kill"]),this.setState({previousPageBackground:null,resetAttachment:!1,hidePrevious:!0}))}.bind(this)};this.props.actionsAspect.registerNextBGPageTransition(this,"previous","current",i),this.setState({previousPageBackground:t,resetAttachment:!0,hidePrevious:!1,currentVisiblePageId:null})},componentWillReceiveProps:function(t){if(this.props.currentUrlPageId!==t.currentUrlPageId){var i=this.props.compData;b(i,t.compData)?(e.result(this.refs,["previousVideo","kill"]),this.setState({previousPageBackground:null,currentVisiblePageId:this.state.currentVisiblePageId||this.props.compData.background.id})):this.callForBackgroundChange(e.assign(i.background,{mediaQuality:this.props.mediaQuality,renderParts:e.cloneDeep(this.props.renderParts),playbackConfig:e.cloneDeep(this.props.playbackConfig),playbackUrl:this.props.playbackUrl,playbackFormat:this.props.playbackFormat}))}},handleParallaxBehavior:function(e){var t=g(e,this.props);("parallax"===this.previousScroll||"parallax"===t)&&(this.previousScroll=t,"parallax"===t?this.props.actionsAspect.registerBehaviors("currentImage","siteBackground",[{action:"bgScrub",name:"SiteBackgroundParallax",duration:1,delay:0}]):this.props.actionsAspect.unRegisterBehaviors("currentImage",[{action:"bgScrub",name:"SiteBackgroundParallax",duration:1,delay:0}]))},getClasses:function(){return""},isPageChanged:function(){return this.props.compData.background.id!==e.get(this.state,["previousPageBackground","id"])},createVideoComponent:function(t,i,o,a,n,s,r){var p="wysiwyg.viewer.components.background.html5Video",l="skins.viewer.bgVideo.html5VideoSkin",c="bgVideo",d=t.mediaRef,u="current"===i;return"WixVideo"!==e.get(d,"type")?(u&&this.setMediaAPI(null),null):this.createChildComponent(d,p,{skin:l,styleId:c},{id:this.props.id+i+"Video",key:"vid_"+d.videoId,notifyMediaState:this.onMediaChange,setMediaAPI:u?this.setMediaAPI:e.noop,videoRenderParts:a,mediaQuality:o,playbackUrl:n,format:s,config:r,className:"siteBackground"+i+"Video",compProp:e.pick(d,h.playback.SUPPORTED_MEDIA_ATTRIBUTES)})},getSkinProperties:function(){var t=this.state.currentVisiblePageId||this.props.compData.background.id,i=e.get(this.state.previousPageBackground,"id","noPrev");i=i===t?"noPrev":i;var o=null,a=!this.props.isTouchDevice,n=void 0,s=void 0,r=void 0,p=this.props.id,l=this.props.compData.background,c=v(this.props,l),d={id:p+"_currentImage_"+t,style:c,"data-type":h.balataConsts.BG_IMAGE,"data-height":c.height};a&&((s=this.createVideoComponent(l,"current",this.props.mediaQuality,this.props.renderParts.media.video,this.props.playbackUrl,this.props.playbackFormat,this.props.playbackConfig))||this.setMediaAPI(null)),this.state.previousPageBackground&&(r={id:p+"_previousImage_"+i,style:(o=this.state.previousPageBackground)?v(this.props,o):{}},a&&(n=this.createVideoComponent(o,"previous",o.mediaQuality,o.renderParts.media.video,o.playbackUrl,o.playbackFormat,o.playbackConfig))),this.handleParallaxBehavior(l);var u=f(this.props,l,!1),m={"":{id:p,className:this.getClasses()},current:{key:t+g(l,this.props)+this.props.componentViewMode,id:p+"_current_"+t,style:u,"data-position":u.position},currentImage:d,currentVideo:s,currentOverlay:{id:p+"_currentOverlay_"+t,style:k(this.props,l)},previous:{key:i+g(o,this.props)+this.props.componentViewMode,id:p+"_previous_"+i,style:o?f(this.props,o,this.state.hidePrevious):{}},previousImage:r,previousVideo:n,previousOverlay:{id:p+"_previousOverlay_"+i,style:o?k(this.props,o):{}}};return this.props.hideSiteBackground&&(m[""]["data-dead-comp"]=!0),m}};return o.compRegistrar.register("wysiwyg.viewer.components.SiteBackground",P),P}.apply(t,o))||(e.exports=a)},1988:function(e,t,i){var o,a;o=[i(0),i(3),i(331),i(65),i(6),i(2)],void 0===(a=function(e,t,i,o,a,n){"use strict";var s=a.santaTypesDefinitions,r=o.mixins.containerMixin,p=function(t){return!!e.get(t,"compData.isPopup",!1)},l={displayName:"WixPage",mixins:[i.mediaLogicMixins.fill,r,n.compMixins.createChildComponentMixin,a.mixins.inlineContentMixin],propTypes:{id:t.Types.Component.id,compData:t.Types.Component.compData,compProp:t.Types.Component.compProp.isRequired,compDesign:t.Types.Media.Popup.data,compStaticBehaviors:t.Types.Component.compStaticBehaviors,defaultBackgroundStyle:t.Types.Container.defaultBackgroundStyle.isRequired,mediaQuality:t.Types.Media.Popup.mediaQuality,isExperimentOpen:t.Types.isExperimentOpen,isMobileView:t.Types.isMobileView.isRequired,isMobileDevice:t.Types.Device.isMobileDevice.isRequired,isMeshLayoutMechanism:a.santaTypesDefinitions.Layout.isMeshLayoutMechanism.isRequired,meshParams:a.santaTypesDefinitions.Component.meshParams,closePopupPage:t.Types.popupPage.close,siteWidth:t.Types.siteWidth.isRequired,siteScrollingBlocker:t.Types.SiteAspects.siteScrollingBlocker.isRequired,markVisitedPage:t.Types.Page.markVisitedPage,renderParts:t.Types.Media.Popup.renderParts,pageStub:s.Component.pageStub,pageMinHeightDefault:t.Types.pageMinHeightDefault.isRequired,playbackUrl:t.Types.Media.Popup.playbackUrl,playbackFormat:t.Types.Media.Popup.playbackFormat,playbackConfig:t.Types.Media.Popup.playbackConfig,defaultContentArea:t.Types.Container.defaultContentArea.isRequired},statics:{behaviors:i.mediaBehaviors.fill},componentDidMount:function(){p(this.props)&&this.props.isMobileView&&this.props.isMobileDevice&&this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!0),this.props.markVisitedPage&&this.props.markVisitedPage(this.props.id)},componentWillUnmount:function(){p(this.props)&&this.props.isMobileView&&this.props.isMobileDevice&&this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!1)},shouldCloseOverlay:function(t){return e.get(this.props,["compProp",t,"popup","closeOnOverlayClick"])},getBalataProps:function(){var t=this.props.isMobileView?"mobile":"desktop";return{id:this.props.id,onClick:this.shouldCloseOverlay(t)?this.props.closePopupPage:null,bgStyle:function(t,o){var a=i.popupMediaStyle;return t?e.defaults({width:o+"px",left:"",right:""},a):a}(this.props.isMobileView,this.props.siteWidth),mediaQuality:this.props.mediaQuality,playbackFormat:this.props.playbackFormat,playbackConfig:this.props.playbackConfig,playbackUrl:this.props.playbackUrl}},getRootStyle:function(){return p(this.props)?{top:0,left:0,position:"relative"}:{position:"absolute"}},getSkinProperties:function(){return p(this.props)?this.getPopupPageSkinProperties():this.getPageSkinProperties()},isMobile:function(){return!(!this.props.isMobileView&&!this.props.isMobileDevice)},getPageMinHeight:function(){return e.get(this.props.compProp,[[this.isMobile()?"mobile":"desktop"],"minHeight"],0)||this.props.pageMinHeightDefault},getMeshOverridesParams:function(){return{minHeight:this.getPageMinHeight(),fitToContentHeight:!0,width:this.props.siteWidth}},getPageSkinProperties:function(t){var i=this.props.isMeshLayoutMechanism?"auto":this.props.structure.layout.height;return{"":{"data-ismobile":this.isMobile(),"data-is-mesh-layout":this.props.isMeshLayoutMechanism,style:e.assign({height:i,left:0},this.props.isMeshLayoutMechanism?{position:"relative"}:{minWidth:this.props.siteWidth,minHeight:this.getPageMinHeight()})},bg:{style:this.props.defaultBackgroundStyle},inlineContent:e.assign(t,{children:this.getChildrenRenderer({overrides:this.getMeshOverridesParams(),contentArea:this.props.defaultContentArea})})}},getPopupPageSkinProperties:function(){return e.merge(this.getPageSkinProperties({style:{pointerEvents:"none"}}),{"":{style:e.defaults({minHeight:"100vh"},this.getRootStyle()),"data-ispopup":p(this.props)},bg:this.createFillLayers(this.getBalataProps())})}};return n.compRegistrar.register("wixapps.integration.components.AppPage",l).register("mobile.core.components.Page",l),l}.apply(t,o))||(e.exports=a)},1989:function(e,t,i){var o,a;o=[i(0),i(5),i(3),i(2),i(1),i(4),i(27),i(94),i(6)],void 0===(a=function(e,t,i,o,a,n,s,r,p){"use strict";var l={numCols:3,maxRows:3,margin:0,transition:"seq_crossFade_All",transDuration:1,autoplayInterval:3,autoplay:!1,showAutoplay:!0,showNavigation:!0,showCounter:!0},c=o.compMixins,d=o.componentUtils,u=a.linkRenderer,h=n.matrixCalculations,m=r.utils.galleriesHelperFunctions,y=d.galleryPagingCalculations,g=d.matrixAnimationManipulation;function f(t){return{currentIndex:e.get(t,"currentIndex",0),isPlaying:"autoplayOn"===e.get(t,"$slideshow","autoplayOff")}}var v={displayName:"PaginatedGridGallery",mixins:[c.skinBasedComp,r.mixins.galleryAutoPlayMixin,p.mixins.animationsMixin,c.timeoutsMixin,c.compStateMixin(f),c.createChildComponentMixin],propTypes:e.assign({compProp:i.Types.Component.compProp.isRequired,compData:i.Types.Component.compData.isRequired,id:i.Types.Component.id.isRequired,skin:i.Types.Component.skin.isRequired,style:i.Types.Component.style.isRequired,linkRenderInfo:i.Types.Link.linkRenderInfo.isRequired,rootNavigationInfo:i.Types.Component.rootNavigationInfo.isRequired,dimensions:i.Types.Component.dimensions,isZoomOpened:i.Types.isZoomOpened.isRequired,windowTouchEventsAspect:i.Types.SiteAspects.windowTouchEvents.isRequired,isMobileView:i.Types.isMobileView,isMobileDevice:i.Types.Device.isMobileDevice,isTabletDevice:i.Types.Device.isTabletDevice,isPlayingAllowed:i.Types.RenderFlags.isPlayingAllowed,getPaginatedGridGalleryMeasures:i.Types.__DangerousSantaTypes.getPaginatedGridGalleryMeasures,onAnimationCompleteCallback:t.func,createGalleryItem:t.func,getItemRef:t.func,registerReLayout:t.func,compActions:i.Types.Component.compActions.isRequired},i.santaTypesUtils.getSantaTypesByClass(p.components.Image)),statics:{behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),this.isAnimating=!1,e.assign(f(),{hoveredImage:null,$itemSelection:"idle",$mobile:this.props.isMobileDevice||this.props.isTabletDevice?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView",$animationInProcess:null,$touchRollOverSupport:"touchRollOut"})},componentWillReceiveProps:function(e){var t=!1,i={$mobile:e.isMobileDevice||e.isTabletDevice?"mobile":"notMobile",$displayDevice:e.isMobileView?"mobileView":"desktopView"};if(this.props.compProp.autoplay!==e.compProp.autoplay){var o=e.compProp.autoplay&&!this.props.isZoomOpened&&this.props.isPlayingAllowed?"autoplayOn":"autoplayOff";t=!0,i.shouldAutoPlay=e.compProp.autoplay,i.$slideshow=o}this.setState(i,function(){t&&(this.updateAutoplayState(),this.handleAction(i.$slideshow))}.bind(this))},componentDidMount:function(){this.updateAutoplayState()},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getButtonVisibility:function(e,t){return!1===this.props.compProp.showNavigation||this.state.currentIndex===e&&this.state.currentIndex===t||this.props.compProp.isHidden?"hidden":"visible"},getSkinProperties:function(){var t=e.defaults(this.props.compProp,l),i=this.props.compData,o=y.getPageItems(i.items,this.state.currentIndex,t.numCols,t.maxRows),s=this.state.hoveredImage?this.state.hoveredImage.props.compData:null,r=this.state.hoveredImage?function(t,i,o,a,n,s,r,p,l){var c={},d="Go to link",u="pointer",h=function(e,t){var i=t;return i||(i=!0===e?"zoomMode":"disabled"),i}(i.expandEnabled,i.galleryImageOnClickAction),m=void 0;return t.link&&(m=a(s,p,o)),i.goToLinkText&&(d=i.goToLinkText),"zoomMode"===h?c=n(p,o,t,r,void 0,l):m&&"goToLink"===h?c=m:u="default",e.assign(c,{linkData:m,goToLinkText:d,cursor:u,clickAction:h}),c}(s,t,this.props.rootNavigationInfo,u.renderLink,u.renderImageZoomLink,s.link,i.id,this.props.linkRenderInfo,this.props.id):{},c=y.getNextPageItemIndex(this.state.currentIndex,t.numCols,t.maxRows,i.items.length),d=y.getPrevPageItemIndex(this.state.currentIndex,t.numCols,t.maxRows,i.items.length),h=y.getPageItems(i.items,c,t.numCols,t.maxRows),g=y.getPageItems(i.items,d,t.numCols,t.maxRows),f=this.getButtonVisibility(c,d),v=!this.props.compProp.isHidden&&this.props.compProp.showCounter&&o.length>0?"visible":"hidden",b=this.classSet({"show-counter":"hidden"!==f||"hidden"!==v});return{"":{"data-height-diff":m.getSkinHeightDiff(this.props.skin),"data-width-diff":m.getSkinWidthDiff(this.props.skin),onMouseLeave:function(e,t){this.onRollOut(e,t,!0)}.bind(this),style:{overflow:"hidden"}},itemsContainer:{children:this.createDisplayedItems(o,h,g,c,d),"data-gallery-id":this.props.id,className:b,style:{position:"relative",overflow:"hidden",width:this.props.style.width-m.getSkinWidthDiff(this.props.skin),height:this.props.style.height-m.getSkinHeightDiff(this.props.skin)}},buttonPrev:{onClick:function(e){e&&e.stopPropagation(),this.prev()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:f}},buttonNext:{onClick:function(e){e&&e.stopPropagation(),this.next()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:f}},counter:{children:y.getCounterText(this.state.currentIndex,t.numCols,t.maxRows,i.items.length),style:{visibility:v},"data-gallery-id":this.props.id},autoplay:{onClick:this.toggleAutoPlay,"data-gallery-id":this.props.id,style:{cursor:"pointer",visibility:this.shouldShowAutoPlay()?"visible":"hidden"}},rolloverHolder:{style:this.state.hoveredImage?function(e,t){return{visibility:"visible",position:"absolute",cursor:"pointer",padding:0,left:parseInt(e.props.style.left,10)+m.getSkinWidthDiff(t)/2,top:parseInt(e.props.style.top,10),width:parseInt(e.props.containerWidth,10),height:parseInt(e.props.containerHeight,10)}}(this.state.hoveredImage,this.props.skin):{visibility:"hidden",cursor:"pointer"},"data-gallery-id":this.props.id,addChildBefore:[function(t,i){var o=e.defaults({href:i.href||"#",style:e.assign({height:"100%",display:"block",width:"100%",position:"absolute",top:"0px",left:"0px",backgroundColor:"#ffffff",filter:"alpha(opacity=0)",opacity:"0",cursor:i.cursor},a.style.prefix({userSelect:"none",userDrag:"none",userModify:"read-only"}))},i);return i.href||(o.onClick=function(i){this.props.handleAction({type:"comp",name:n.constants.ACTION_TYPES.ITEM_CLICKED,sourceId:this.props.id,pageId:this.props.rootId},function(e,t){return{item:e,timeStamp:a.performance.now(),imageIndex:t,name:n.constants.ACTION_TYPES.ITEM_CLICKED}}(t,e.get(this.state,"currentIndex"))),i.preventDefault(),i.stopPropagation()}.bind(this)),p.utils.createReactElement("a",o)}.call(this,s,r),"link"]},title:{children:this.state.hoveredImage?function(e){return e?e.title:""}(s):"","data-gallery-id":this.props.id},description:{children:this.state.hoveredImage?function(e){return e?e.description:""}(s):"","data-gallery-id":this.props.id},link:r.linkData&&e.merge(r.linkData,{children:r.goToLinkText,"data-gallery-id":this.props.id,refInParent:"link",style:{display:"goToLink"!==r.clickAction&&r.linkData?"block":"none"}}),textWrapper:{"data-gallery-id":this.props.id}}},onMouseEnter:function(e){var t=this.refs[e];this.state.hoveredImage!==t&&this.setState({hoveredImage:t,$itemSelection:"rollover"})},onRollOut:function(e,t,i){("IMG"!==e.target.tagName||i)&&this.setState({hoveredImage:null,$itemSelection:"idle"})},onComponentTouchStart:function(e){this.onMouseEnter(e),"touchRollOut"===this.state.$touchRollOverSupport&&this.setState({$touchRollOverSupport:"touchRollOver"})},onWindowTouchStart:function(e){var t=e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id");"touchRollOver"===this.state.$touchRollOverSupport&&t!==this.props.id&&(this.onRollOut({target:""},null,!0),this.setState({$touchRollOverSupport:"touchRollOut"}))},next:function(e){this.movePage(!1,e)},prev:function(e){this.movePage(!0,e)},movePage:function(t,i){var o=this.props.compProp,a=this.props.compData,n=t?y.getPrevPageItemIndex(this.state.currentIndex,o.numCols,o.maxRows,a.items.length):y.getNextPageItemIndex(this.state.currentIndex,o.numCols,o.maxRows,a.items.length);if(this.isAnimating||n===this.state.currentIndex)return this._movePageQueue||(this._movePageQueue=[]),void this._movePageQueue.push(t);var s=y.getPageItems(a.items,n,o.numCols,o.maxRows),r=y.getPageItems(a.items,this.state.currentIndex,o.numCols,o.maxRows),p=void 0,l=void 0;this.props.createGalleryItem?(p=this.convertDataItemsToRefs(r,this.state.currentIndex),l=this.convertDataItemsToRefs(s,n)):(p=e.map(r,"id"),l=e.map(s,"id")),s&&(this.props.registerReLayout?this.props.registerReLayout():this.registerReLayout(),this.setState({$animationInProcess:"animationInProcess",$itemSelection:"idle"},function(){this.performAnimation(p,l,t,n,i)}))},performAnimation:function(t,i,o,a,n){var s=this.props.compProp,r=h.getAvailableRowsNumber(s.maxRows,s.numCols,this.props.compData.items.length),p=g.getSortedArrayAndStagger(s.transition,t,i,r,s.numCols,this.timingFunctionIndex||0),l=p.transName,c=this.props.getPaginatedGridGalleryMeasures(this.props.id),d=function(e,t,i,o,a,n){var s=h.getItemWidth(e.margin,e.numCols,t,m.getSkinWidthDiff(a)),r=h.getItemHeight(e.margin,i,o,m.getSkinHeightDiff(a)),p=t-m.getSkinWidthDiff(a)+e.margin,l=i-m.getSkinHeightDiff(a)+e.margin;return{width:"Shrink"===n?s:p,height:"Shrink"===n?r:l}}(s,c.width||this.props.style.width,c.height||this.props.style.height,r,this.props.skin,l);this.timingFunctionIndex=p.timingFunctionIndex+1;var u="none"===s.transition?0:s.transDuration,y=p.stagger,f=this.sequence(),v=p.sporadicallyRandom&&p.sourceNodesArrSorted.length>1;p.sourceNodesArrSorted.length!==p.destNodesArrSorted.length&&function(t,i){var o=Math.max(t.length,i.length);e.times(o,function(e){t[e]||(t[e]="emptyDivToFillMatrix"),i[e]||(i[e]="emptyDivToFillMatrix")})}(p.sourceNodesArrSorted,p.destNodesArrSorted),e.forEach(p.sourceNodesArrSorted,function(e,t){var i=p.destNodesArrSorted[t],a={width:d.width,height:d.height,reverse:v?Math.random()>.5:!!o},n=y;"Shrink"!==l&&"CrossFade"!==l||(a.stagger=y,n=0),f.add({sourceRefs:e,destRefs:i},l,u,0,a,t*n)}),f.onStartAll(function(){this.isAnimating=!0}.bind(this)).onCompleteAll(function(){this.animationCompleteCallback(a,n)}.bind(this)).execute()},animationCompleteCallback:function(t,i){this.isAnimating=!1,this.props.onAnimationCompleteCallback&&this.props.onAnimationCompleteCallback(),this.setState({currentIndex:t,$animationInProcess:null},function(){this.updateAutoplayState(),e.isFunction(i)&&i()}.bind(this)),this._movePageQueue&&this._movePageQueue.length>0&&setTimeout(function(){this.movePage(this._movePageQueue.shift())}.bind(this),100)},createDisplayedItems:function(t,i,o,a,n){var s=this.props.compProp,r=this.props.compData,p=parseFloat(this.props.style.width),l=h.getItemWidth(s.margin,s.numCols,p,m.getSkinWidthDiff(this.props.skin)),c=h.getAvailableRowsNumber(s.maxRows,s.numCols,r.items.length),d=h.getItemHeight(s.margin,this.props.style.height,c,m.getSkinHeightDiff(this.props.skin)),u=[],y=[],g=e.map(t,function(e,i){return this.createGalleryItem(e,i,l,d,this.state.currentIndex,t.length,"curr")}.bind(this));return a!==this.state.currentIndex&&(u=e.map(i,function(e,t){return this.createGalleryItem(e,t,l,d,a,i.length,"next",{visibility:"hidden"})}.bind(this))),n!==a&&n!==this.state.currentIndex&&(y=e.map(o,function(e,t){return this.createGalleryItem(e,t,l,d,n,o.length,"prev",{visibility:"hidden"})}.bind(this))),u.concat(y).concat(g)},createGalleryItem:function(e,t,i,o,a,n,s,r){return this.props.createGalleryItem?this.props.createGalleryItem(this.props.id,e,t,a,n,r,this.classSet):this.createImageItem(e,t,i,o,a,s,r)},convertDataItemsToRefs:function(e,t){for(var i=[],o=0;o<e.length;o++){var a=this.props.getItemRef?this.props.getItemRef(this.props.id,t,o):this.getImageItemRef(t,o);i.push(a)}return i},getImageItemRef:function(e,t){return this.props.id+e+t},createImageItem:function(t,i,o,a,n,r,p){var l=h.getItemPosition(i,o,a,this.props.compProp.margin,this.props.compProp.numCols),c=h.getImageStyle(a,o,t.height,t.width);return this.createChildComponent(t,"core.components.Image","img",{id:this.props.id+t.id,ref:t.id,key:t.id,imageData:t,containerWidth:Math.round(o),containerHeight:Math.round(a),displayMode:s.fittingTypes.SCALE_TO_FILL,imgStyle:c,"data-gallery-id":this.props.id,"data-page-desc":r,"data-query":t.id,"data-image-index":n+i,onMouseEnter:this.onMouseEnter.bind(this,t.id),onTouchStart:this.onComponentTouchStart.bind(this,t.id),style:e.merge({left:l.left,top:l.top,position:"absolute",overflow:"hidden",transform:"none",clip:"auto"},p)})}};return o.compRegistrar.register("wysiwyg.viewer.components.PaginatedGridGallery",v),v}.apply(t,o))||(e.exports=a)},1990:function(e,t,i){var o,a;o=[i(0),i(5),i(12),i(4),i(2),i(7),i(3),i(6),i(94),i(131)],void 0===(a=function(e,t,i,o,a,n,s,r,p,l){"use strict";var c=a.compMixins,d=p.utils.galleriesHelperFunctions,u=o.matrixScalingCalculations;function h(e,t){return e.dimensions?e.dimensions[t]:parseFloat(e.style[t])}function m(t,i){var o=i.props.selectedItemIndex||0;return{currentIndex:e.get(t,["currentIndex"],o)}}var y={displayName:"SliderGallery",statics:{behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},mixins:[c.skinBasedComp,c.skinInfo,r.mixins.animationsMixin,c.timeoutsMixin,c.compStateMixin(m),c.createChildComponentMixin],propTypes:e.assign({isExperimentOpen:s.Types.isExperimentOpen,id:s.Types.Component.id.isRequired,rootId:s.Types.Component.rootId.isRequired,compData:s.Types.Component.compData.isRequired,compProp:s.Types.Component.compData.isRequired,skin:s.Types.Component.skin.isRequired,style:s.Types.Component.style.isRequired,dimensions:s.Types.Component.dimensions,isMobileView:s.Types.isMobileView,isMobileDevice:s.Types.Device.isMobileDevice,isTabletDevice:s.Types.Device.isTabletDevice,windowTouchEventsAspect:s.Types.SiteAspects.windowTouchEvents.isRequired,getSliderGalleryMeasures:s.Types.__DangerousSantaTypes.getSliderGalleryMeasures,onImageSelected:t.func},s.santaTypesUtils.getSantaTypesByDefinition(l)),_currentOffset:null,_motion:!1,_firstChild:null,getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),e.assign(m(null,{props:this.props.compProp}),{$mobile:this.props.isMobileDevice||this.props.isTabletDevice?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView"})},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getSkinProperties:function(){this.gap=e.isNumber(this.props.compProp.margin)?this.props.compProp.margin:20,this.contentOverflow=!1;var t=n.skinsMap.get(this.props.skin,this.props.isExperimentOpen),i=t.exports&&t.exports.bottomGap||0,o=Math.abs(this.getFromExports("itemContainerAdditionalHeight")),a=this.populate(i,o),s=Math.abs(this.getFromExports("itemContainerTotalOffset")),r=h(this.props,"width")-s;return this.itemsHolderWidth>r&&(this.contentOverflow=!0,a=this.populate(i,o)),{imageItem:{},images:{children:a,"data-gallery-id":this.props.id},swipeLeftHitArea:{onMouseEnter:this.prev,onMouseLeave:this._stopMovement,onTouchStart:this.prev,"data-gallery-id":this.props.id},swipeRightHitArea:{onMouseEnter:this.next,onMouseLeave:this._stopMovement,onTouchStart:this.next,"data-gallery-id":this.props.id},"":{onSwipeLeft:this.next,onSwipeRight:this.prev,"data-height-diff":d.getSkinHeightDiff(this.props.skin),"data-width-diff":d.getSkinWidthDiff(this.props.skin),"data-bottom-gap":i,"data-additional-height":o}}},getChildrenData:function(){var e=this.props.compData.items;return this.props.compProp.loop&&this.contentOverflow?e.concat(e):e},populate:function(t,i){var o=this.props.compProp,a=this.props.compData;return this.itemsHolderWidth=0,this.getChildrenData().map(function(s,r){var p=s,l=this.getSkinExports().imageItem.skin,c=this.getParams(["topPadding","imgHeightDiff"],l),m=n.skinsMap.get(l,this.props.isExperimentOpen),y=d.getDisplayerHeightDiff(m,c,this.state.$displayDevice),g=d.getDisplayerWidthDiff(m,this.state.$displayDevice),f=Math.floor(h(this.props,"height")+i),v=this.props.compData.items.length,b=u.getSizeAfterScaling({itemHeight:f,itemWidth:Math.floor(f*(this.props.compProp.aspectRatio||1)),displayerData:p,imageMode:this.props.compProp.imageMode,heightDiff:y,widthDiff:g,bottomGap:t});return this.itemsHolderWidth=this.itemsHolderWidth+b.imageWrapperSize.imageWrapperWidth+this.gap,this.createChildComponent(p,"wysiwyg.viewer.components.Displayer","imageItem",{currentUrlPageId:this.props.currentUrlPageId,galleryDataId:a.id,imageWrapperSize:b.imageWrapperSize,style:{display:"inline-block",margin:"0 "+(e.isNumber(o.margin)?o.margin:20)+"px 0 0",height:b.displayerSize.height,width:b.displayerSize.width},isSelected:this.state.currentIndex===r,onClick:function(e,t,i){this.state.currentIndex!==e&&(this.props.onImageSelected&&(t.type="imageSelected",t.payload={itemIndex:e,imageData:this.props.compData.items[e]},this.props.onImageSelected(t,i)),this.setState({currentIndex:e}))}.bind(this,r),displayerDataQuery:s,galleryId:this.props.id,heightDiff:y,widthDiff:g,bottomGap:t,imageIndex:r%v,key:this.props.id+p.id+"_"+r,ref:"displayer"+r,id:this.props.id+"displayer"+r})},this)},prev:function(){this._move(!0)},next:function(){this._move(!1)},_move:function(e){var t=this.props.compProp.maxSpeed||.05;this.slide(e,t,this.props.compProp.loop)},_stopMovement:function(){this._sequenceId&&(this.easeStopSequence(this._sequenceId,1),this._sequenceId=null)},slide:function(e,t,a){if(this.contentOverflow){var n=this.props.getSliderGalleryMeasures(this.props.id),s=n.imagesWidth-(this.props.compProp.margin||0),r=n.itemsContainerWidth,p=i.findDOMNode(this.refs.images).offsetLeft,l=a?-s/2:r-s;this._stopMovement();var c=this.sequence(),d=Math.abs(l)/(60*t),u=d*(e?Math.abs(p/l):1-Math.abs(p/l));c.add("images","BasePosition",u,0,{from:{left:p},to:{left:e?0:l},ease:"Linear.easeNone"}),a&&c.add("images","BasePosition",d,0,{from:{left:e?l:0},to:{left:e?0:l},repeat:a?-1:0,immediateRender:!1,ease:"Linear.easeNone"}),c.onCompleteAll(function(){var e=this.props.compData.items[this.state.currentIndex];this.handleAction(o.constants.ACTION_TYPES.IMAGE_CHANGED,{item:e,imageIndex:this.state.currentIndex})}.bind(this)),this._sequenceId=c.execute({paused:!0}),this.easeStartSequence(this._sequenceId,1),"mobile"===this.state.$mobile&&(this.clearTimeoutNamed(this.props.id),this._nextStopTimeout=this.setTimeoutNamed(this.props.id,function(){this._stopMovement()}.bind(this),2e3))}},onWindowTouchStart:function(e){(e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id"))!==this.props.id&&this._stopMovement()}};return a.compRegistrar.register("wysiwyg.viewer.components.SliderGallery",y),y}.apply(t,o))||(e.exports=a)},1991:function(e,t,i){var o,a;o=[i(0),i(2),i(3),i(34)],void 0===(a=function(e,t,i,o){"use strict";var a={displayName:"TextInput",mixins:[o.baseTextInput,o.textScaleMixin,t.compMixins.inputFocusMixin],propTypes:{compProp:i.Types.Component.compProp.isRequired,isMobileView:i.Types.isMobileView},statics:{behaviors:e.assign({},o.baseTextInput.BASE_TEXT_BEHAVIORS,t.compMixins.inputFocusMixin.INPUT_FOCUS_BEHAVIORS)},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},getSkinProperties:function(){var t={"with-validation-indication":this.shouldShowValidityIndication()};t[this.props.compProp.textAlignment+"-direction"]=!0;var i=this.getBaseTextInputSkinProperties();i[""]={className:this.classSet(t),"data-disabled":!!this.props.compProp.isDisabled,"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState()};var o="padding"+e.capitalize(this.props.compProp.textAlignment);return i.input=e.merge({style:function(){var t=this.getFontSize();if(this.props.isMobileView){var i=e.max([13,Number(t.fontSize.replace("px",""))]);t.fontSize=i+"px"}return t}.call(this)},i.input,{"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState(),className:"has-custom-focus"}),i.input.style[o]=this.props.compProp.textPadding,i}};return t.compRegistrar.register("wysiwyg.viewer.components.inputs.TextInput",a),a}.apply(t,o))||(e.exports=a)},1992:function(e,t,i){var o,a;o=[i(0),i(5),i(3),i(4)],void 0===(a=function(e,t,i,o){"use strict";return{Links:i.createSantaType(t.object,function(t,a){var n=t.fetchSantaType(i.Types.Component.compData,t,a);if(0===e.get(n,["linkList"],[]).length)return null;var s=i.Types.Link.linkRenderInfo.fetch(t,a),r=t.fetchSantaType(i.Types.Component.rootNavigationInfo,t,a);return e.transform(n.linkList,function(e,t){e["#"+t.id]=o.linkRenderer.renderLink(t,s,r)},{})},!0)}}.apply(t,o))||(e.exports=a)},1993:function(e,t,i){var o,a;o=[i(0),i(3),i(34),i(2),i(4),i(6),i(1992)],void 0===(a=function(e,t,i,o,a,n,s){"use strict";var r={displayName:"WRichText",propTypes:{compData:t.Types.Component.compData.isRequired,scale:t.Types.Component.scale,compProp:t.Types.Component.compProp,links:s.Links,colorsMap:t.Types.Theme.colorsMap.isRequired,fontsMap:t.Types.Fonts.fontsMap.isRequired,isMobileView:t.Types.isMobileView,isMeshLayoutMechanism:n.santaTypesDefinitions.Layout.isMeshLayoutMechanism,isPreviewMode:t.Types.isPreviewMode},statics:{getCustomCompFonts:function(e){return a.fonts.collectFontsFromTextDataArray(e.text)}},mixins:[i.textCompMixin],allowIframes:!1,fontGetter:function(e){var t=e.split("_")[1];return this.props.fontsMap[t]},colorGetter:function(e){var t=e.split("_")[1];return this.props.colorsMap[t]||e},getMinHeight:function(){if(!this.props.rotationInDegrees&&!this.props.isMobileView){var t=0;return this.props.isMeshLayoutMechanism&&!this.isPacked()&&(t=this.props.style.height),e.toNumber(e.get(this.props.compProp,"minHeight",t))}return""},isPacked:function(){return!!this.props.compProp&&(this.props.compProp.packed||e.isUndefined(this.props.compProp.minHeight))},convertCompDataTextToHTML:function(t){if(this._componentHtml){this._componentHtml=i.textComponentsUtils.convertDataQueryLinksIntoHtmlAnchors(this._componentHtml,t.links);var o=e.get(t,["compProp","overrideColor"]);o=o&&this.colorGetter(o),this._componentHtml=i.textComponentsUtils.mobileTextTransformIfNeeded(this._componentHtml,{brightness:e.get(t,"compProp.brightness"),overrideColor:o,isMobileView:t.isMobileView,scale:t.scale,fontGetter:this.fontGetter,colorGetter:this.colorGetter}),t.noAutoLinkGeneration||this.props.isPreviewMode||(this._componentHtml=i.textComponentsUtils.createImpliedLinks({htmlContent:this._componentHtml,isMobileView:this.props.isMobileView}))}}};return o.compRegistrar.register("wysiwyg.viewer.components.WRichText",r),r}.apply(t,o))||(e.exports=a)},1994:function(e,t,i){var o,a;o=[i(0),i(2),i(1)],void 0===(a=function(e,t,i){"use strict";function o(t,o){var a=e.get(o,["data","crop","svgId"]);return a?e.compact([i.svg.createSvgFetchRequest(t.serviceTopology.mediaRootUrl,t,a)]):[]}return t.dataRequirementsChecker.registerCheckerForCompType("wysiwyg.viewer.components.WPhoto",o),{checkRequirements:o}}.apply(t,o))||(e.exports=a)},1995:function(e,t,i){var o,a;o=[i(5),i(3),i(4)],void 0===(a=function(e,t,i){"use strict";return{Link:t.createSantaType(e.object,function(e,o){var a=e.fetchSantaType(t.Types.Component.compData,e,o),n=e.fetchSantaType(t.Types.Component.compProp,e,o).onClickBehavior;return"zoomMode"===n?function(e,o,a){var n=t.Types.Link.linkRenderInfo.fetch(e,o),s=e.fetchSantaType(t.Types.Component.rootNavigationInfo,e,o);return i.linkRenderer.renderImageZoomLink(n,s,a,null,o.structure.propertyQuery,null)}(e,o,a):!a.link||"goToLink"!==n&&n?null:function(e,o,a){var n=t.Types.Link.linkRenderInfo.fetch(e,o),s=e.fetchSantaType(t.Types.Component.rootNavigationInfo,e,o);return i.linkRenderer.renderLink(a,n,s)}(e,o,a.link)},!0)}}.apply(t,o))||(e.exports=a)},1996:function(e,t,i){var o,a;o=[i(0),i(6),i(2),i(3),i(1995),i(4),i(27),i(1994)],void 0===(a=function(e,t,i,o,a,n,s){"use strict";var r=i.compMixins,p=1200,l={fitWidthStrict:s.fittingTypes.LEGACY_FIT_WIDTH,fitHeightStrict:s.fittingTypes.LEGACY_FIT_HEIGHT},c=t.utils.createChildComponentUtils;function d(i,o){var a=c.getChildSantaTypes(i,this.props);return o=e.assign(a,o),t.utils.createReactElement(i,o)}function u(i,o,a){var n=void 0;return this.state.isInZoom?(i.className=this.classSet({zoomedin:!0}),i.initialClickPosition=this.state.initialClickPosition,i.structure.componentType="core.components.ZoomedImage",n=d.call(this,t.components.ZoomedImage,i),o.onMouseLeave=function(e){var t=this;y.call(this),this.zoomTimer=setTimeout(function(){m.apply(t,[e])},p)}.bind(this),o.onMouseEnter=y.bind(this)):(i.className=this.classSet({zoomedout:!0}),n=d.call(this,t.components.Image,i),o.onMouseLeave=e.noop,o.onMouseEnter=e.noop),e.assign(a,o),n}function h(i,o,a,n){var s=function(t,i){var o=c.getChildStyleDataFromSkinPart("img",this.getSkinExports(),this.props.styleId),a=t.compData,n=e.assign({svgString:t.svgString},e.pick(a.crop||{},["flip","rotate"]));return{id:t.id+"img",ref:"img",skin:o.skin,styleId:o.styleId,containerWidth:i.width,containerHeight:i.height,displayMode:l[t.compProp.displayMode]||t.compProp.displayMode,filterEffect:t.compProp.filterEffect,imageData:a,maskData:n,addItemProp:t.addItemProp,structure:{componentType:"core.components.Image"}}}.call(this,this.props,i),r={onClick:m.bind(this)};return!a||function(e,t){return e.width<t.width||e.height<t.height}(o,i)?d.call(this,t.components.Image,s):u.call(this,s,r,n)}function m(e){var t=this,i=this.state.isInZoom;this.registerReLayout(),i?this.refs.img.zoomOut(function(){t.setState({isInZoom:!i})}):this.setState({isInZoom:!i,initialClickPosition:{clientX:e.clientX,clientY:e.clientY}})}function y(){clearTimeout(this.zoomTimer)}var g={displayName:"WPhoto",propTypes:e.assign({id:o.Types.Component.id,compData:o.Types.Component.compData.isRequired,compProp:o.Types.Component.compProp.isRequired,structure:o.Types.Component.structure,link:a.Link,svgString:o.Types.VectorImage.svgStringFromCropData},o.santaTypesUtils.getSantaTypesByClass(t.components.Image),o.santaTypesUtils.getSantaTypesByClass(t.components.ZoomedImage)),mixins:[r.skinBasedComp,r.skinInfo,t.mixins.animationsMixin,r.createChildComponentMixin],getInitialState:function(){return this.zoomTimer=null,{isInZoom:!1}},getSkinProperties:function(){var i=this.props.compProp.onClickBehavior,o=this.props.compProp.displayMode,a=e.pick(this.props.style,["width","height"]),r={width:this.props.compData.width,height:this.props.compData.height},p=function(e,t){var i={},o=parseInt(e.contentPaddingLeft.value||0,10)+parseInt(t.contentPaddingLeft||0,10),a=parseInt(e.contentPaddingRight.value||0,10)+parseInt(t.contentPaddingRight||0,10),n=parseInt(e.contentPaddingTop.value||0,10)+parseInt(t.contentPaddingTop||0,10),s=parseInt(e.contentPaddingBottom.value||0,10)+parseInt(t.contentPaddingBottom||0,10);return i.contentPaddingHorizontal=o+a,i.contentPaddingVertical=n+s,i}(this.getParams(["contentPaddingLeft","contentPaddingRight","contentPaddingBottom","contentPaddingTop"]),this.getSkinExports()),c=n.imageUtils.getContainerSize(s,function(e,t){var i=e.width-t.contentPaddingHorizontal,o=e.height-t.contentPaddingVertical;return{width:i>0?i:16,height:o>0?o:16}}(a,p),r,l[o]||o),d=function(e,t){return{width:e.width+t.contentPaddingHorizontal,height:e.height+t.contentPaddingVertical,exactHeight:(e.exactHeight||e.height)+t.contentPaddingVertical}}(c,p),u=function(t,i,o,a){var n={style:e.cloneDeep(t)};return n.style.width=i.width,n.style.height=i.height,n["data-exact-height"]=i.exactHeight,n["data-content-padding-horizontal"]=o.contentPaddingHorizontal,n["data-content-padding-vertical"]=o.contentPaddingVertical,n.title=a,n}(this.props.style,d,p,this.props.compData.title);return{"":u,img:h.call(this,c,r,"zoomAndPanMode"===i,u),link:function(i,o){var a={style:{}};return a.style.width=o.width,a.style.height=o.height,i?(a.style.cursor="pointer",e.assign(a,i)):a.parentConst=t.utils.createReactElement.bind(null,"div"),a}(this.props.link,c)}},getDefaultSkinName:function(){return"wysiwyg.viewer.skins.photo.DefaultPhoto"}},f=e.clone(g);return f.displayName="ClipArt",i.compRegistrar.register("wysiwyg.viewer.components.WPhoto",g).register("wysiwyg.viewer.components.ClipArt",f),g}.apply(t,o))||(e.exports=a)},1997:function(e,t,i){var o,a;o=[i(0)],void 0===(a=function(e){"use strict";var t={HeaderFadeOut:.7,HeaderHideToTop:.25},i=function(e){return Math.max(Math.min(e,1),0)},o=function(t){return function(t){return!e.isNaN(t)&&t>=0}(t)?t:0};return{getComponentMeasure:function(e,t){return{height:e.measureMap.height[t],width:e.measureMap.width[t],top:e.measureMap.top[t],left:e.measureMap.left[t]}},animateAfterScroll:function(e,t,i){var o="DOWN"===t.scroll.current.direction,a=t.scroll.accumulatedScroll,n=e.progress(),s=!o&&a>100&&n>0;o&&a>400&&n<1?e.play():s?e.reverse():e.pause()},scrubSequenceWithScroll:function(t,a,n){var s=t.progress(),r=function(e,t,a,n){var s=o(e.position.y),r=o(t.position.y),p=Math.abs(r-s)/n,l="DOWN"===e.direction?1:-1;return i(a+l*p*.5)}(a.scroll.current,a.scroll.previous,s,n.height);e.isFinite(r)&&r!==s&&t.progress(r)},createSequence:function(i,o,a){var n=i.targetId,s=e.get(i,["params","animations"],[]),r=o.sequence();return e.forEach(s,function(o){var s=e.defaultsDeep(o,function(e,i,o){return{targetId:e,duration:t[o]||0,delay:0,params:{compMeasures:i}}}(i.targetId,a,o.name)),p=s.name,l=s.duration,c=s.delay,d=s.params;r.add(n,p,l,c,d)}),r.execute({suppressReactRendering:!1,forgetSequenceOnComplete:!1,paused:!0})}}}.apply(t,o))||(e.exports=a)},1998:function(e,t,i){var o,a;o=[i(0),i(2),i(1997)],void 0===(a=function(e,t,i){"use strict";var o=t.behaviorsService.behaviorUniqueIdentifier,a={AnimateAfterScroll:i.animateAfterScroll,ScrubAnimation:i.scrubSequenceWithScroll},n=function(e){return s.behaviorToSequenceId[o(e)]};var s={behaviorToSequenceId:{},isEnabled:e.constant(!0),handle:function(t,r,p){var l=r.getSiteData();e.forEach(t,function(t){var c=r._site.getPageById(t.pageId),d=n(t),u=c.getSequence(d),h=i.getComponentMeasure(l,t.targetId);u?(a[t.name]||e.noop)(u,p,h):(d=i.createSequence(t,c,h),s.behaviorToSequenceId[o(t)]=d)})},cancel:function(e,t){t._site.getPageById(e.pageId).stopSequence(n(e),0),delete s.behaviorToSequenceId[o(e)]}};return s}.apply(t,o))||(e.exports=a)},1999:function(e,t,i){var o,a;o=[i(2),i(1998)],void 0===(a=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("scrub",t)}.apply(t,o))||(e.exports=a)},2:function(e,t){e.exports=i},2000:function(e,t,i){var o,a;o=[i(0),i(4)],void 0===(a=function(e,t){"use strict";var i=e.keyBy([t.constants.ACTION_TYPES.SYNC_VALIDATION_DATA,t.constants.ACTION_TYPES.SET_CUSTOM_VALIDITY,t.constants.ACTION_TYPES.UPDATE_VALIDITY_INDICATION]);return{handle:function(t,o,a){var n=o.getSiteAspect("behaviorsAspect");e.forEach(t,function(e){n.registerBehavior(e,a.callback)}),e.some(t,function(t){return!e.has(i,t.name)})&&o.forceUpdate()}}}.apply(t,o))||(e.exports=a)},2001:function(e,t,i){var o,a;o=[i(2),i(2e3)],void 0===(a=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("comp",t)}.apply(t,o))||(e.exports=a)},2002:function(e,t,i){var o,a;o=[i(0),i(2),i(1)],void 0===(a=function(e,t,i){"use strict";function o(t,o,a,n){var s=e.get(t,"styleItem.id")||e.get(t,"structure.styleId");s&&(n[s]={skinName:i.santaTypes.shortenStyleId(t.structure.skin),componentType:t.structure.componentType});var r=e.get(t.structure,["modes","overrides"]);e.forEach(r,function(e){var a=e.styleId;a&&o(a)&&(n[a]={skinName:i.santaTypes.shortenStyleId(t.structure.skin),componentType:t.structure.componentType})})}t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.svgshape.SvgShape",o),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.PopupCloseIconButton",o)}.apply(t,o))||(e.exports=a)},2003:function(e,t,i){var o,a,n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,a=!1,n=void 0;try{for(var s,r=e[Symbol.iterator]();!(o=(s=r.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){a=!0,n=e}finally{try{!o&&r.return&&r.return()}finally{if(a)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();o=[i(0),i(5),i(3),i(4),i(219)],void 0===(a=function(e,t,i,o,a){"use strict";var s=o.mediaConsts;function r(t){return e.get(t.compDesign,["background","mediaRef"],e.get(t.compData,["background","mediaRef"]))||{}}return{propTypes:e.defaults({animations:i.Types.animations.isRequired,id:i.Types.Component.id.isRequired,styleId:i.Types.Component.styleId.isRequired,compData:i.Types.Component.compData,compProp:i.Types.Component.compProp,compDesign:i.Types.Component.compDesign,compStaticBehaviors:i.Types.Component.compStaticBehaviors,compDynamicBehaviors:i.Types.Component.compDynamicBehaviors,bgStyle:t.object,onClick:t.func,renderParts:i.Types.Media.renderParts,playbackFormat:i.Types.Media.playbackFormat,playbackConfig:i.Types.Media.playbackConfig,playbackUrl:i.Types.Media.playbackUrl,mediaAspect:i.Types.SiteAspects.mediaAspect.isRequired,mediaQuality:i.Types.Media.mediaQuality,isPlayingAllowed:i.Types.RenderFlags.isPlayingAllowed.isRequired,canVideoPlayInline:i.Types.Media.canVideoPlayInline},i.santaTypesUtils.getSantaTypesByDefinition(a)),getInitialState:function(){return this.mediaAPI=null,this.volumeAnimation={value:null,animation:null},{}},componentDidMount:function(){this.props.mediaAspect.initFeatureDetections(),this.registerPlayer(this.props)},componentWillUnmount:function(){this.unregisterPlayer(this.props)},componentWillReceiveProps:function(e){this.handleVideoPropsChange(this.props,e)},registerPlayer:function(t){var i=r(t);if(t.canVideoPlayInline&&"WixVideo"===e.get(i,"type")&&e.includes(t.renderParts.media.video,"video")){var o={playerType:"mediaPlayer",mediaData:i,services:{viewport:{callback:this.onViewportChange,eventTypes:["in","out"]},visibility:{callback:this.onVisibilityChange},fileAvailability:{callback:this.onFileAvailability,videoParts:[{name:"video",quality:t.mediaQuality},{name:"storyboard",quality:"storyboard"}]}}};t.mediaAspect.registerPlayer(t.id,o)}},unregisterPlayer:function(e){e.mediaAspect.unregisterPlayer(e.id)},updatePlayerState:function(e,t){e.mediaAspect.updatePlayerState(e.id,t)},updateQualityState:function(e,t,i){e.mediaAspect.updateQualityState(t,i)},getCurrentState:function(){return this.props.mediaAspect.getData(this.props.id)},handleAutoplay:function(e){var t=e.compProp.autoplay;this.props.mediaAspect.shouldPlay(e.id)&&e.canVideoPlayInline&&t&&e.isPlayingAllowed&&this.playMedia()},handleVideoPropsChange:function(t,i){var o=r(i),a=r(t);o.videoId===a.videoId&&t.canVideoPlayInline===i.canVideoPlayInline&&e.isEqual(t.renderParts.media.video,i.renderParts.media.video)||(this.unregisterPlayer(t),this.registerPlayer(i)),t.mediaAspect.updateControlsData(i.id,i.compDesign,i.compProp)},onViewportChange:function(e){if(this.props.canVideoPlayInline&&this.props.isPlayingAllowed&&!e.isFixed){var t=this.getCurrentState();e.in?t.previousPlaybackState===s.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:"",playbackPausedByService:!1}),this.playMedia()):t.playbackState!==s.playbackTypes.IDLE&&t.playbackState!==s.playbackTypes.READY||this.handleAutoplay(this.props):e.out&&(t.playbackState===s.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:s.playbackTypes.PLAYING,playbackPausedByService:!0}),this.pauseMedia()):t.previousPlaybackState||this.updatePlayerState(this.props,{previousPlaybackState:t.playbackState}))}},onVisibilityChange:function(e){if(this.props.canVideoPlayInline&&this.props.isPlayingAllowed){var t=this.getCurrentState();e.hidden?e.hidden&&(t.playbackState===s.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{playbackPausedByService:!0,previousPlaybackState:s.playbackTypes.PLAYING}),this.pauseMedia()):t.previousPlaybackState||this.updatePlayerState(this.props,{previousPlaybackState:t.playbackState})):t.previousPlaybackState===s.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{playbackPausedByService:!1,previousPlaybackState:""}),this.playMedia()):t.playbackState!==s.playbackTypes.IDLE&&t.playbackState!==s.playbackTypes.READY||this.handleAutoplay(this.props)}},onFileAvailability:function(t){switch(t.type){case"video":this.updateQualityState(this.props,t.videoId,{readyQualities:t.readyQualities}),this.updatePlayerState(this.props,{mediaReadyState:t.availabilityState});break;case"storyboard":this.updateQualityState(this.props,t.videoId,{storyboardQuality:t.readyQualities,storyboardReadyState:e.isEmpty(t.readyQualities)?"":s.availabilityReadyStates.IDLE})}},onMediaChange:function(e){if(this.props.canVideoPlayInline){var t=this.mediaStateChangeLogic(e,this.getCurrentState());e.type===s.eventTypes.LOAD&&t.playbackState===s.playbackTypes.READY&&this.handleAutoplay(this.props),this.updatePlayerState(this.props,t)}},mediaStateChangeLogic:function(t,i){var o={},a=i.playbackState===s.playbackTypes.PLAYING,n=(i.playbackState===s.playbackTypes.SEEK_PLAYING||i.playbackState===s.playbackTypes.SEEK_PAUSED)&&t.playbackState!==s.playbackTypes.PLAYING,p=i.currentTime>=i.duration,l=i.playbackState===s.playbackTypes.SEEK_PLAYING&&!p||i.playbackState===s.playbackTypes.SEEK_PLAYING&&p&&this.props.compProp.loop||i.playbackState===s.playbackTypes.PLAYING;switch(t.type){case s.eventTypes.MOUNT:o={playbackState:t.playbackState,volume:1,fullscreen:!1,muted:!1,currentTime:0,progress:0};break;case s.eventTypes.LOAD:o=e.omit(t,["type","originalEventType"]);break;case s.eventTypes.PLAYSTATE:switch(t.playbackState){case s.playbackTypes.SEEKING:if(!n)o={playbackState:(a||p)&&i.playbackState!==s.playbackTypes.STOPPING?s.playbackTypes.SEEK_PLAYING:s.playbackTypes.SEEK_PAUSED};break;case s.playbackTypes.SEEKING_ENDED:o=!l&&p?{playbackState:s.playbackTypes.PLAY_ENDED}:{playbackState:l?s.playbackTypes.PLAYING:s.playbackTypes.PAUSED},l?this.playMedia():this.pauseMedia();break;case s.playbackTypes.PLAY_ENDED:this.props.compProp.loop&&i.playbackState===s.playbackTypes.PLAYING?this.playMedia(0):p&&(o={playbackState:s.playbackTypes.PLAY_ENDED});break;case s.playbackTypes.PAUSED:a&&p?o={playbackState:s.playbackTypes.PLAYING}:i.playbackPausedByService?o={playbackState:s.playbackTypes.PAUSED_BY_SERVICE}:n||(o={playbackState:t.playbackState});break;default:n||(o={playbackState:t.playbackState})}break;case s.eventTypes.ERROR:t.error===s.errorTypes.NO_HLS_VIDEO?this.updateQualityState(this.props,r(this.props).videoId,{error:"",fallback:!0}):t.error===s.errorTypes.NO_VIDEO_FOUND&&this.updateQualityState(this.props,r(this.props).videoId,{error:t.error});break;case s.eventTypes.TIME_UPDATE:o={currentTime:t.currentTime};break;case s.eventTypes.PROGRESS:o={progress:t.progress};break;case s.eventTypes.VOLUME:if(e.isNumber(this.volumeAnimation.value)||i.volume<0)break;if(i.playbackState===s.playbackTypes.PLAY_PREVIEW)break;o={volume:t.volume,muted:t.muted};break;case s.eventTypes.RATE:}return o},mediaCommandsLogic:function(t){var i=this;if(this.props.canVideoPlayInline&&this.mediaAPI){for(var o=this.getCurrentState(),a=o.playbackState===s.playbackTypes.PLAYING,r=e.includes([s.playbackTypes.SEEK_PLAYING,s.playbackTypes.SEEK_PAUSED,s.playbackTypes.SEEKING],o.playbackState),p=arguments.length,l=Array(p>1?p-1:0),c=1;c<p;c++)l[c-1]=arguments[c];switch(t){case"togglePlay":a?this.pauseMedia():this.playMedia();break;case"play":var d=n(l,1)[0],u=void 0===d?-1:d;if(o.playbackState===s.playbackTypes.PLAY_ENDED){if(!1===this.props.compProp.playerInteraction.allowReplay)break;u<0&&(u=0)}u>=0&&this.seekMedia(u),this.mediaAPI("play");break;case"preview":this.updatePlayerState(this.props,{playbackState:s.playbackTypes.PLAY_PREVIEW}),this.mediaAPI("mute"),this.mediaAPI("play");break;case"pause":var h=n(l,1)[0],m=void 0===h?-1:h;this.mediaAPI("pause"),m>=0&&this.seekMedia(m);break;case"seekStart":if(r)break;this.updatePlayerState(this.props,{playbackState:a?s.playbackTypes.SEEK_PLAYING:s.playbackTypes.SEEK_PAUSED}),a&&this.pauseMedia();break;case"seekEnd":var y=n(l,1)[0];this.seekMedia(y);break;case"stop":this.updatePlayerState(this.props,{playbackState:s.playbackTypes.STOPPING}),this.mediaAPI("stop");break;case"mute":case"unMute":this.mediaAPI(t,l),this.updatePlayerState(this.props,{volume:Math.abs(o.volume)});break;case"volumeFadeOut":var g=o.volume;if(o.muted)break;var f=n(l,1)[0];this.volumeAnimation.animation&&this.props.animations.kill(this.volumeAnimation.animation),this.volumeAnimation.value=this.volumeAnimation.value||g,this.volumeAnimation.animation=this.props.animations.animate("BaseObjectProps",this.volumeAnimation,f,0,{value:0,ease:"Sine.easeOut",callbacks:{onStart:function(){i.updatePlayerState(i.props,{volume:-g})},onUpdate:function(){i.mediaAPI("setVolume",[i.volumeAnimation.value])},onComplete:function(){i.volumeAnimation={value:null,animation:null}}}});break;case"volumeFadeIn":var v=o.volume;if(o.muted)break;var b=n(l,1)[0];this.volumeAnimation.animation&&this.props.animations.kill(this.volumeAnimation.animation),this.volumeAnimation.value=this.volumeAnimation.value||0,this.volumeAnimation.animation=this.props.animations.animate("BaseObjectProps",this.volumeAnimation,b,0,{value:Math.abs(v),ease:"Sine.easeIn",callbacks:{onStart:function(){i.updatePlayerState(i.props,{volume:Math.abs(v)})},onUpdate:function(){i.mediaAPI("setVolume",[i.volumeAnimation.value])},onComplete:function(){i.volumeAnimation={value:null,animation:null}}}});break;default:this.mediaAPI(t,l)}}},setMediaAPI:function(e){this.mediaAPI=e},togglePlayMedia:function(){this.mediaCommandsLogic("togglePlay")},playMedia:function(e){this.mediaCommandsLogic("play",e)},previewMedia:function(){this.mediaCommandsLogic("preview")},pauseMedia:function(e){this.mediaCommandsLogic("pause",e)},stopMedia:function(){this.mediaCommandsLogic("stop")},setMediaVolume:function(e){this.mediaCommandsLogic("setVolume",e)},muteMedia:function(){this.mediaCommandsLogic("mute")},unMuteMedia:function(){this.mediaCommandsLogic("unMute")},mediaVolumeFadeOut:function(e){this.mediaCommandsLogic("volumeFadeOut",e)},mediaVolumeFadeIn:function(e){this.mediaCommandsLogic("volumeFadeIn",e)},seekMedia:function(e){this.mediaCommandsLogic("seek",e)},startSeekMedia:function(e){this.mediaCommandsLogic("seekStart",e)},endSeekMedia:function(e){this.mediaCommandsLogic("seekEnd",e)},createFillLayers:function(t){var i=e.assign({},this.props,t),o={skin:"skins.viewer.balata.balataBaseSkin",styleId:i.styleId+s.balataConsts.BALATA},a={ref:s.balataConsts.BALATA,id:i.id+s.balataConsts.BALATA,parentId:i.id,style:i.bgStyle||s.defaultStyle,compBehaviors:i.compStaticBehaviors,compProp:i.compProp,compDesign:i.compDesign,onClick:i.onClick,mediaQuality:i.mediaQuality,notifyMediaState:this.onMediaChange,setMediaAPI:this.setMediaAPI,enableVideo:!0,isPlayingAllowed:this.props.isPlayingAllowed,renderParts:i.renderParts,playbackFormat:i.playbackFormat,playbackConfig:i.playbackConfig,playbackUrl:i.playbackUrl};return this.createChildComponent(i.compData,"wysiwyg.viewer.components.background.Balata",o,a)}}}.apply(t,o))||(e.exports=a)},2004:function(e,t,i){var o,a;o=[i(0),i(5),i(3),i(4),i(219)],void 0===(a=function(e,t,i,o,a){"use strict";var n=o.mediaConsts;function s(t){return e.get(t.compDesign,["background","mediaRef"],e.get(t.compData,["background","mediaRef"]))||{}}function r(t,i){var o=e.pick(t,n.playback.SUPPORTED_MEDIA_ATTRIBUTES),a=e.pick(i,n.playback.SUPPORTED_MEDIA_ATTRIBUTES.concat(n.supportedParentProps));return e.assign(o,a)}return{propTypes:e.defaults({id:i.Types.Component.id.isRequired,styleId:i.Types.Component.styleId.isRequired,compProp:i.Types.Component.compProp,compData:i.Types.Component.compData,compDesign:i.Types.Component.compDesign,compStaticBehaviors:i.Types.Component.compStaticBehaviors,compDynamicBehaviors:i.Types.Component.compDynamicBehaviors,bgStyle:t.object,onClick:t.func,mediaAspect:i.Types.SiteAspects.mediaAspect.isRequired,mediaQuality:i.Types.Media.mediaQuality,renderParts:i.Types.Media.renderParts,playbackFormat:i.Types.Media.playbackFormat,playbackConfig:i.Types.Media.playbackConfig,playbackUrl:i.Types.Media.playbackUrl,isMobileView:i.Types.isMobileView.isRequired,isPlayingAllowed:i.Types.RenderFlags.isPlayingAllowed.isRequired,autoplayVideoBackground:i.Types.Media.autoplayVideoBackground},i.santaTypesUtils.getSantaTypesByDefinition(a)),getInitialState:function(){return this.registerPlayer(this.props),this.mediaAPI=null,{}},componentWillReceiveProps:function(e){this.handleVideoDataChange(this.props,e)},handleAutoplay:function(e){var t=s(e).autoplay;this.props.mediaAspect.shouldPlay(e.id)&&t&&e.isPlayingAllowed&&this.playMedia()},handleVideoDataChange:function(t,i){var o=s(i),a=s(t);o.videoId&&o.videoId!==a.videoId||e.includes(i.renderParts.media.video,"video")&&!e.includes(t.renderParts.media.video,"video")?(this.unregisterPlayer(t),this.registerPlayer(i)):o.autoplay!==a.autoplay&&t.isPlayingAllowed&&(o.autoplay?this.playMedia():this.pauseMedia())},registerPlayer:function(t){var i=s(t);if("WixVideo"===e.get(i,"type")&&e.includes(t.renderParts.media.video,"video")){var o={playerType:"mediaContainer",mediaData:i,services:{viewport:{callback:this.onViewportChange,eventTypes:["in","out"]},visibility:{callback:this.onVisibilityChange},fileAvailability:{callback:this.onFileAvailability,videoParts:[{name:"video",quality:t.mediaQuality}]}}};t.mediaAspect.registerPlayer(t.id,o)}},unregisterPlayer:function(e){e.mediaAspect.unregisterPlayer(e.id)},updatePlayerState:function(e,t){e.mediaAspect.updatePlayerState(e.id,t)},updateQualityState:function(e,t,i){e.mediaAspect.updateQualityState(t,i)},onMediaChange:function(e){var t=this.props.mediaAspect.getData(this.props.id)||{},i=this.mediaStateChangeLogic(e,t);e.type===n.eventTypes.LOAD&&i.playbackState===n.playbackTypes.READY&&this.handleAutoplay(this.props),this.updatePlayerState(this.props,i)},mediaStateChangeLogic:function(t,i){var o={},a=r(s(this.props),this.props.compProp),p=e.includes([n.playbackTypes.SEEKING_ENDED,n.playbackTypes.SEEKING,n.playbackTypes.SEEK_PLAYING],t.playbackState),l=t.playbackState===n.playbackTypes.PAUSED&&a.loop&&i.currentTime>=i.duration;switch(t.type){case n.eventTypes.MOUNT:o={playbackState:t.playbackState,volume:1,fullscreen:!1,muted:!0,currentTime:0,progress:0};break;case n.eventTypes.LOAD:o=e.omit(t,["type","originalEventType"]);break;case n.eventTypes.PLAYSTATE:switch(t.playbackState){case n.playbackTypes.PLAY_ENDED:a.loop?this.playMedia(0):(this.pauseMedia(),o={playbackState:n.playbackTypes.PLAY_ENDED});break;default:o=p||l?{playbackState:i.playbackState}:{playbackState:t.playbackState}}break;case n.eventTypes.ERROR:t.error===n.errorTypes.NO_HLS_VIDEO?this.updateQualityState(this.props,s(this.props).videoId,{error:"",fallback:!0}):t.error===n.errorTypes.NO_VIDEO_FOUND&&this.updateQualityState(this.props,s(this.props).videoId,{error:t.error});break;case n.eventTypes.TIME_UPDATE:o={currentTime:t.currentTime};break;case n.eventTypes.PROGRESS:o={progress:t.progress};break;case n.eventTypes.VOLUME:o={volume:t.volume,muted:t.muted};break;case n.eventTypes.RATE:}return o},onViewportChange:function(e){if(this.props.isPlayingAllowed&&!e.isFixed){var t=this.props.mediaAspect.getData(this.props.id);e.in?t.previousPlaybackState===n.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:""}),this.playMedia()):t.playbackState!==n.playbackTypes.IDLE&&t.playbackState!==n.playbackTypes.READY||this.handleAutoplay(this.props):e.out&&(t.playbackState===n.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:n.playbackTypes.PLAYING}),this.pauseMedia()):t.previousPlaybackState||this.updatePlayerState(this.props,{previousPlaybackState:t.playbackState}))}},onVisibilityChange:function(e){if(this.props.isPlayingAllowed){var t=this.props.mediaAspect.getData(this.props.id);e.hidden?e.hidden&&(t.playbackState===n.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:n.playbackTypes.PLAYING}),this.pauseMedia()):t.previousPlaybackState||this.updatePlayerState(this.props,{previousPlaybackState:t.playbackState})):t.previousPlaybackState===n.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{previousPlaybackState:""}),this.playMedia()):t.playbackState!==n.playbackTypes.IDLE&&t.playbackState!==n.playbackTypes.READY||this.handleAutoplay(this.props)}},onFileAvailability:function(e){this.updateQualityState(this.props,e.videoId,{readyQualities:e.readyQualities}),this.updatePlayerState(this.props,{mediaReadyState:e.availabilityState})},setMediaAPI:function(e){this.mediaAPI=e},mediaCommandsLogic:function(t){var i=e.tail(arguments),o=e.isEmpty(i)?void 0:i;this.mediaAPI&&this.mediaAPI(t,o)},playPreview:function(){this.mediaCommandsLogic("play")},playMedia:function(){this.mediaCommandsLogic("play")},pauseMedia:function(){this.mediaCommandsLogic("pause")},stopMedia:function(){this.mediaCommandsLogic("stop")},createFillLayers:function(t){var i=e.assign({},this.props,t),o={skin:"skins.viewer.balata.balataBaseSkin",styleId:i.styleId+n.balataConsts.BALATA},a=i.isMobileView?"mobile":"desktop",p={ref:n.balataConsts.BALATA,id:i.id+n.balataConsts.BALATA,key:(i.isPlayingAllowed?"playback":"no-playback")+a,parentId:i.id,style:i.bgStyle||n.defaultStyle,compBehaviors:i.compStaticBehaviors,compProp:r(s(this.props),this.props.compProp),compDesign:i.compDesign,onClick:i.onClick,mediaQuality:i.mediaQuality,notifyMediaState:this.onMediaChange,setMediaAPI:this.setMediaAPI,isPlayingAllowed:i.isPlayingAllowed,enableVideo:this.props.autoplayVideoBackground,enableBackgroundPadding:i.isMobileView,renderParts:i.renderParts,playbackFormat:i.playbackFormat,playbackConfig:i.playbackConfig,playbackUrl:i.playbackUrl};return this.createChildComponent(i.compData,"wysiwyg.viewer.components.background.Balata",o,p)}}}.apply(t,o))||(e.exports=a)},2005:function(e,t,i){var o,a;o=[i(11)],void 0===(a=function(e){"use strict";function t(t,i,o){var a=window.innerWidth,n=window.innerHeight;return{top:function(t,i,o,a){var n=e(window.document.body).scrollTop(),s=void 0;return t-n<0?((s=i.top+a.height)>o+n+a.height&&(s=i.top<0?i.top:n),s>0?s:0):t}(t.top,i,n,o),left:function(e,t,i,o){return t>o?"auto":e<0?i.left:e}(t.left,t.right,i),right:function(e,t,i){return e>i?t.left+t.width:e}(t.right,i,a)}}return{getPosition:function(i,o){i=e(i);var a={width:(o=e(o)).width(),height:o.height()},n=function(e){return e.offset()}(i),s=function(e,t){return{top:e.top-t.height,left:e.left-t.width/2,right:"auto"}}(n,a);return s=function(e,t){var i=0,o=0,a=void 0,n=t.offsetParent();return n&&(i=(a=n.offset()).top,o=a.left),{top:e.top-i,left:e.left-o,right:"auto"===e.right?e.right:e.right+o}}(s=t(s,n,a),o)}}}.apply(t,o))||(e.exports=a)},2006:function(e,t,i){var o,a;o=[i(0),i(1),i(2),i(3),i(2005),i(12)],void 0===(a=function(e,t,i,o,a,n){"use strict";var s=i.compMixins,r=t.style.assignStyle,p=3e3;function l(){this.setTimeoutNamed("closeTipByTimeout",function(){d.call(this)}.bind(this),p)}function c(e,t){(function(e){this.setState({$hidden:"",isShown:!0,caller:e}),l.call(this)}).call(this,n.findDOMNode(t.source))}function d(){this.clearTimeoutNamed("openTip"),this.setState({$hidden:"hidden",runTimer:!0})}var u={displayName:"InfoTip",mixins:[s.skinBasedComp,s.timeoutsMixin],propTypes:{compData:o.Types.Component.compData.isRequired},onMouseEnter:function(){this._isMouseInside=!0},onMouseLeave:function(){this._isMouseInside=!1,d.call(this)},showToolTip:function(t,i){(function(t){return t&&e.isEmpty(t.description)})(i.source.props.compData)||(this.clearTimeoutNamed("hideTipByClose"),this.setTimeoutNamed("openTip",function(){c.call(this,t,i)}.bind(this),500))},closeToolTip:function(){this.setTimeoutNamed("hideTipByClose",function(){this._isMouseInside||d.call(this)}.bind(this),150)},getSkinProperties:function(){return{content:{children:[this.props.compData.content]}}},componentDidUpdate:function(){(function(){var t=void 0,i=void 0;this.state.isShown&&(t=n.findDOMNode(this),i=a.getPosition(this.state.caller,t),r(t,e.pick(i,["top","left","right"])))}).call(this)},getInitialState:function(){return{$hidden:"hidden",isMouseInside:!1}}};return i.compRegistrar.register("wysiwyg.common.components.InfoTip",u),u}.apply(t,o))||(e.exports=a)},2007:function(e,t,i){var o,a;o=[i(0),i(4),i(1),i(2),i(3),i(603),i(12),i(11),i(602)],void 0===(a=function(e,t,i,o,a,n,s,r,p){"use strict";var l=o.compMixins,c=["da","de","en","es","fr","hi","it","ja","ko","nl","no","pl","pt","ru","sv","tr"];function d(e){return!isNaN(parseFloat(e))&&isFinite(e)}function u(t,o,a,n,s,r,p,l,c){return e.map(o,function(d,u){var h=d.link,m=function(t,o,a,n,s){var r=e.some(a,["link.pageId.id",o]),p=void 0,l={AnchorLink:function(t){return(e.has(t.anchorDataId,"id")?t.anchorDataId.id:t.anchorDataId)===p},PageLink:function(e){if(!p){if(e.pageId.isPopup)return e.pageId.id===o;if(!r)return e.pageId.id===t}return!1}};return n&&(p=i.menuUtils.getActiveAnchorInPage(s,a,t)),function(e){var t=e&&l[e.type];return!!t&&t(e)}}(r,p,o,c,t);return{isContainer:Boolean(a),isSelected:m(h),positionInList:function(e,t,i,o,a,n){return n===e.length-1?1===e.length?"dropLonely":t?"bottom":i||"right"===o?a?"left":"right":"center":0===n?t?"top":i||"left"===o?a?"right":"left":"center":t?"dropCenter":"center"}(o,a,n,s,l,u)}})}var h={displayName:"DropDownMenu",propTypes:e.assign({isMobileView:a.Types.isMobileView,isMobileDevice:a.Types.Device.isMobileDevice,isTabletDevice:a.Types.Device.isTabletDevice,anchorChangeEvent:a.Types.SiteAspects.anchorChangeEvent,currentUrlPageId:a.Types.Component.currentUrlPageId,currentPopupId:a.Types.currentPopupId,highlightAnchorsInMenu:a.Types.BrowserFlags.highlightAnchorsInMenu.isRequired,menuItems:a.Types.Menu.menuItems,id:a.Types.Component.id,refInParent:a.Types.Component.refInParent,skin:a.Types.Component.skin,compProp:a.Types.Component.compProp,compData:a.Types.Component.compData},a.santaTypesUtils.getSantaTypesByDefinition(n)),mixins:[l.skinBasedComp,l.timeoutsMixin,l.skinInfo,l.createChildComponentMixin],getInitialState:function(){return this.shouldChildrenUpdate=!1,{hover:null,hoverListPosition:null,activeAnchor:null,$dropAlign:this.props.compProp.alignButtons,$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice?"mobile":"notMobile"}},componentDidMount:function(){this.props.highlightAnchorsInMenu&&this.props.anchorChangeEvent.registerToAnchorChange(this)},componentWillUnmount:function(){this.props.highlightAnchorsInMenu&&this.props.anchorChangeEvent.unregisterToAnchorChange(this)},convertItemsToChildren:function(t,i,o,a){(i=i||{}).style=i.style||{};var n=u(this.state.activeAnchor,t,a,this.props.compProp.stretchButtonsToMenuWidth,this.props.compProp.alignButtons,this.props.currentUrlPageId,this.props.currentPopupId,this.props.compProp.rtl,this.props.highlightAnchorsInMenu);return e.map(t,function(t,o){var s=(a?"moreContainer":"")+o;return this.createChildComponent(t,"core.components.MenuButton","repeaterButton",e.merge({isContainer:n[o].isContainer,isSelected:n[o].isSelected,positionInList:n[o].positionInList,id:this.props.id+s,ref:s,key:t.id,refInParent:s,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,isDropDownButton:a,onMouseClick:this.onMouseClick,"aria-haspopup":t.items.length>0,tagName:"li",direction:this.props.compProp.rtl?"rtl":"ltr",parentId:t.parent,dataId:t.id},i))}.bind(this))},onMouseClick:function(e,t,i){if(i)this.mouseLeaveHandler();else{var o=("__more__"!==t?this.props.menuItems[t].items:[]).length>0||"__more__"===t,a=this.state.hover;!this.dropDownOpen&&o?(this.mouseEnterHandler(t),e.preventDefault(),e.stopPropagation()):this.dropDownOpen&&!this.isDropdownOwner(t,a)&&o?(this.mouseLeaveHandler(),e.preventDefault(),e.stopPropagation(),this.mouseEnterHandler(t)):this.dropDownOpen&&this.mouseLeaveHandler()}},onAnchorChange:function(e){e!==this.state.activeAnchor&&this.setState({activeAnchor:e})},isDropdownOwner:function(e,t){return e===t},createMoreButton:function(e){var t="__more__",i=e?"left":"right",o=this.props.compProp.alignButtons;return this.props.compProp.stretchButtonsToMenuWidth||"right"===o||(i="center"),this.createChildComponent({id:t,label:this.props.compProp.moreButtonLabel},"core.components.MenuButton","repeaterButton",{isSelected:!1,positionInList:i,id:this.props.id+t,ref:t,key:t,refInParent:t,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,onFocus:this.mouseEnterHandler,onBlur:this.mouseLeaveHandler,"aria-haspopup":!0,tagName:"li",onKeyDown:this.subMenuKeyDownHandler,onMouseClick:this.onMouseClick,isDropDownButton:!1,display:"inline-block"})},mouseEnterHandler:function(t,o){this.hovering=!0,this.lastHovered=this.getCurrentTime();var a=t.replace(this.props.id,"");-1!==e.keys(this.props.menuItems).concat("__more__").indexOf(a)&&(d(a)||i.stringUtils.startsWith(t,"__"))&&t!==this.state.hover&&(this.state.hover&&this.refs[this.state.hover].setIdleState(),this.registerReLayout(),this.setState({hover:t,hoverListPosition:o}))},getCurrentTime:function(){return Date.now()},mouseLeaveHandler:function(){this.hovering=!1,this.lastHovered=this.getCurrentTime(),!this.dropDownOpen&&this.state.hover&&this.refs[this.state.hover].setIdleState(),this.setTimeout(function(){var e=this.getCurrentTime()-this.lastHovered;!this.hovering&&this.state.hover&&e>=1e3&&(this.refs[this.state.hover].setIdleState(),this.dropDownOpen=!1,this.setState({hover:null,hoverListPosition:null}))}.bind(this),1e3)},getParamsFromSkins:function(){return{menuBorderY:this.getSumParamValue("menuTotalBordersY",this.props.skin),menuBtnBorder:this.getSumParamValue("menuButtonBorders",this.getSkinExports().repeaterButton.skin),ribbonEls:this.getParamFromDefaultSkin("ribbonEls").value?parseInt(this.getParamFromDefaultSkin("ribbonEls").value,10):0,labelPad:this.getFromExports("labelPad"),ribbonExtra:this.getFromExports("ribbonExtra")?Math.abs(parseInt(this.getFromExports("ribbonExtra"),10)):0}},shiftFocusToSubMenu:function(t){var o=this.refs["moreContainer"+t],a=s.findDOMNode(o),n=i.accessibility.getTabbaleElements(a,!0);r(e.head(n)).focus(),this.currentFocusedSubMenuIndex=t},getFirstIndexOfSubMenu:function(){for(var e=void 0,t=0;t<this.subMenuItems.length;t++)if(e=s.findDOMNode(this.refs["moreContainer"+t]),"none"!==window.getComputedStyle(e).display)return t;return 0},mainMenuKeyDownHandler:function(e){if(this.dropDownOpen){var t=void 0;"ArrowDown"===e.key&&(e.stopPropagation(),e.preventDefault(),t=this.getFirstIndexOfSubMenu(),this.shiftFocusToSubMenu(t)),"ArrowUp"===e.key&&(e.stopPropagation(),e.preventDefault(),t=this.subMenuItems.length,this.shiftFocusToSubMenu(t-1))}},subMenuKeyDownHandler:function(t){var o=void 0,a=void 0;("ArrowDown"===t.key||!t.shiftKey&&"Tab"===t.key)&&(t.stopPropagation(),t.preventDefault(),(o=this.currentFocusedSubMenuIndex+1)===this.subMenuItems.length&&(o=this.getFirstIndexOfSubMenu()),this.shiftFocusToSubMenu(o)),("ArrowUp"===t.key||t.shiftKey&&"Tab"===t.key)&&(t.stopPropagation(),t.preventDefault(),((o=this.currentFocusedSubMenuIndex-1)<0||o<this.getFirstIndexOfSubMenu())&&(o=this.subMenuItems.length-1),this.shiftFocusToSubMenu(o)),"Escape"===t.key&&(t.stopPropagation(),t.preventDefault(),a="__more__"===this.state.hover?i.accessibility.getTabbaleElements(s.findDOMNode(this.refs[this.state.hover])):i.accessibility.getTabbaleElements(this.refs.itemsContainer.children[this.state.hover]),e.head(a).focus(),this.setState({hover:null}))},getLanguage:function(){var t=function(e,t,o){return"userLang"===e?i.wixUserApi.getLanguage(t,o):e}(this.props.compProp.dataLang,this.props.cookie,this.props.currentUrl);return e.includes(c,t)?t:"en"},getAriaLabel:function(){var e=this.getLanguage();return t.translationsLoader.getTranslation("blogTranslations",e,"mainMenuAriaLabel","Site navigation")},getSkinProperties:function(){var t=this.getParamsFromSkins(),i=this.convertItemsToChildren(this.props.menuItems,{display:"inherit"},null,null),o=[],a="hidden";return i.push(this.createMoreButton(this.props.compProp.rtl)),(d(this.state.hover)||"__more__"===this.state.hover)&&(o=this.convertItemsToChildren(d(this.state.hover)?this.props.menuItems[this.state.hover].items:function(t){return e.flatMap(t,function(t){var i=[];return t.items&&(i=e.map(t.items,function(i){return e.assign(i,{parent:t.id})})),[t].concat(i)})}(this.props.menuItems),{style:{width:"100%"},display:"block",prefix:"_",subMenu:!0},!0,!0)).length>0&&(a="inherit",this.dropDownOpen=!0,this.subMenuItems=o),{"":{id:this.props.id,key:this.props.refInParent,style:{overflowX:"hidden"},"data-menuborder-y":t.menuBorderY,"data-menubtn-border":t.menuBtnBorder,"data-ribbon-els":t.ribbonEls,"data-label-pad":t.labelPad,"data-ribbon-extra":t.ribbonExtra,"data-drophposition":this.state.hover?this.state.hoverListPosition:"","data-dropalign":this.props.compProp.alignButtons,dir:this.props.compProp.rtl?"rtl":"ltr",tagName:"nav"},itemsContainer:{children:i,style:{textAlign:this.props.compProp.alignButtons},onKeyDown:this.mainMenuKeyDownHandler,"aria-label":this.getAriaLabel(),role:"navigation"},moreContainer:{onKeyDown:this.subMenuKeyDownHandler,children:o,"data-hover":this.state.hover,style:{visibility:a},id:this.props.id+"moreContainer"},dropWrapper:{style:{visibility:a},"data-drophposition":this.state.hover?this.state.hoverListPosition:"","data-dropalign":this.props.compProp.alignButtons}}}};return o.compRegistrar.register("wysiwyg.viewer.components.menus.DropDownMenu",h),p.registerCommonLanguageRequirement("wysiwyg.viewer.components.menus.DropDownMenu",function(t,i){return e.get(i,["properties","dataLang"])}),h}.apply(t,o))||(e.exports=a)},2008:function(e,t,i){var o,a;o=[i(6)],void 0===(a=function(e){"use strict";return e.components.SiteButton}.apply(t,o))||(e.exports=a)},2009:function(e,t,i){var o,a;o=[i(0),i(2)],void 0===(a=function(e,t){"use strict";function i(t,i){var o=i.getSiteData();return!o.isMobileView()||!!function(t){var i=t.getDataByQuery("masterPage");return e.has(i,["mobileSettings","animationsEnabled"])}(o)&&function(e){return e&&(!e.viewMode||"MOBILE"===e.viewMode)}(t)}return{handle:function(o,a,n){var s=a.getSiteData(),r=a.getRuntimeDal(),p=n.group||n.action,l=e(o).filter(function(e){var o=(r.getCompProps(e.targetId)||{}).isCollapsed,n=i(e,a),s=t.animationsService.isAnimationPlayable(a,e);return!o&&n&&s}).map(function(t){return e.omit(e.defaultsDeep({},t,e.find(s.animations.viewerDefaults,{name:t.name})),"action")}).value();e.isEmpty(l)?e.defer(function(){e.get(n,"callback",e.noop)()}):t.animationsService.playAnimations(a,p,l,!0,n.callback||e.noop)},handlePreCondition:function(e,i){t.animationsService.hideElementsByAnimationType(i,[e])},cancelPreCondition:function(e,i){t.animationsService.revertHideElementsByAnimations(i,[e])},isEnabled:i}}.apply(t,o))||(e.exports=a)},2010:function(e,t,i){var o,a;o=[i(2),i(2009)],void 0===(a=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("animation",t)}.apply(t,o))||(e.exports=a)},2011:function(e,t,i){var o,a;o=[i(2),i(15),i(6),i(7),i(169),i(2008),i(2007),i(219),i(2006),i(331),i(602),i(2002),i(2001),i(1999),i(2010),i(1996),i(1993),i(1991),i(1990),i(1989),i(1988),i(1987),i(1986),i(1983),i(603),i(1981),i(131),i(81)],void 0===(a=function(e,t,i,o,a,n,s,r,p,l,c){"use strict";return e.compRegistrar.registerMobxObserver(t.mobxObserverWrapper),e.compRegistrar.register("mobile.core.components.MasterPage",i.components.MasterPage),e.compRegistrar.register("wysiwyg.viewer.components.HeaderContainer",i.components.HeaderContainer),e.compRegistrar.register("wysiwyg.viewer.components.FooterContainer",i.components.FooterContainer),e.compRegistrar.register("wysiwyg.viewer.components.Video",i.components.Video),e.compRegistrar.register("wysiwyg.viewer.components.FiveGridLine",i.components.FiveGridLine),e.compRegistrar.register("wysiwyg.viewer.components.VerticalLine",i.components.VerticalLine),e.compRegistrar.register("wysiwyg.common.components.anchor.viewer.Anchor",i.components.Anchor),e.compRegistrar.register("core.components.Image",i.components.Image),e.compRegistrar.register("core.components.ZoomedImage",i.components.ZoomedImage),e.compRegistrar.register("wysiwyg.viewer.components.ScreenWidthContainer",i.components.ScreenWidthContainer),e.compRegistrar.register("wysiwyg.viewer.components.PagesContainer",i.components.PagesContainer),e.compRegistrar.register("wysiwyg.viewer.components.PageGroup",i.components.PageGroup),e.compRegistrar.register("platform.components.AppWidget",i.components.AppWidget),e.compRegistrar.register("wysiwyg.components.imageZoom",a.imageZoom),e.compRegistrar.register("wysiwyg.components.ImageZoomDisplayer",a.imageZoomDisplayer),e.compRegistrar.register("wysiwyg.viewer.components.MediaZoom",a.mediaZoom),e.compRegistrar.register("wysiwyg.viewer.components.MobileMediaZoom",a.mobileMediaZoom),e.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoom",a.touchMediaZoom),e.compRegistrar.register("wysiwyg.viewer.components.SiteButton",i.components.SiteButton),e.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoomItem",a.touchMediaZoomItem),o.skinsMap.addBatch(i.components.HeaderContainer.getComponentSkins()),o.skinsMap.addBatch(i.components.FooterContainer.getComponentSkins()),o.skinsMap.addBatch(i.components.FiveGridLine.getComponentSkins()),o.skinsMap.addBatch(i.components.VerticalLine.getComponentSkins()),o.skinsMap.addBatch(i.components.Anchor.getComponentSkins()),o.skinsMap.addBatch(i.components.PagesContainer.getComponentSkins()),o.skinsMap.addBatch(i.components.PageGroup.getComponentSkins()),o.skinsMap.addBatch(i.components.Image.getComponentSkins()),o.skinsMap.addBatch(i.components.SiteButton.getComponentSkins()),o.skinsMap.addBatch(i.components.Video.getComponentSkins()),{siteButton:n,dropDownMenu:s,balata:r,infoTip:p,mediaCommon:l,translationRequirementsChecker:c}}.apply(t,o))||(e.exports=a)},219:function(e,t,i){var o,a;o=[i(5),i(0),i(3),i(2),i(1),i(4),i(81)],void 0===(a=function(e,t,i,o,a,n,s){"use strict";var r=o.compMixins,p=a.containerBackgroundUtils,l=a.mediaConsts,c=l.balataConsts,d={comp:"wysiwyg.viewer.components.background.bgMedia",skin:"skins.viewer.bgMedia.bgMediaSkin",style:"bgMedia",ref:c.MEDIA},u={ref:c.MEDIA_PADDING},h={comp:"wysiwyg.viewer.components.background.bgOverlay",skin:"skins.viewer.bgOverlay.bgOverlaySkin",style:"bgOverlay",ref:c.OVERLAY},m={comp:"wysiwyg.viewer.components.background.bgOverlay",skin:"skins.viewer.bgOverlay.bgOverlaySkin",style:"bgColor",ref:c.BG_COLOR};function y(e,i,o){var a=i[c[e]]||{},n=t.get(o,["transforms",e],{}),s=t.merge({},a,n),r={};return s.opacity&&(r.opacity=s.opacity,s=t.omit(s,"opacity")),t.isEmpty(s)||(r.transform=t.reduce(s,function(e,t,i){return e+=i+"("+t+") "},"")),r}function g(e,i,a){var n=t.get(e.compProp.mediaBackgroundPadding,"top",0),s=t.get(e.compProp.mediaBackgroundPadding,"bottom",0),r={key:u.ref,id:e.id+u.ref,ref:u.ref,style:{position:"absolute",width:"100%",height:"calc(100% - "+n+"px - "+s+"px)",top:n,bottom:s}};return t.assign(r.style,function(e,t){return k(e,t)&&e.clipParallaxWithWebkitClipPath?{clipPath:l.clipPathPolygonSquare,WebkitClipPath:l.clipPathPolygonSquare}:{}}(e,i)),o.createReactElement("div",r,a)}function f(e){return t.get(e.compDesign,"background",t.get(e.compData,"background",{}))}function v(e,i,o,a){if(t.isEmpty(o))return null;var n=[],s=[];return n.push(function(e,t,i,o){var a={skin:m.skin,styleId:m.style},n={style:y(c.UNDERLAY,i,t),colorOverlay:i.color,colorOverlayOpacity:function(e,t){return!t||"WixVideo"!==t.type&&"Video"!==t.type?e:0}(i.colorOpacity,i.mediaRef),bgEffectName:o,id:e.id+m.ref,ref:m.ref};return this.createChildComponent(null,m.comp,a,n)}.call(this,e,i,o,a)),t.isEmpty(o.mediaRef)||s.push(function(e,t,i,o){var a={skin:d.skin,styleId:d.style},n={key:d.ref,style:y(c.MEDIA,i,t),id:e.id+d.ref,ref:d.ref,bgEffectName:o,filterEffect:i.filterEffect,fittingType:i.fittingType,alignType:i.alignType,mediaTransforms:i.mediaTransforms,enableVideo:e.enableVideo,notifyMediaState:e.notifyMediaState,mediaQuality:e.mediaQuality,renderParts:e.renderParts,playbackFormat:e.playbackFormat,playbackConfig:e.playbackConfig,playbackUrl:e.playbackUrl,setMediaAPI:e.setMediaAPI,compProp:e.compProp,isPlayingAllowed:e.isPlayingAllowed};return this.createChildComponent(i.mediaRef,d.comp,a,n)}.call(this,e,i,o,a)),function(e){var t=e.mediaRef,i=e.imageOverlay||e.colorOverlay,o=e.showOverlayForMediaType||"WixVideo",a=t&&("all"===o||o===t.type);return!(!i||!a)}(o)&&s.push(function(e,i,o,a){var n={skin:h.skin,styleId:h.style},s={key:h.ref,style:y(c.OVERLAY,o,i),colorOverlay:o.colorOverlay,colorOverlayOpacity:o.colorOverlayOpacity,imageOverlay:o.imageOverlay,bgEffectName:a,blendMode:t.get(o.overlayBlending,"blendMode"),blendModeOpacity:t.get(o.overlayBlending,"opacity"),id:e.id+h.ref,ref:h.ref};return this.createChildComponent(null,h.comp,n,s)}.call(this,e,i,o,a)),b(e)?n.push(g(e,a,s)):n=n.concat(s),n}function b(e){var i=t.get(e.compProp,"mediaBackgroundPadding",{}),o=i.top,a=void 0===o?0:o,n=i.bottom;return!(!a&&!(void 0===n?0:n))&&e.enableBackgroundPadding}function k(e,t){return n.containerBackgroundUtils.isFullScreenByEffect(t,!0)}var P={displayName:"Balata",mixins:[r.skinBasedComp,r.createChildComponentMixin],propTypes:t.defaults({id:e.string.isRequired,parentId:e.string.isRequired,compData:e.object,compDesign:e.object,compProp:e.object,compBehaviors:e.array,style:e.object,onClick:e.func,isDesktopDevice:i.Types.Device.isDesktopDevice.isRequired,isMobileView:i.Types.isMobileView.isRequired,designDataChangeAspect:i.Types.SiteAspects.designDataChangeAspect.isRequired,renderFixedPositionBackgrounds:i.Types.RenderFlags.renderFixedPositionBackgrounds,clipParallaxWithWebkitClipPath:i.Types.BrowserFlags.clipParallaxWithWebkitClipPath,fixedBackgroundColorBalata:i.Types.BrowserFlags.fixedBackgroundColorBalata.isRequired,isPlayingAllowed:e.PropTypes.bool,enableVideo:e.PropTypes.bool,enableBackgroundPadding:e.PropTypes.bool,notifyMediaState:e.PropTypes.func,setMediaAPI:e.PropTypes.func,mediaQuality:e.PropTypes.string,playbackFormat:e.PropTypes.string,playbackConfig:e.PropTypes.object,playbackUrl:e.PropTypes.string,renderParts:e.PropTypes.object},i.santaTypesUtils.getSantaTypesByDefinition(s.components.bgMedia),i.santaTypesUtils.getSantaTypesByDefinition(s.components.bgOverlay)),getInitialState:function(){return{transforms:{}}},componentWillReceiveProps:function(e){this.handleDesignDataBehaviors(e)},handleDesignDataBehaviors:function(e){var t=f(e),i=f(this.props);(this.setState({transforms:{}}),i.id!==t.id)&&this.props.designDataChangeAspect.notify(this.props.parentId,this.props.compDesign,e.compDesign)},getSkinProperties:function(){var e=f(this.props),i=p.getBgEffectName(this.props.compBehaviors,this.props.isDesktopDevice,this.props.isMobileView),o=v.call(this,this.props,this.state,e,i),a=function(e){return b(e)&&!e.fixedBackgroundColorBalata||!e.clipParallaxWithWebkitClipPath?{}:{clipPath:l.clipPathPolygonSquare,WebkitClipPath:l.clipPathPolygonSquare}}(this.props);return{"":{style:t.assign({position:"absolute",top:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:i?"none":"auto"},a,this.props.style),children:o,onClick:this.props.onClick,key:"balata_"+i,"data-page-id":this.props.rootId,"data-enable-video":this.props.enableVideo?"true":"","data-bg-effect-name":i||"","data-media-type":t.get(e,["mediaRef","type"],""),"data-media-video-type":t.get(e,["mediaRef","videoType"],""),"data-render-fixed-position":this.props.renderFixedPositionBackgrounds||"","data-use-clip-path":this.props.clipParallaxWithWebkitClipPath||"","data-needs-clipping":k(this.props,i)}}},getDefaultSkinName:function(){return"skins.viewer.balata.balataBaseSkin"}};return o.compRegistrar.register("wysiwyg.viewer.components.background.Balata",P),P}.apply(t,o))||(e.exports=a)},27:function(e,t){e.exports=u},3:function(e,t){e.exports=o},31:function(e,t){e.exports=h},331:function(e,t,i){var o,a;o=[i(0),i(4),i(219),i(2004),i(2003)],void 0===(a=function(e,t,i,o,a){"use strict";var n=t.mediaConsts;return{balata:i,defaultMediaStyle:n.defaultMediaStyle,popupMediaStyle:n.popupMediaStyle,mediaLogicMixins:{fill:o,mediaPlayer:a},mediaBehaviors:{fill:{play:{methodName:"playMedia",params:[{name:"time",defaultValue:-1}]},playPreview:{methodName:"playPreview"},pause:{methodName:"pauseMedia",params:[{name:"time",defaultValue:-1}]},stop:{methodName:"stopMedia"}},mediaPlayer:{togglePlay:{methodName:"togglePlayMedia"},play:{methodName:"playMedia",params:[{name:"time",defaultValue:-1}]},playPreview:{methodName:"previewMedia"},pause:{methodName:"pauseMedia",params:[{name:"time",defaultValue:-1}]},stop:{methodName:"stopMedia"},setVolume:{methodName:"setMediaVolume",params:["volume"]},mute:{methodName:"muteMedia"},unMute:{methodName:"unMuteMedia"},seek:{methodName:"seekMedia",params:["time"]},seekStart:{methodName:"startSeekMedia"},seekEnd:{methodName:"endSeekMedia",params:["time"]},enterFullScreen:{methodName:"enterFullscreen"},exitFullScreen:{methodName:"exitFullscreen"}}}}}.apply(t,o))||(e.exports=a)},34:function(e,t){e.exports=m},4:function(e,t){e.exports=a},5:function(e,t){e.exports=n},6:function(e,t){e.exports=s},602:function(e,t,i){var o,a;o=[i(0),i(4),i(2)],void 0===(a=function(e,t,i){"use strict";return{registerCommonLanguageRequirement:function(o,a){i.dataRequirementsChecker.registerCheckerForCompType(o,function(i,n){var s=a(i,n);return e.compact([t.translationsLoader.getRequest(i,s,{initiator:o})])})}}}.apply(t,o))||(e.exports=a)},603:function(e,t,i){var o,a;o=[i(0),i(6),i(5),i(2),i(12),i(3),i(1)],void 0===(a=function(e,t,i,o,a,n,s){"use strict";var r=o.compMixins;var p={displayName:"MenuButton",propTypes:{isMobileView:n.Types.isMobileView,isMobileDevice:n.Types.Device.isMobileDevice,isTabletDevice:n.Types.Device.isTabletDevice,compProp:n.Types.Component.compProp,compData:n.Types.Component.compData,style:n.Types.Component.style,refInParent:i.string.isRequired,isContainer:i.bool,isSelected:i.bool,display:i.string,positionInList:i.string,dir:i.string,mouseEnterHandler:i.func.isRequired,mouseLeaveHandler:i.func.isRequired,onMouseClick:i.func.isRequired,isDropDownButton:i.bool,parentId:i.string},mixins:[r.skinBasedComp,r.skinInfo],getInitialState:function(){return{$container:this.props.isContainer?"drop":"menu",$selected:this.props.isSelected?"selected":"",$state:"idle",$type:this.props.compData.link?"link":"header",$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice?"mobile":"notMobile"}},componentWillReceiveProps:function(e){this.setState({$selected:e.isSelected?"selected":""})},getSkinProperties:function(){var i=this.props.compData,o=this.props.compProp.alignText,a={parentConst:t.utils.createReactElement.bind(null,"a"),onClick:this.onMouseClick,role:"button",tabIndex:this.props.isDropDownButton?"-1":"0","aria-haspopup":this.props["aria-haspopup"],"data-listposition":this.props.positionInList};return"mobile"!==this.state.$mobile&&e.assign(a,{onMouseEnter:this.openSubMenu,onMouseLeave:this.closeSubMenu,onFocus:this.openSubMenu,onBlur:this.closeSubMenu,onKeyDown:s.accessibility.keyboardInteractions.activateBySpaceButton}),i.link&&e.merge(a,i.link.render),{"":{tagName:this.props.tagName||"div","data-direction":this.props.direction,"data-listposition":this.props.positionInList,"data-parent-id":this.props.parentId,"data-data-id":this.props.dataId},linkElement:a,bg:{style:{textAlign:o}},label:{children:function(e){return(e=e&&e.trim())||""}(i.label),dir:this.props.dir,style:{textAlign:o}}}},openSubMenu:function(){(this.props.compData.link||"__more__"===this.props.refInParent)&&this.setState({$state:"over"});var e=a.findDOMNode(this);this.props.mouseEnterHandler(this.props.refInParent,e.getAttribute("data-listposition"))},closeSubMenu:function(){this.props.isDropDownButton&&this.setIdleState(),this.props.mouseLeaveHandler(this.props.refInParent)},onMouseClick:function(e){"notMobile"!==this.state.$mobile&&this.props.onMouseClick(e,this.props.refInParent,this.props.isDropDownButton)},setIdleState:function(){this.setState({$state:"idle"})}};return o.compRegistrar.register("core.components.MenuButton",p),p}.apply(t,o))||(e.exports=a)},65:function(e,t){e.exports=y},7:function(e,t){e.exports=r},8:function(e,t){e.exports=p},81:function(e,t){e.exports=g},94:function(e,t){e.exports=f}})});
//# sourceMappingURL=components.min.js.map