function processRatingClick(n){var t=jQuery;t.PANTONE.CustomerFeedback.processRating(n)}function processCommentClick(n){var t=jQuery;t.PANTONE.CustomerFeedback.processComment(n)}function processVerboseFeedbackKeyUp(){var n=jQuery;n.PANTONE.CustomerFeedback.processTextChange()}function processVerboseFeedbackChange(){var n=jQuery;n.PANTONE.CustomerFeedback.processTextChange()}function processVerboseFeedbackFocus(){var n=jQuery;n.PANTONE.CustomerFeedback.processTextChange()}var vocFeedbackId,ratingPanelID="ratingPanel",commentPanelID="commentPanel",thankPanelID="thankPanel";jQuery.noConflict(),function(n){n.PANTONE=n.PANTONE||{};n.PANTONE.CustomerFeedback={processRating:function(t){var i=this,r=n("body").find("font"),u,f,e,o;return u=r.length?r.text():"",vocFeedbackId=i.createFeedbackId(),i.processFeedbackLog({Rating:[{rate:t,FeedbackId:vocFeedbackId,sPageURL:(location.pathname+location.search).substr(1),sPageInfo:u}]}),f=n("#"+ratingPanelID)[0],e=n("#"+commentPanelID)[0],t=="0"?(n("#commentPromptLabel")[0].innerHTML=n("#commentNoPrompt")[0].innerHTML,n("#commentYesButton")[0].value=n("#commentNoYesString")[0].innerHTML,n("#commentNoButton")[0].value=n("#commentNoNoString")[0].innerHTML):t=="0.5"&&(n("#commentPromptLabel")[0].innerHTML=n("#commentSomewhatPrompt")[0].innerHTML,n("#commentYesButton")[0].value=n("#commentSomewhatYesString")[0].innerHTML,n("#commentNoButton")[0].value=n("#commentSomewhatNoString")[0].innerHTML),f.style.display="none",e.style.display="block",o=n("#commentVerboseText")[0],o.focus(),!1},createFeedbackId:function(){var n=this;return n.createRandomFourDigitHex()+n.createRandomFourDigitHex()+"-"+n.createRandomFourDigitHex()+"-"+n.createRandomFourDigitHex()+"-"+n.createRandomFourDigitHex()+"-"+n.createRandomFourDigitHex()+n.createRandomFourDigitHex()+n.createRandomFourDigitHex()},createRandomFourDigitHex:function(){var n=Math.floor(Math.random()*65536).toString(16),t=n.length;return t==4||(n=t==3?"0"+n:t==2?"00"+n:"000"+n),n},processComment:function(t){var f=this,i=n("#commentVerboseText")[0],r,u;return t=="1"&&i.value.length>0&&f.processFeedbackLog({Feedback:[{Verbatim:i.value,FeedbackId:vocFeedbackId}]}),r=n("#"+commentPanelID)[0],u=n("#"+thankPanelID)[0],r.style.display="none",u.style.display="block",!1},processDocumentLoaded:function(){var r=this,i=n(".feedbackRatingButton:disabled"),t;if(i)for(t=0;t<i.length;t++)i[t].removeAttribute("disabled");n(".feedbackCommentVerboseText").bind("paste",r.processVerboseFeedbackPaste)},processVerboseFeedbackPaste:function(){var n=this;window.setTimeout(n.processTextChange,200)},processTextChange:function(){var f=5,t=n("#commentVerboseText")[0],e=parseInt(n("#commentMaxSize")[0].innerHTML),h=parseInt(n("#commentMaxEncodedSize")[0].innerHTML);t.value.length>e&&(t.value=t.value.substr(0,e));var i=escape(t.value),c=i.length,r=h-f;if(c>r){var o=i.substr(0,r),u=i.substr(r,f),s=u.lastIndexOf("%");o+=s==-1?u:u.substr(0,s);t.value=unescape(o)}},processFeedbackLog:function(t){n.ajax({url:"../../webServices/webservices.asmx/LogFeedback",beforeSend:function(){},data:{jsonString:JSON.stringify(t)},success:function(t){var r=n(t).find("string").text(),i=jQuery.parseJSON(r);i.Result>0||(i.ErrorMessage==""?n("#thankPanel").text("There was an error. Your message cannot be sent at this time."):n(".errorMsg").text(i.ErrorMessage))},error:function(n,t){alert("Request failed: "+t)}})},getValues:function(){}}}(jQuery);
//# sourceMappingURL=Pantone.CustomerFeedback.min.js.map
